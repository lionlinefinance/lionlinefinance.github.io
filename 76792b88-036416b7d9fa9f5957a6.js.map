{"version":3,"file":"76792b88-036416b7d9fa9f5957a6.js","mappings":";gHAAA,EAAQ,MAQC,SAAUA,GACjB,aAcA,IAAIC,EAAU,WAaZ,OAZAA,EAAUC,OAAOC,QAAU,SAAkBC,GAC3C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAG9C,IAAK,IAAII,KAFTL,EAAIG,UAAUF,GAGRJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,IAI7D,OAAON,GAGFH,EAAQa,MAAMC,KAAMP,YAG7B,SAASQ,EAAUC,EAASC,EAAYC,EAAGC,GACzC,SAASC,EAAMC,GACb,OAAOA,aAAiBH,EAAIG,EAAQ,IAAIH,GAAE,SAAUI,GAClDA,EAAQD,MAIZ,OAAO,IAAKH,IAAMA,EAAIK,WAAU,SAAUD,EAASE,GACjD,SAASC,EAAUJ,GACjB,IACEK,EAAKP,EAAUQ,KAAKN,IACpB,MAAOO,GACPJ,EAAOI,IAIX,SAASC,EAASR,GAChB,IACEK,EAAKP,EAAiB,MAAEE,IACxB,MAAOO,GACPJ,EAAOI,IAIX,SAASF,EAAKI,GACZA,EAAOC,KAAOT,EAAQQ,EAAOT,OAASD,EAAMU,EAAOT,OAAOW,KAAKP,EAAWI,GAG5EH,GAAMP,EAAYA,EAAUN,MAAMG,EAASC,GAAc,KAAKU,WAIlE,SAASM,EAAYjB,EAASkB,GAC5B,IASIC,EACAC,EACAjC,EACAkC,EAZAC,EAAI,CACNC,MAAO,EACPC,KAAM,WACJ,GAAW,EAAPrC,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEXsC,KAAM,GACNC,IAAK,IAMP,OAAOL,EAAI,CACTV,KAAMgB,EAAK,GACX,MAASA,EAAK,GACd,OAAUA,EAAK,IACI,mBAAXC,SAA0BP,EAAEO,OAAOC,UAAY,WACvD,OAAO/B,OACLuB,EAEJ,SAASM,EAAKrC,GACZ,OAAO,SAAUwC,GACf,OAAOpB,EAAK,CAACpB,EAAGwC,KAIpB,SAASpB,EAAKqB,GACZ,GAAIZ,EAAG,MAAM,IAAIa,UAAU,mCAE3B,KAAOV,GACL,IACE,GAAIH,EAAI,EAAGC,IAAMjC,EAAY,EAAR4C,EAAG,GAASX,EAAU,OAAIW,EAAG,GAAKX,EAAS,SAAOjC,EAAIiC,EAAU,SAAMjC,EAAES,KAAKwB,GAAI,GAAKA,EAAET,SAAWxB,EAAIA,EAAES,KAAKwB,EAAGW,EAAG,KAAKhB,KAAM,OAAO5B,EAG3J,OAFIiC,EAAI,EAAGjC,IAAG4C,EAAK,CAAS,EAARA,EAAG,GAAQ5C,EAAEkB,QAEzB0B,EAAG,IACT,KAAK,EACL,KAAK,EACH5C,EAAI4C,EACJ,MAEF,KAAK,EAEH,OADAT,EAAEC,QACK,CACLlB,MAAO0B,EAAG,GACVhB,MAAM,GAGV,KAAK,EACHO,EAAEC,QACFH,EAAIW,EAAG,GACPA,EAAK,CAAC,GACN,SAEF,KAAK,EACHA,EAAKT,EAAEI,IAAIO,MAEXX,EAAEG,KAAKQ,MAEP,SAEF,QACE,MAAkB9C,GAAZA,EAAImC,EAAEG,MAAYjC,OAAS,GAAKL,EAAEA,EAAEK,OAAS,KAAkB,IAAVuC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CACtFT,EAAI,EACJ,SAGF,GAAc,IAAVS,EAAG,MAAc5C,GAAK4C,EAAG,GAAK5C,EAAE,IAAM4C,EAAG,GAAK5C,EAAE,IAAK,CACvDmC,EAAEC,MAAQQ,EAAG,GACb,MAGF,GAAc,IAAVA,EAAG,IAAYT,EAAEC,MAAQpC,EAAE,GAAI,CACjCmC,EAAEC,MAAQpC,EAAE,GACZA,EAAI4C,EACJ,MAGF,GAAI5C,GAAKmC,EAAEC,MAAQpC,EAAE,GAAI,CACvBmC,EAAEC,MAAQpC,EAAE,GAEZmC,EAAEI,IAAIQ,KAAKH,GAEX,MAGE5C,EAAE,IAAImC,EAAEI,IAAIO,MAEhBX,EAAEG,KAAKQ,MAEP,SAGJF,EAAKb,EAAKtB,KAAKI,EAASsB,GACxB,MAAOV,GACPmB,EAAK,CAAC,EAAGnB,GACTQ,EAAI,EACJ,QACAD,EAAIhC,EAAI,EAIZ,GAAY,EAAR4C,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CACL1B,MAAO0B,EAAG,GAAKA,EAAG,QAAK,EACvBhB,MAAM,IAKZ,SAASoB,EAASC,GAChB,IAAIhD,EAAsB,mBAAXwC,QAAyBA,OAAOC,SAC3CQ,EAAIjD,GAAKgD,EAAEhD,GACXC,EAAI,EACR,GAAIgD,EAAG,OAAOA,EAAEzC,KAAKwC,GACrB,GAAIA,GAAyB,iBAAbA,EAAE5C,OAAqB,MAAO,CAC5CmB,KAAM,WAEJ,OADIyB,GAAK/C,GAAK+C,EAAE5C,SAAQ4C,OAAI,GACrB,CACL/B,MAAO+B,GAAKA,EAAE/C,KACd0B,MAAOqB,KAIb,MAAM,IAAIJ,UAAU5C,EAAI,0BAA4B,mCAGtD,SAASkD,EAAOF,EAAG9C,GACjB,IAAI+C,EAAsB,mBAAXT,QAAyBQ,EAAER,OAAOC,UACjD,IAAKQ,EAAG,OAAOD,EACf,IACIG,EAEA3B,EAHAvB,EAAIgD,EAAEzC,KAAKwC,GAEXI,EAAK,GAGT,IACE,WAAc,IAANlD,GAAgBA,KAAM,MAAQiD,EAAIlD,EAAEsB,QAAQI,MAClDyB,EAAGN,KAAKK,EAAElC,OAEZ,MAAOoC,GACP7B,EAAI,CACF6B,MAAOA,GAET,QACA,IACMF,IAAMA,EAAExB,OAASsB,EAAIhD,EAAU,SAAIgD,EAAEzC,KAAKP,GAC9C,QACA,GAAIuB,EAAG,MAAMA,EAAE6B,OAInB,OAAOD,EAGT,SAASE,EAAcC,EAAIC,EAAMC,GAC/B,GAAIA,GAA6B,IAArBtD,UAAUC,OAAc,IAAK,IAA4BgD,EAAxBnD,EAAI,EAAGyD,EAAIF,EAAKpD,OAAYH,EAAIyD,EAAGzD,KAC1EmD,GAAQnD,KAAKuD,IACVJ,IAAIA,EAAKO,MAAMrD,UAAUsD,MAAMpD,KAAKgD,EAAM,EAAGvD,IAClDmD,EAAGnD,GAAKuD,EAAKvD,IAGjB,OAAOsD,EAAGM,OAAOT,GAAMO,MAAMrD,UAAUsD,MAAMpD,KAAKgD,IAGpD,IAAIM,EAAc,CAChBC,YAAa,cACbC,uBAAwB,yBACxBC,wBAAyB,0BACzBC,4BAA6B,8BAC7BC,mBAAoB,qBACpBC,aAAc,eACdC,gBAAiB,kBACjBC,cAAe,gBACfC,qBAAsB,uBACtBC,eAAgB,iBAChBC,iCAAkC,mCAClCC,iCAAkC,mCAClCC,6BAA8B,+BAC9BC,6BAA8B,+BAC9BC,2BAA4B,6BAC5BC,2BAA4B,6BAC5BC,aAAc,eACdC,sBAAuB,wBACvBC,WAAY,aACZC,kBAAmB,oBACnBC,oBAAqB,sBACrBC,kBAAmB,oBACnBC,qBAAsB,uBACtBC,cAAe,gBACfC,sBAAuB,wBACvBC,YAAa,cACbC,UAAW,YACXC,kBAAmB,oBACnBC,aAAc,eACdC,cAAe,gBACfC,uBAAwB,yBACxBC,iBAAkB,mBAClBC,gBAAiB,kBACjBC,gBAAiB,kBACjBC,gBAAiB,kBACjBC,uBAAwB,yBACxBC,SAAU,YAERC,EAAiC,oBAAdC,UAA4B,iBAAmBA,UAAUD,UAAUE,cACtFC,EAAgC,oBAAdF,UAA4B,gBAAkBA,UAAUE,SAASD,cACnFE,EAAaJ,EAAUK,SAAS,WAAaL,EAAUK,SAAS,YAChEC,EAAgBN,EAAUK,SAAS,eACnCE,EAAYP,EAAUK,SAAS,YAAcC,EACjDN,EAAUK,SAAS,WACnBL,EAAUK,SAAS,aACnBL,EAAUK,SAAS,QAAUL,EAAUK,SAAS,SAChDL,EAAUK,SAAS,OACnB,IAAIG,EAAWR,EAAUK,SAAS,YAAcD,EAC5CK,EAAYN,EAASO,WAAW,OAChCC,EAAUR,EAASO,WAAW,OAClCV,EAAUK,SAAS,UACnB,IAIMxD,EAJF+D,EAA6C,mBAAfC,WAC9BC,EAAqE,mBAAnBC,gBAAsF,mBAA9CA,eAAe7G,UAAU8G,kBAGjHnE,EAAImD,EAAUiB,MAAM,2BAEfpE,EAAE,IACFA,EAAE,GAMb,IAAIqE,EAA6B,WAC/B,IAEE,OADAC,SAASC,cAAc,aAChB,EACP,MAAOC,GACP,OAAO,GALsB,GAWjC,SAASC,EAAcC,EAAKC,EAAUC,GACpC,OAAOlH,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAIoH,EACJ,OAAOjG,EAAYnB,MAAM,SAAUqH,GACjC,OAAQA,EAAG5F,OACT,KAAK,EACH,MAAO,CAAC,EAAG6F,MAAML,EAAK,CACpBM,MAAO,cACPC,YAAa,OACbC,SAAUN,KAGd,KAAK,EAGH,GAFAC,EAAWC,EAAG3F,OAEVuE,GAA0B,aAAbiB,GAA2BD,EAAIb,WAAW,qBAAuBa,EAAIS,SAAS,QAC7F,MAAO,CAAC,EAAGN,GAGb,GAAIF,IAAaE,EAASO,QAAQC,IAAI,gBAAgBxB,WAAWc,GAC/D,MAAM,IAAIW,MAAM,mCAAqCZ,GAGvD,IAAKG,EAASU,GACZ,MAAM,IAAID,MAAM,kBAAoBZ,EAAM,IAAMG,EAASW,OAAS,IAAMX,EAASY,YAGnF,MAAO,CAAC,EAAGZ,UAMrB,SAASa,EAAchB,EAAKC,GAC1B,OAAOjH,EAAUD,UAAM,OAAQ,GAAQ,WAErC,OAAOmB,EAAYnB,MAAM,SAAUqH,GACjC,OAAQA,EAAG5F,OACT,KAAK,EACH,MAAO,CAAC,EAAGuF,EAAcC,EAAKC,IAEhC,KAAK,EAEH,MAAO,CAAC,EAAGgB,EADAb,EAAG3F,SAGhB,KAAK,EACH,MAAO,CAAC,EAAG2F,EAAG3F,eAMxB,SAASwG,EAAsBd,GAC7B,OAAOnH,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAImI,EACJ,OAAOhH,EAAYnB,MAAM,SAAUqH,GACjC,OAAQA,EAAG5F,OACT,KAAK,EACH,MAAO,CAAC,EAAG2F,EAASe,QAEtB,KAAK,EAEH,OADAA,EAAOd,EAAG3F,OACH,CAAC,EAAG,IAAIjB,SAAQ,SAAUD,GAC/B,IAAI4H,EAAS,IAAIC,WAEjBD,EAAOE,UAAY,WACjB,OAAO9H,EAAQ4H,EAAOpH,SAGxBoH,EAAOG,cAAcJ,OAGzB,KAAK,EAEH,MAAO,CAAC,EADEd,EAAG3F,eA3EvB8G,WAAWC,QAAUD,WAAWC,OAAOC,SAAWF,WAAWC,OAAOC,QAAQC,aAAeH,WAAWC,OAAOC,QAAQC,cAAcC,iBAkFnI,IAAIC,EAAiB,SAAwB5B,GAC3C,OAAOhH,OAAU,OAAQ,OAAQ,GAAQ,WACvC,OAAOkB,EAAYnB,MAAM,SAAUqH,GACjC,MAAO,CAAC,EAAG5G,QAAQC,OAAO,IAAImH,MAAM,CAAC,6DAA8DZ,EAAK,8CAA+C,mEAAoE,yDAA0D,uCAAuC6B,KAAK,eAKnUC,EAAUF,EAEd,SAASG,EAAiB1B,GAEtByB,EADEzB,GAGQuB,EAId,SAASI,EAAgBhC,GACvB,OAAOhH,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOmB,EAAYnB,MAAM,SAAUqH,GACjC,OAAQA,EAAG5F,OACT,KAAK,EACH,MAAO,CAAC,EAAGsH,EAAQ9B,IAErB,KAAK,EACH,MAAO,CAAC,EAAGI,EAAG3F,eAMnBwH,OAAOT,SACVS,OAAOT,OAAS,IAGbA,OAAOC,UACVD,OAAOC,QAAU,IAGnB,IAAIS,EAAmB,IAAIC,IAE3B,SAASC,IAGP,IAFA,IAAIC,EAAO,GAEFC,EAAK,EAAGA,EAAK9J,UAAUC,OAAQ6J,IACtCD,EAAKC,GAAM9J,UAAU8J,GAGvB,OAAOtJ,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAIwJ,EAAMnC,EAAIJ,EAAKwC,EAAcrC,EAAUsC,EAAQC,EAEnD,OAAOxI,EAAYnB,MAAM,SAAU4J,GACjC,OAAQA,EAAGnI,OACT,KAAK,EACH,IAAM6H,EAAK,IAAMA,EAAK,GAAGO,OAASzG,EAAYqC,SAAW,MAAO,CAAC,EAAG,GACpE+D,EAAOF,EAAK,GAAGQ,GACfF,EAAGnI,MAAQ,EAEb,KAAK,EAIH,OAHAmI,EAAGjI,KAAKS,KAAK,CAAC,EAAG,EAAE,CAAE,IAErBiF,EAAKiC,EAAK,GAAGS,KAAM9C,EAAMI,EAAGJ,IAAKwC,EAAepC,EAAGoC,aAC5C,CAAC,EAAGR,EAAgBhC,IAE7B,KAAK,EAEH,OADAG,EAAWwC,EAAGlI,OACS,aAAjB+H,EAAqC,CAAC,EAAG,GACxC,CAAC,EAAGvB,EAAsBd,IAEnC,KAAK,EAEH,OADAsC,EAASE,EAAGlI,OACL,CAAC,EAAG,GAEb,KAAK,EACH,MAAO,CAAC,EAAG0F,EAAS4C,QAEtB,KAAK,EACHN,EAASE,EAAGlI,OACZkI,EAAGnI,MAAQ,EAEb,KAAK,EASH,OARA0H,EAAiBc,SAAQ,SAAUC,GACjC,OAAOA,EAAG,CACRL,KAAMzG,EAAY4B,kBAClB+E,KAAML,EACN/G,MAAO,KACPmH,GAAIN,OAGD,CAAC,EAAG,GAEb,KAAK,EAWH,OAVAG,EAAUC,EAAGlI,OACbyI,QAAQxH,MAAMgH,GACdR,EAAiBc,SAAQ,SAAUC,GACjC,OAAOA,EAAG,CACRL,KAAMzG,EAAY4B,kBAClB+E,KAAM,KACNpH,MAAOgH,EACPG,GAAIN,OAGD,CAAC,EAAG,GAEb,KAAK,EACH,MAAO,CAAC,UAMlB,SAASY,EAAmBC,GAC1BlB,EAAiBmB,IAAID,GAGvB,GAA0C,mBAA/B5B,OAAOC,QAAQW,YAA4B,CACpD,IAAIkB,EAAsB9B,OAAOC,QAAQW,YAEzCZ,OAAOC,QAAQW,YAAc,WAG3B,IAFA,IAAIC,EAAO,GAEFC,EAAK,EAAGA,EAAK9J,UAAUC,OAAQ6J,IACtCD,EAAKC,GAAM9J,UAAU8J,GAGvBF,EAAYtJ,WAAM,EAAQ6C,EAAc,GAAIJ,EAAO8G,IAAO,IAC1DiB,EAAoBxK,MAAM0I,OAAOC,QAASY,SAG5Cb,OAAOC,QAAQW,YAAcA,EAO/B,GAJKZ,OAAOC,QAAQ8B,YAClB/B,OAAOC,QAAQ8B,UAAY,IAGuB,mBAAzC/B,OAAOC,QAAQ8B,UAAUC,YAA4B,CAC9D,IAAIC,EAAsBjC,OAAOC,QAAQ8B,UAAUC,YAEnDhC,OAAOC,QAAQ8B,UAAUC,YAAc,WAGrC,IAFA,IAAInB,EAAO,GAEFC,EAAK,EAAGA,EAAK9J,UAAUC,OAAQ6J,IACtCD,EAAKC,GAAM9J,UAAU8J,GAGvBa,EAAmBd,EAAK,IACxBoB,EAAoB3K,MAAM0I,OAAOC,QAAQ8B,UAAWlB,SAGtDb,OAAOC,QAAQ8B,UAAUC,YAAc,WAGrC,IAFA,IAAInB,EAAO,GAEFC,EAAK,EAAGA,EAAK9J,UAAUC,OAAQ6J,IACtCD,EAAKC,GAAM9J,UAAU8J,GAGvB,OAAOa,EAAmBd,EAAK,KAInC,IAAIqB,EAAe,CACjBC,UAAW,YACXC,UAAW,YACXC,YAAa,cACbC,aAAc,gBAEZC,EAAiB,CACnBC,WAAY,CACVC,WAAY,UACZlB,KAAM,WAERmB,YAAa,CACXD,WAAY,UACZlB,KAAM,YAGNoB,EAAgB,CAClBC,KAAM,EACNC,WAAY,IACZC,SAAU,IACVC,UAAW,EACXC,MAAO,EACPC,SAAS,EACTC,WAAYtF,EAAU,iBAAmBF,EAAY,WAAa,YAClEyF,WAAY,EACZC,OAAQlB,EAAaI,aACrBe,WAAY,GACZC,0BAA2Bf,EAAeC,WAAWC,WACrDc,oBAAqBhB,EAAeC,WAAWjB,KAC/CiC,2BAA4BjB,EAAeG,YAAYD,WACvDgB,qBAAsBlB,EAAeG,YAAYnB,KACjDmC,eAAgB9F,EAAU,GAAK,OAC/B+F,eAAgB,OAChBC,qBAAqB,EACrBC,iBAAkB,UAClBC,gBAAiB,WAGnB,SAASC,EAAYC,GACnB,OAAuB,MAAhBA,EAAM/M,OAGf,SAASuK,EAAQwC,EAAO1K,GACtB,IAAI2K,EAAKrF,EAET,GAAImF,EAAYC,GACd,IAAK,IAAIlN,EAAI,EAAGoN,EAAMF,EAAM/M,OAAQH,EAAIoN,EAAKpN,IAC3CwC,EAAS0K,EAAMlN,SAGjB,IACE,IAAK,IAAIqN,EAAUvK,EAASoK,GAAQI,EAAYD,EAAQ/L,QAASgM,EAAU5L,KAAM4L,EAAYD,EAAQ/L,OAEnGkB,EADW8K,EAAUtM,OAGvB,MAAOuM,GACPJ,EAAM,CACJ/J,MAAOmK,GAET,QACA,IACMD,IAAcA,EAAU5L,OAASoG,EAAKuF,EAAQG,SAAS1F,EAAGvH,KAAK8M,GACnE,QACA,GAAIF,EAAK,MAAMA,EAAI/J,QAM3B,SAASP,EAAK4K,EAAOC,GACnBhD,EAAQgD,GAAU,SAAUC,GAC1B,OAAOF,EAAM5K,KAAK8K,MAItB,SAASC,EAAQV,GAGf,IAFA,IAAIW,EAAU,GAEL7N,EAAI,EAAGoN,EAAMF,EAAM/M,OAAQH,EAAIoN,EAAKpN,IAC3C6N,EAAQhL,KAAKqK,EAAMlN,IAGrB,OAAO6N,EAGT,SAASC,IAGP,IAFA,IAAI/D,EAAO,GAEFC,EAAK,EAAGA,EAAK9J,UAAUC,OAAQ6J,IACtCD,EAAKC,GAAM9J,UAAU8J,GAIzB,SAAS+D,IAGP,IAFA,IAAIhE,EAAO,GAEFC,EAAK,EAAGA,EAAK9J,UAAUC,OAAQ6J,IACtCD,EAAKC,GAAM9J,UAAU8J,GAIzB,SAASgE,EAASlD,GAChB,IAEImD,EAFAC,GAAU,EACVC,EAAU,KAGVC,EAAY,WAGd,IAFA,IAAIrE,EAAO,GAEFC,EAAK,EAAGA,EAAK9J,UAAUC,OAAQ6J,IACtCD,EAAKC,GAAM9J,UAAU8J,GAGvBiE,EAAWlE,EAEPoE,EACFD,GAAU,GAEVpD,EAAStK,WAAM,EAAQ6C,EAAc,GAAIJ,EAAOgL,IAAW,IAC3DE,EAAUE,uBAAsB,WAC9BF,EAAU,KAEND,IACFpD,EAAStK,WAAM,EAAQ6C,EAAc,GAAIJ,EAAOgL,IAAW,IAC3DC,GAAU,QAMdI,EAAS,WACXC,qBAAqBJ,GACrBD,GAAU,EACVC,EAAU,MAGZ,OAAOvO,OAAOC,OAAOuO,EAAW,CAC9BE,OAAQA,IAIZ,SAASE,IACP,IAAIC,EAAQ,GACRN,EAAU,KAEd,SAASO,IAGP,IAFA,IAAIC,EAEGA,EAAOF,EAAMG,SAClBD,IAGFR,EAAU,KAGZ,SAASpD,EAAI4D,GACXF,EAAM5L,KAAK8L,GAENR,IACHA,EAAUE,sBAAsBK,IAIpC,SAASJ,IACPG,EAAMI,OAAO,GACbN,qBAAqBJ,GACrBA,EAAU,KAGZ,MAAO,CACLpD,IAAKA,EACLuD,OAAQA,GAIZ,SAASQ,EAAYC,GACnB,IAAIC,EAAW,EAkBf,OAhBID,EAAKE,UACPD,GAA2B,IAAfD,EAAKE,SAGfF,EAAKG,UACPF,GAA2B,GAAfD,EAAKG,QAAe,KAG9BH,EAAKI,QACPH,GAAyB,GAAbD,EAAKI,MAAa,GAAK,KAGjCJ,EAAKK,OACPJ,GAAwB,GAAZD,EAAKK,KAAY,GAAK,GAAK,KAGlCJ,EAGT,SAASK,EAAWC,GAClBA,GAAQA,EAAKC,YAAcD,EAAKC,WAAWC,YAAYF,GAGzD,SAASG,EAAqBH,EAAMxD,EAAM4D,QACtB,IAAdA,IACFA,EAAYC,SAAStP,WAGvB,IAAIuP,EAAqB,GACrBC,EAAgBf,EAAY,CAC9BG,QAAS,IAEPa,EAAoBhB,EAAY,CAClCG,QAAS,KAEPc,EAAcT,EAAKU,gBACnBC,EAASX,EAAKC,WAElB,IAAKU,EACH,MAAM,IAAI3H,MAAM,+DAGlB,GAAa,iBAATwD,IAA4BiE,EAC9B,MAAM,IAAIzH,MAAM,mEAGlB,IAAI4H,EAAW,EACXC,EAAQ,KACRC,EAAY,KACZC,EAAUrC,GAAS,WACrB,IAAIoC,EAAJ,CAIAF,IACA,IAAII,EAAMC,KAAKD,MAEf,GAAa,MAATH,EACFA,EAAQG,OACH,GAAIJ,GAAYN,EAAoB,CACzC,GAAIU,EAAMH,EAAQL,EAQhB,OAPA/B,EAAQ,0CAA4C8B,EAAgB,KAAMP,EAAMS,QAChFK,EAAYI,YAAW,WACrBL,EAAQ,KACRD,EAAW,EACXE,EAAY,KACZC,MACCR,IAILM,EAAQG,EACRJ,EAAW,EAGb,GAAa,WAATpE,GACEiE,GAAeA,EAAYR,aAAeU,EAG5C,OAFAlC,EAAQ,0DAA2DuB,EAAMS,EAAaE,QACtFQ,IAKJ,GAAa,iBAAT3E,EAAyB,CAC3B,GAA8B,MAA1BiE,EAAYR,WAGd,OAFAxB,EAAQ,uDAAwDuB,EAAMS,EAAaE,QACnFQ,IAIEV,EAAYR,aAAeU,IAC7BlC,EAAQ,oCAAqCuB,EAAMS,EAAaE,GAChES,EAAaX,EAAYR,aAI7BxB,EAAQ,0BAA2BuB,EAAMS,EAAaE,GACtDA,EAAOU,aAAarB,EAAMS,EAAcA,EAAYa,YAAcX,EAAOY,YACzEC,EAASC,cACTrB,GAAaA,QAEXoB,EAAW,IAAIE,kBAAiB,YACrB,WAATlF,GAAqBwD,EAAKC,aAAeU,GAAmB,iBAATnE,GAA2BwD,EAAKU,kBAAoBD,IACzGM,OAIAY,EAAM,WACRH,EAASI,QAAQjB,EAAQ,CACvBkB,WAAW,KAIXV,EAAO,WACTW,aAAahB,GACbU,EAASO,aACThB,EAAQ/B,UAGNgD,EAAO,WACTR,EAASC,eAGPL,EAAe,SAAsBnB,GACvCU,EAASV,EACTkB,IACAQ,KAIF,OADAA,IACO,CACLA,IAAKA,EACLR,KAAMA,EACNa,KAAMA,GAIV,SAASC,EAAmBC,EAAMhP,GAChC,GAAY,MAARgP,EAUJ,IANA,IAAIC,EAASnK,SAASoK,iBAAiBF,EAAMG,WAAWC,aAAc,CACpEC,WAAY,SAAoBvC,GAC9B,OAA0B,MAAnBA,EAAKwC,WAAqBH,WAAWI,YAAcJ,WAAWK,iBAIhE1C,EAAOkC,EAAKM,WAAaL,EAAOQ,YAAcR,EAAOS,WAAoB,MAAR5C,EAAcA,EAAOmC,EAAOS,WACpG1P,EAAS8M,GACTiC,EAAmBjC,EAAKwC,WAAYtP,GAIxC,SAAS2P,IACP,MAA+B,aAAxB7K,SAAS8K,YAAqD,gBAAxB9K,SAAS8K,WAGxD,IAAIC,EAAsB,IAAIxI,IAE9B,SAASyI,EAAoBC,GAC3BF,EAAoBtH,IAAIwH,GAG1B,SAASC,EAAuBD,GAC9BF,EAAoBI,OAAOF,GAG7B,SAASG,IACP,MAA+B,aAAxBpL,SAAS8K,WAGlB,IAAIO,EAA8B,IAAI9I,IAEtC,SAAS+I,EAA8BL,GACrCI,EAA4B5H,IAAIwH,GAGlC,SAASM,KACPF,EAA4BG,QAG9B,IAAKX,IAAc,CACjB,IAAIY,GAAuB,SAASA,IAC9BZ,MACFE,EAAoB3H,SAAQ,SAAU6H,GACpC,OAAOA,OAETF,EAAoBS,QAEhBJ,MACFpL,SAAS0L,oBAAoB,mBAAoBD,GACjDJ,EAA4BjI,SAAQ,SAAU6H,GAC5C,OAAOA,OAETI,EAA4BG,WAKlCxL,SAASH,iBAAiB,mBAAoB4L,IAGhD,IAAIE,GAAuB,IAE3B,SAASC,GAAeC,GACtB,GAAIA,EAAUhT,OAAS8S,GACrB,OAAO,EAKT,IAFA,IAAIG,EAAkB,EAEbpT,EAAI,EAAGA,EAAImT,EAAUhT,OAAQH,IAGpC,IAFAoT,GAAmBD,EAAUnT,GAAGqT,WAAWlT,QAErB8S,GACpB,OAAO,EAIX,OAAO,EAGT,SAASK,GAA0BH,GACjC,IAAII,EAAY,IAAI1J,IAChB2J,EAAY,IAAI3J,IAChB4J,EAAQ,IAAI5J,IAChBsJ,EAAUzI,SAAQ,SAAU1H,GAC1B0H,EAAQ1H,EAAEqQ,YAAY,SAAUpT,GAC1BA,aAAayT,SAAWzT,EAAE0T,aAC5BJ,EAAUxI,IAAI9K,MAGlByK,EAAQ1H,EAAE4Q,cAAc,SAAU3T,GAC5BA,aAAayT,UACXzT,EAAE0T,aACJF,EAAM1I,IAAI9K,GACVsT,EAAUd,OAAOxS,IAEjBuT,EAAUzI,IAAI9K,UAKtB,IAAI4T,EAAqB,GACrBC,EAAqB,GAiBzB,OAhBAP,EAAU7I,SAAQ,SAAU4E,GACtBiE,EAAUQ,IAAIzE,EAAK0E,gBACrBH,EAAmBhR,KAAKyM,MAG5BkE,EAAU9I,SAAQ,SAAU4E,GACtBkE,EAAUO,IAAIzE,EAAK0E,gBACrBF,EAAmBjR,KAAKyM,MAG5BuE,EAAmBnJ,SAAQ,SAAU4E,GACnC,OAAOiE,EAAUd,OAAOnD,MAE1BwE,EAAmBpJ,SAAQ,SAAU4E,GACnC,OAAOkE,EAAUf,OAAOnD,MAEnB,CACLiE,UAAWA,EACXE,MAAOA,EACPD,UAAWA,GAIf,IAqEIS,GArEAC,GAAyB,IAAIC,IAC7BC,GAAyB,IAAIC,QAEjC,SAASC,GAA4B9C,EAAM+C,GACzC,IAAIzD,EACA0D,EACAC,EAEJ,GAAIP,GAAuBH,IAAIvC,GAC7BV,EAAWoD,GAAuB7L,IAAImJ,GACtCgD,EAAoBJ,GAAuB/L,IAAIyI,OAC1C,CACL,IAAI4D,GAA2B,EAC3BC,GAA4B,GAChC7D,EAAW,IAAIE,kBAAiB,SAAUmC,GACxC,GAAID,GAAeC,IACZuB,GAA4BvC,IAC/BqC,EAAkB9J,SAAQ,SAAU5C,GAElC,OAAO8M,EADe9M,EAAG8M,iBACFpD,MAEfmD,IAQVrC,EAPAmC,EAAmB,WACjB,OAAOD,EAAkB9J,SAAQ,SAAU5C,GAEzC,OAAO8M,EADe9M,EAAG8M,iBACFpD,QAK3BmD,GAA4B,GAG9BD,GAA2B,MACtB,CACL,IAAIG,EAAuBvB,GAA0BH,GACrDqB,EAAkB9J,SAAQ,SAAU5C,GAElC,OAAOgN,EADgBhN,EAAGgN,kBACFD,WAIrB3D,QAAQM,EAAM,CACrBL,WAAW,EACX4D,SAAS,IAEXb,GAAuBc,IAAIxD,EAAMV,GACjC0D,EAAoB,IAAI3K,IACxBuK,GAAuBY,IAAIlE,EAAU0D,GAIvC,OADAA,EAAkBzJ,IAAIwJ,GACf,CACLlD,WAAY,WACVmD,EAAkB/B,OAAO8B,GAErBE,GACFjC,EAAuBiC,GAGM,IAA3BD,EAAkBS,OACpBnE,EAASO,aACT+C,GAAuB3B,OAAO3B,GAC9BoD,GAAuBzB,OAAOjB,MAOtC,IAAI0D,GAAiB,IAAIf,IAEzB,SAASgB,GAAWC,GAMlB,OALKnB,KACHA,GAAS3M,SAAS+N,cAAc,MAGlCpB,GAAOqB,KAAOF,EACPnB,GAAOqB,KAGhB,SAASC,GAASH,EAAMI,QACR,IAAVA,IACFA,EAAQ,MAGV,IAAIC,EAAWL,GAAQI,EAAQ,IAAMA,EAAQ,IAE7C,GAAIN,GAAenB,IAAI0B,GACrB,OAAOP,GAAe7M,IAAIoN,GAG5B,GAAID,EAAO,CACT,IAAIE,EAAc,IAAIC,IAAIP,EAAMD,GAAWK,IAE3C,OADAN,GAAeF,IAAIS,EAAKC,GACjBA,EAGT,IAAIE,EAAY,IAAID,IAAIR,GAAWC,IAEnC,OADAF,GAAeF,IAAII,EAAMQ,GAClBA,EAGT,SAASC,GAAeL,EAAOM,GAC7B,GAAIA,EAAU1O,MAAM,cAClB,OAAO0O,EAGT,GAAI,QAAQC,KAAKD,GACf,MAAO,GAAKE,SAASC,SAAWH,EAGlC,IAAII,EAAIX,GAASC,GAEjB,OADQD,GAASO,EAAWI,EAAEZ,MACrBA,KAGX,SAASa,GAA6Bb,GACpC,GAAIA,EAAKzO,WAAW,SAClB,OAAO,EAGT,IAAIa,EAAM6N,GAASD,GACfc,EAAOb,GAASS,SAASV,MAE7B,OAAI5N,EAAIuO,WAAaG,EAAKH,UAItBvO,EAAI2O,WAAaD,EAAKC,UAItB3O,EAAI4O,OAASF,EAAKE,MAIX,OAAOC,KAAK7O,EAAI8O,UAAU,KACtB,OAAOD,KAAKH,EAAKI,UAAU,GAI5C,SAASC,GAAgBC,EAAOC,EAASC,GACvClM,EAAQgM,GAAO,SAAUG,GACvB,GAAIA,EAAKC,aACPH,EAAQE,QACH,GAAIA,EAAKvB,KACd,IACEmB,GAAgBI,EAAKE,WAAWC,SAAUL,EAASC,GACnD,MAAOpP,GACPsG,EAAQ,4BACR8I,GAAoBA,SAEjB,GAAIC,EAAKI,MAAO,CACrB,IAAIA,EAAQvT,MAAMH,KAAKsT,EAAKI,OACxBC,EAAgBD,EAAME,MAAK,SAAUnU,GACvC,OAAOA,EAAE6D,WAAW,WAAa7D,EAAE6D,WAAW,UAE5CuQ,EAAkBH,EAAME,MAAK,SAAUnU,GACzC,OAAOA,EAAE6D,WAAW,UAAY7D,EAAE6D,WAAW,cAG3CqQ,GAAkBE,GACpBX,GAAgBI,EAAKG,SAAUL,EAASC,QAEjCC,EAAKQ,cACVC,IAAIC,SAASV,EAAKQ,gBACpBZ,GAAgBI,EAAKG,SAAUL,EAASC,GAG1C7I,EAAQ,6BAA8B8I,MAK5C,IAAIW,GAAkC,CAAC,aAAc,SAAU,eAAgB,gBAAiB,cAAe,eAAgB,aAAc,UAAW,iBACpJC,GAA6B9Q,EAAW6Q,GAAgCE,KAAI,SAAUC,GAExF,MAAO,CAACA,EADK,IAAIC,OAAOD,EAAO,uBAE5B,KAEL,SAASE,GAAuBC,EAAOnB,GACrCjM,EAAQoN,GAAO,SAAUC,GACvB,IAAI/W,EAAQ8W,EAAME,iBAAiBD,GAAUE,OAExCjX,GAIL2V,EAAQoB,EAAU/W,MAEpB,IAAIkX,EAAUJ,EAAMI,QAEhBA,EAAQ1R,SAAS,UACfG,EACF8Q,GAA2B/M,SAAQ,SAAU5C,GAC3C,IAAIuC,EAAKpH,EAAO6E,EAAI,GAChB6P,EAAOtN,EAAG,GACV8N,EAAS9N,EAAG,GAEZjD,EAAQ8Q,EAAQ9Q,MAAM+Q,GAE1B,GAAI/Q,GAASA,EAAM,GAAI,CACrB,IAAIgR,EAAMhR,EAAM,GAAG6Q,OACnBtB,EAAQgB,EAAMS,OAIlBZ,GAAgC9M,SAAQ,SAAUiN,GAChD,IAAIS,EAAMN,EAAME,iBAAiBL,GAE7BS,GAAOA,EAAI5R,SAAS,SACtBmQ,EAAQgB,EAAMS,OAOxB,IAAIC,GAAc,sCACdC,GAAiB,sDAErB,SAASC,GAAeC,GACtB,OAAOA,EAAOC,QAAQ,gBAAiB,MAAMR,OAAOQ,QAAQ,WAAY,MAAMA,QAAQ,WAAY,MAGpG,SAASC,GAAehR,GACtB,IAAI8Q,EAASjD,GAAS7N,GACtB,MAAO,GAAK8Q,EAAO5Q,OAAS4Q,EAAOhC,SAASiC,QAAQ,QAAS,IAAIA,QAAQ,iBAAkB,MAG7F,SAASE,GAAmCC,EAAMC,GAChD,OAAOD,EAAKH,QAAQJ,IAAa,SAAUjR,GACzC,IAAI0R,EAAYP,GAAenR,GAC/B,MAAO,QAAWyO,GAAegD,EAAaC,GAAa,QAI/D,IAAIC,GAAmB,oBAEvB,SAASC,GAAkBJ,GACzB,OAAOA,EAAKH,QAAQM,GAAkB,IAGxC,IAAIE,GAAgB,wBAEpB,SAASC,GAAmBN,GAC1B,OAAOA,EAAKH,QAAQQ,GAAe,IAGrC,SAASE,GAASrR,GAChB,IAAIsR,EAAItR,EAAGsR,EACPrZ,EAAI+H,EAAG/H,EACP0D,EAAIqE,EAAGrE,EACP4G,EAAKvC,EAAG6F,EACRA,OAAW,IAAPtD,EAAgB,EAAIA,EAE5B,GAAU,IAANtK,EAAS,CACX,IAAIsZ,EAAKpW,EAAO,CAACQ,EAAGA,EAAGA,GAAGiU,KAAI,SAAU4B,GACtC,OAAOC,KAAKC,MAAU,IAAJF,MAChB,GACAG,EAAMJ,EAAG,GACTK,EAAML,EAAG,GAGb,MAAO,CACLnW,EAAGuW,EACHzX,EAJQqX,EAAG,GAKXnD,EAAGwD,EACH/L,EAAGA,GAIP,IAAIgM,GAAK,EAAIJ,KAAKK,IAAI,EAAInW,EAAI,IAAM1D,EAChCuZ,EAAIK,GAAK,EAAIJ,KAAKK,IAAIR,EAAI,GAAK,EAAI,IACnCpW,EAAIS,EAAIkW,EAAI,EAEZE,EAAK5W,GAAQmW,EAAI,GAAK,CAACO,EAAGL,EAAG,GAAKF,EAAI,IAAM,CAACE,EAAGK,EAAG,GAAKP,EAAI,IAAM,CAAC,EAAGO,EAAGL,GAAKF,EAAI,IAAM,CAAC,EAAGE,EAAGK,GAAKP,EAAI,IAAM,CAACE,EAAG,EAAGK,GAAK,CAACA,EAAG,EAAGL,IAAI5B,KAAI,SAAUzX,GACrJ,OAAOsZ,KAAKC,MAAgB,KAATvZ,EAAI+C,OACrB,GAKJ,MAAO,CACLE,EALM2W,EAAG,GAMT7X,EALM6X,EAAG,GAMT3D,EALM2D,EAAG,GAMTlM,EAAGA,GAIP,SAASmM,GAAShS,GAChB,IAAIiS,EAAOjS,EAAG5E,EACV8W,EAAOlS,EAAG9F,EACViY,EAAOnS,EAAGoO,EACV7L,EAAKvC,EAAG6F,EACRA,OAAW,IAAPtD,EAAgB,EAAIA,EACxBnH,EAAI6W,EAAO,IACX/X,EAAIgY,EAAO,IACX9D,EAAI+D,EAAO,IACXC,EAAMX,KAAKW,IAAIhX,EAAGlB,EAAGkU,GACrBiE,EAAMZ,KAAKY,IAAIjX,EAAGlB,EAAGkU,GACrByD,EAAIO,EAAMC,EACV1W,GAAKyW,EAAMC,GAAO,EAEtB,GAAU,IAANR,EACF,MAAO,CACLP,EAAG,EACHrZ,EAAG,EACH0D,EAAGA,EACHkK,EAAGA,GAIP,IAAIyL,EAAoF,IAA/Ec,IAAQhX,GAAKlB,EAAIkU,GAAKyD,EAAI,EAAIO,IAAQlY,GAAKkU,EAAIhT,GAAKyW,EAAI,GAAKzW,EAAIlB,GAAK2X,EAAI,GAOnF,OALIP,EAAI,IACNA,GAAK,KAIA,CACLA,EAAGA,EACHrZ,EAHM4Z,GAAK,EAAIJ,KAAKK,IAAI,EAAInW,EAAI,IAIhCA,EAAGA,EACHkK,EAAGA,GAIP,SAASyM,GAAQna,EAAGoa,QACH,IAAXA,IACFA,EAAS,GAGX,IAAIC,EAAQra,EAAEma,QAAQC,GAEtB,GAAe,IAAXA,EACF,OAAOC,EAGT,IAAIC,EAAMD,EAAME,QAAQ,KAExB,GAAID,GAAO,EAAG,CACZ,IAAIE,EAAaH,EAAMlT,MAAM,OAE7B,GAAIqT,EACF,OAAIA,EAAWC,QAAUH,EAAM,EACtBD,EAAMK,UAAU,EAAGJ,GAGrBD,EAAMK,UAAU,EAAGF,EAAWC,OAIzC,OAAOJ,EAGT,SAASM,GAAYC,GACnB,IAAI3X,EAAI2X,EAAI3X,EACRlB,EAAI6Y,EAAI7Y,EACRkU,EAAI2E,EAAI3E,EACRvI,EAAIkN,EAAIlN,EAEZ,OAAS,MAALA,GAAaA,EAAI,EACZ,QAAUyM,GAAQlX,GAAK,KAAOkX,GAAQpY,GAAK,KAAOoY,GAAQlE,GAAK,KAAOkE,GAAQzM,EAAG,GAAK,IAGxF,OAASyM,GAAQlX,GAAK,KAAOkX,GAAQpY,GAAK,KAAOoY,GAAQlE,GAAK,IAGvE,SAAS4E,GAAehT,GACtB,IAAI5E,EAAI4E,EAAG5E,EACPlB,EAAI8F,EAAG9F,EACPkU,EAAIpO,EAAGoO,EACPvI,EAAI7F,EAAG6F,EACX,MAAO,KAAY,MAALA,GAAaA,EAAI,EAAI,CAACzK,EAAGlB,EAAGkU,EAAGqD,KAAKC,MAAU,IAAJ7L,IAAY,CAACzK,EAAGlB,EAAGkU,IAAIwB,KAAI,SAAU4B,GAC3F,OAAaA,EAAI,GAAK,IAAM,IAAMA,EAAEyB,SAAS,OAC5CxR,KAAK,IAGV,SAASyR,GAAYC,GACnB,IAAI7B,EAAI6B,EAAI7B,EACRrZ,EAAIkb,EAAIlb,EACR0D,EAAIwX,EAAIxX,EACRkK,EAAIsN,EAAItN,EAEZ,OAAS,MAALA,GAAaA,EAAI,EACZ,QAAUyM,GAAQhB,GAAK,KAAOgB,GAAY,IAAJra,GAAW,MAAQqa,GAAY,IAAJ3W,GAAW,MAAQ2W,GAAQzM,EAAG,GAAK,IAGtG,OAASyM,GAAQhB,GAAK,KAAOgB,GAAY,IAAJra,GAAW,MAAQqa,GAAY,IAAJ3W,GAAW,KAGpF,IAAIyX,GAAW,sBACXC,GAAW,sBACXC,GAAW,gBAEf,SAASC,GAAMC,GACb,IAAI3B,EAAI2B,EAAOrD,OAAO5R,cAEtB,GAAIsT,EAAEvS,MAAM8T,IACV,OAAOK,GAAS5B,GAGlB,GAAIA,EAAEvS,MAAM+T,IACV,OAAOK,GAAS7B,GAGlB,GAAIA,EAAEvS,MAAMgU,IACV,OAAOK,GAAS9B,GAGlB,GAAI+B,GAAY3H,IAAI4F,GAClB,OAAOgC,GAAehC,GAGxB,GAAIiC,GAAa7H,IAAI4F,GACnB,OAAOkC,GAAelC,GAGxB,GAAe,gBAAX2B,EACF,MAAO,CACLpY,EAAG,EACHlB,EAAG,EACHkU,EAAG,EACHvI,EAAG,GAIP,MAAM,IAAIrF,MAAM,mBAAqBgT,GAGvC,SAASQ,GAAWR,GAClB,IAAIS,EAAU,GACVC,EAAU,EACVC,GAAW,EACXC,EAAaZ,EAAOd,QAAQ,KAChCc,EAASA,EAAOX,UAAUuB,EAAa,EAAGZ,EAAOnb,OAAS,GAE1D,IAAK,IAAIH,EAAI,EAAGA,EAAIsb,EAAOnb,OAAQH,IAAK,CACtC,IAAI2Z,EAAI2B,EAAOtb,GAEX2Z,GAAK,KAAOA,GAAK,KAAa,MAANA,GAAmB,MAANA,GAAmB,MAANA,EACpDsC,GAAW,GACFA,GAAmB,MAANtC,GAAmB,MAANA,EAIzBsC,IACVD,EAAUhc,EAAI,IAJd+b,EAAQlZ,KAAKyY,EAAOX,UAAUqB,EAAShc,IACvCic,GAAW,EACXD,EAAUhc,EAAI,GAUlB,OAJIic,GACFF,EAAQlZ,KAAKyY,EAAOX,UAAUqB,EAASV,EAAOnb,SAGzC4b,EAGT,SAASI,GAAqBC,EAAKC,EAAOC,GACxC,IAAIC,EAAMT,GAAWM,GACjBI,EAAY5c,OAAO6c,QAAQH,GAwB/B,OAvBcC,EAAI7E,KAAI,SAAUxU,GAC9B,OAAOA,EAAE+U,UACRP,KAAI,SAAUxU,EAAGlD,GAClB,IAAIC,EACAyc,EAAOF,EAAUG,MAAK,SAAU7U,GAClC,IACI8U,EADK3Z,EAAO6E,EAAI,GACT,GAEX,OAAO5E,EAAEiF,SAASyU,MASpB,OALE3c,EADEyc,EACEG,WAAW3Z,EAAEyX,UAAU,EAAGzX,EAAE/C,OAASuc,EAAK,GAAGvc,SAAWuc,EAAK,GAAKL,EAAMrc,GAExE6c,WAAW3Z,GAGbmZ,EAAMrc,GAAK,EACNuZ,KAAKC,MAAMvZ,GAGbA,KAKX,IAAI6c,GAAW,CAAC,IAAK,IAAK,IAAK,GAC3BC,GAAW,CACb,IAAK,KAGP,SAASxB,GAASyB,GAChB,IAAIlV,EAAK7E,EAAOkZ,GAAqBa,EAAMF,GAAUC,IAAW,GAC5D7Z,EAAI4E,EAAG,GACP9F,EAAI8F,EAAG,GACPoO,EAAIpO,EAAG,GACPuC,EAAKvC,EAAG,GAGZ,MAAO,CACL5E,EAAGA,EACHlB,EAAGA,EACHkU,EAAGA,EACHvI,OANa,IAAPtD,EAAgB,EAAIA,GAU9B,IAAI4S,GAAW,CAAC,IAAK,EAAG,EAAG,GACvBC,GAAW,CACb,IAAK,IACL,IAAO,IACP,IAAO,EAAI3D,KAAK4D,GAChB,KAAQ,GAGV,SAAS3B,GAAS4B,GAChB,IAAItV,EAAK7E,EAAOkZ,GAAqBiB,EAAMH,GAAUC,IAAW,GAC5D9D,EAAItR,EAAG,GACP/H,EAAI+H,EAAG,GACPrE,EAAIqE,EAAG,GACPuC,EAAKvC,EAAG,GAGZ,OAAOqR,GAAS,CACdC,EAAGA,EACHrZ,EAAGA,EACH0D,EAAGA,EACHkK,OANa,IAAPtD,EAAgB,EAAIA,IAU9B,SAASoR,GAAS4B,GAChB,IAAIjE,EAAIiE,EAAK1C,UAAU,GAEvB,OAAQvB,EAAEjZ,QACR,KAAK,EACL,KAAK,EAED,IAAI2H,EAAK7E,EAAO,CAAC,EAAG,EAAG,GAAGyU,KAAI,SAAU1X,GACtC,OAAOsd,SAAS,GAAKlE,EAAEpZ,GAAKoZ,EAAEpZ,GAAI,OAChC,GAMJ,MAAO,CACLkD,EANM4E,EAAG,GAOT9F,EANM8F,EAAG,GAOToO,EANMpO,EAAG,GAOT6F,EALmB,IAAbyL,EAAEjZ,OAAe,EAAImd,SAAS,GAAKlE,EAAE,GAAKA,EAAE,GAAI,IAAM,KASlE,KAAK,EACL,KAAK,EAED,IAAI/O,EAAKpH,EAAO,CAAC,EAAG,EAAG,GAAGyU,KAAI,SAAU1X,GACtC,OAAOsd,SAASlE,EAAEuB,UAAU3a,EAAGA,EAAI,GAAI,OACrC,GAMJ,MAAO,CACLkD,EANMmH,EAAG,GAOTrI,EANMqI,EAAG,GAOT6L,EANM7L,EAAG,GAOTsD,EALmB,IAAbyL,EAAEjZ,OAAe,EAAImd,SAASlE,EAAEuB,UAAU,EAAG,GAAI,IAAM,KAUrE,MAAM,IAAIrS,MAAM,mBAAqB+U,GAGvC,SAAS1B,GAAeL,GACtB,IAAIrb,EAAIyb,GAAYrT,IAAIiT,GACxB,MAAO,CACLpY,EAAGjD,GAAK,GAAK,IACb+B,EAAG/B,GAAK,EAAI,IACZiW,EAAGjW,GAAK,EAAI,IACZ0N,EAAG,GAIP,SAASkO,GAAeP,GACtB,IAAIrb,EAAI2b,GAAavT,IAAIiT,GACzB,MAAO,CACLpY,EAAGjD,GAAK,GAAK,IACb+B,EAAG/B,GAAK,EAAI,IACZiW,EAAGjW,GAAK,EAAI,IACZ0N,EAAG,GAIP,IAAI4P,GAAc,SAAqBC,GACrC,OAAOA,GAAQ,KAAOA,GAAQ,KAG5BC,GAAoB,SAA2BC,GACjD,OAAOnE,KAAKoE,MAAMpE,KAAKqE,MAAMF,IAAW,GAG1C,SAASG,GAAoBC,GAqC3B,IApCA,IAAIC,EAAc,EAEdC,EAAwB,SAA+B7N,EAAO8N,EAAKC,GACrEJ,EAAQA,EAAMnD,UAAU,EAAGxK,GAAS+N,EAAcJ,EAAMnD,UAAUsD,IAGhEE,EAAY,WAGd,IAFA,IAAIC,EAAe,EAEVpe,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIwd,EAAOM,EAAMC,EAAc/d,GAE/B,GAAa,MAATwd,EACF,MAGF,IAAID,GAAYC,GAId,MAHAY,GAAgB,GAChBA,GAAgBC,OAAOb,GAM3B,IAAIc,EAAYb,GAAkBW,GAIlC,GAAqB,MAFFN,GADnBC,GAAeO,GACwB,GAOvC,OADAP,IACOK,GAGyC,KAA1CL,EAAcD,EAAMtD,QAAQ,WAAiB,CACnD,IAAI0B,EAAa6B,EACjBA,GAAe,EACf,IAAIQ,EAAcJ,IAElB,IAAKI,EACH,MAGF,GAA+B,MAA3BT,EAAMC,EAAc,GACtB,MAGFA,IACA,IAAIS,EAAYV,EAAMC,EAAc,GAEpC,GAAkB,MAAdS,GAAmC,MAAdA,EACvB,MAKF,GAFAT,IAE+B,MAA3BD,EAAMC,EAAc,GACtB,MAGFA,IACA,IAAIU,EAAeN,IAEnB,IAAKM,EACH,MAWFT,EAAsB9B,EAAY6B,EAAc,EAN9B,MAAdS,EACYD,EAAcE,EAAe,IAE7BF,EAAcE,EAAe,KAM/C,OAAOX,EAGT,IAAIpC,GAAc,IAAIvH,IAAIvU,OAAO6c,QAAQ,CACvCiC,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,SAAU,SACVC,UAAW,MACXC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,QACNC,KAAM,QACNC,MAAO,MACPC,YAAa,SACbC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXC,IAAK,SACLC,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,YAEXjM,GAAe,IAAIzH,IAAIvU,OAAO6c,QAAQ,CACxCqL,aAAc,QACdC,cAAe,EACfC,aAAc,SACdC,WAAY,QACZC,WAAY,SACZC,gBAAiB,SACjBC,aAAc,SACdC,WAAY,EACZC,YAAa,EACbC,SAAU,QACVC,UAAW,SACXC,cAAe,EACfC,eAAgB,SAChBC,gBAAiB,SACjBC,oBAAqB,EACrBC,eAAgB,SAChBC,SAAU,EACVC,KAAM,SACNC,SAAU,SACVC,UAAW,SACXC,iBAAkB,EAClBC,WAAY,SACZC,gBAAiB,SACjBC,kBAAmB,SACnBC,aAAc,EACdC,OAAQ,SACRC,YAAa,SACbC,WAAY,EACZ,2BAA4B,WAC3B/R,KAAI,SAAU5P,GACf,IAAIuC,EAAKpH,EAAO6E,EAAI,GAChB2N,EAAMpL,EAAG,GACTrJ,EAAQqJ,EAAG,GAEf,MAAO,CAACoL,EAAIpP,cAAerF,OAG7B,SAAS0oB,GAAMpQ,EAAGqQ,EAAOC,EAAQC,EAAQC,GACvC,OAAQxQ,EAAIqQ,IAAUG,EAAUD,IAAWD,EAASD,GAASE,EAG/D,SAASE,GAAMzQ,EAAGa,EAAKD,GACrB,OAAOX,KAAKY,IAAID,EAAKX,KAAKW,IAAIC,EAAKb,IAGrC,SAAS0Q,GAAiBC,EAAIC,GAG5B,IAFA,IAAIzoB,EAAS,GAEJzB,EAAI,EAAGoN,EAAM6c,EAAG9pB,OAAQH,EAAIoN,EAAKpN,IAAK,CAC7CyB,EAAOzB,GAAK,GAEZ,IAAK,IAAImqB,EAAI,EAAGC,EAAOF,EAAG,GAAG/pB,OAAQgqB,EAAIC,EAAMD,IAAK,CAGlD,IAFA,IAAIE,EAAM,EAEDC,EAAI,EAAGC,EAAON,EAAG,GAAG9pB,OAAQmqB,EAAIC,EAAMD,IAC7CD,GAAOJ,EAAGjqB,GAAGsqB,GAAKJ,EAAGI,GAAGH,GAG1B1oB,EAAOzB,GAAGmqB,GAAKE,GAInB,OAAO5oB,EAGT,SAAS+oB,GAAWC,EAAOC,EAAOC,QAClB,IAAVA,IACFA,EAAQ,GAMV,IAHA,IACI3nB,EADA4nB,EAAU,GAGP5nB,EAAIynB,EAAMlU,KAAKmU,IACpBE,EAAQ/nB,KAAKG,EAAE2nB,IAGjB,OAAOC,EAGT,SAASC,GAAUpgB,GACjB,SAASqgB,EAASrgB,GAChB,OAAOA,EAAKgO,QAAQ,OAAQ,IAG9B,SAASsS,EAAUC,GACjB,OAAc,IAAVA,EACK,GAGF,IAAIC,OAAO,EAAID,GAGxB,GAAIvgB,EAAKtK,OAAS,IAGhB,IAFA,IAAI+qB,EAAkB,cAEfA,EAAgBnV,KAAKtL,IAC1BA,EAAOA,EAAKgO,QAAQyS,EAAiB,IAQzC,IAJA,IAAIC,EAAM1gB,EAAKgO,QAAQ,UAAW,KAAKA,QAAQ,MAAO,OAAOA,QAAQ,MAAO,SAASA,QAAQ,0BAA2B,OAAOA,QAAQ,0BAA2B,OAAOA,QAAQ,WAAY,MAAM2S,MAAM,MACrMJ,EAAQ,EACRK,EAAY,GAEP/R,EAAI,EAAGlM,EAAM+d,EAAIhrB,OAAQmZ,EAAIlM,EAAKkM,IAAK,CAC9C,IAAIgS,EAAOH,EAAI7R,GAAK,KAEhBgS,EAAK9kB,SAAS,KAChB6kB,EAAUxoB,KAAKkoB,EAAUC,KAAWF,EAASQ,IACpCA,EAAK9kB,SAAS,KACvB6kB,EAAUxoB,KAAKkoB,IAAYC,GAASF,EAASQ,IAE7CD,EAAUxoB,KAAKkoB,EAAUC,GAASF,EAASQ,IAI/C,OAAOD,EAAU9hB,KAAK,IAAI0O,OAG5B,SAASsT,GAAoBb,EAAOc,QACT,IAArBA,IACFA,EAAmB,GAOrB,IAJA,IAAIrrB,EAASuqB,EAAMvqB,OACf6qB,EAAQ,EACRS,GAAkB,EAEbzrB,EAAIwrB,EAAkBxrB,EAAIG,EAAQH,IACzC,GAAc,IAAVgrB,EAAa,CAGf,IAFIU,EAAYhB,EAAMlQ,QAAQ,IAAKxa,IAEnB,EACd,MAGFyrB,EAAiBC,EACjBV,IACAhrB,EAAI0rB,MACC,CACL,IAMIA,EANAC,EAAejB,EAAMlQ,QAAQ,IAAKxa,GAEtC,GAAI2rB,EAAe,EACjB,MAKF,IAFID,EAAYhB,EAAMlQ,QAAQ,IAAKxa,IAEnB,GAAK2rB,EAAeD,EAAW,CAG7C,GAAc,KAFdV,EAGE,MAAO,CACL7a,MAAOsb,EACPxN,IAAK0N,EAAe,GAIxB3rB,EAAI2rB,OAEJX,IACAhrB,EAAI0rB,EAKV,OAAO,KAGT,SAASE,GAAmBC,GAC1B,IAAI7oB,EAAI8oB,GAAOC,WAsBf,OApBqB,IAAjBF,EAAO3f,QACTlJ,EAAIgnB,GAAiBhnB,EAAG8oB,GAAO5f,MAAM2f,EAAO3f,MAAQ,OAG7B,IAArB2f,EAAO5f,YACTjJ,EAAIgnB,GAAiBhnB,EAAG8oB,GAAO7f,UAAU4f,EAAO5f,UAAY,OAGtC,MAApB4f,EAAO7f,WACThJ,EAAIgnB,GAAiBhnB,EAAG8oB,GAAO9f,SAAS6f,EAAO7f,SAAW,OAGlC,MAAtB6f,EAAO9f,aACT/I,EAAIgnB,GAAiBhnB,EAAG8oB,GAAO/f,WAAW8f,EAAO9f,WAAa,OAG5C,IAAhB8f,EAAO/f,OACT9I,EAAIgnB,GAAiBhnB,EAAG8oB,GAAOE,eAG1BhpB,EAGT,SAASipB,GAAiBnkB,EAAIokB,GAC5B,IAAI7hB,EAAKpH,EAAO6E,EAAI,GAMhBrG,EAASuoB,GAAiBkC,EADpB,CAAC,CAJH7hB,EAAG,GAIK,KAAM,CAHdA,EAAG,GAGgB,KAAM,CAFzBA,EAAG,GAE2B,KAAM,CAAC,GAAI,CAAC,KAElD,MAAO,CAAC,EAAG,EAAG,GAAGqN,KAAI,SAAU1X,GAC7B,OAAO+pB,GAAMxQ,KAAKC,MAAqB,IAAf/X,EAAOzB,GAAG,IAAW,EAAG,QAIpD,IAAI8rB,GAAS,CACXC,SAAU,WACR,MAAO,CAAC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,KAE3FC,WAAY,WACV,MAAO,CAAC,CAAC,MAAQ,MAAQ,KAAO,EAAG,GAAI,EAAE,KAAO,MAAQ,KAAO,EAAG,GAAI,EAAE,MAAQ,KAAO,KAAO,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,KAErIjgB,WAAY,SAAoBtJ,GAC9B,MAAO,CAAC,CAACA,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAGA,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAGA,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,KAE3FuJ,SAAU,SAAkBvJ,GAC1B,IAAI3C,GAAK,EAAI2C,GAAK,EAClB,MAAO,CAAC,CAACA,EAAG,EAAG,EAAG,EAAG3C,GAAI,CAAC,EAAG2C,EAAG,EAAG,EAAG3C,GAAI,CAAC,EAAG,EAAG2C,EAAG,EAAG3C,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,KAE3FoM,MAAO,SAAezJ,GACpB,MAAO,CAAC,CAAC,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,EAAG,GAAI,CAAC,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,EAAG,GAAI,CAAC,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,KAAQ,MAAS,EAAIA,GAAI,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,KAEjSwJ,UAAW,SAAmBxJ,GAC5B,MAAO,CAAC,CAAC,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,EAAG,GAAI,CAAC,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,EAAG,GAAI,CAAC,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,MAAS,OAAU,EAAIA,GAAI,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,MAIrT,SAAS0pB,GAAUC,GAGjB,OAAOA,EAF2B,IAAfA,EAAMtgB,KACC,4BAA8B,8BAI1D,SAASugB,GAAUD,GAGjB,OAAOA,EAF2B,IAAfA,EAAMtgB,KACC,sBAAwB,wBAIpD,IAAIwgB,GAAyB,IAAInY,IAC7BoY,GAAoB,IAAIpY,IAE5B,SAASqY,GAAoB1O,GAC3B,GAAIyO,GAAkBxY,IAAI+J,GACxB,OAAOyO,GAAkBlkB,IAAIyV,GAG/B,IACI7C,EAAMnB,GADAuB,GAAMyC,IAGhB,OADAyO,GAAkBvX,IAAI8I,EAAO7C,GACtBA,EAGT,SAASwR,KACPH,GAAuBxZ,QACvByZ,GAAkBzZ,QAGpB,IAAI4Z,GAAe,CAAC,IAAK,IAAK,IAAK,KAC/BC,GAAmB,CAAC,OAAQ,aAAc,WAAY,YAAa,QAAS,4BAA6B,sBAAuB,6BAA8B,wBAElK,SAASC,GAAW/R,EAAKuR,GACvB,IAAIS,EAAW,GAOf,OANAH,GAAahiB,SAAQ,SAAU+K,GAC7BoX,GAAYhS,EAAIpF,GAAO,OAEzBkX,GAAiBjiB,SAAQ,SAAU+K,GACjCoX,GAAYT,EAAM3W,GAAO,OAEpBoX,EAGT,SAASC,GAAqBjS,EAAKuR,EAAOW,EAAWC,EAAWC,GAC9D,IAAIC,EAEAZ,GAAuBvY,IAAIgZ,GAC7BG,EAAUZ,GAAuBjkB,IAAI0kB,IAErCG,EAAU,IAAI/Y,IACdmY,GAAuBtX,IAAI+X,EAAWG,IAGxC,IAAI3iB,EAAKqiB,GAAW/R,EAAKuR,GAEzB,GAAIc,EAAQnZ,IAAIxJ,GACd,OAAO2iB,EAAQ7kB,IAAIkC,GAGrB,IAKIzC,EAAKqR,GAFM4T,EAHLjT,GAASe,GACK,MAAbmS,EAAoB,KAAOR,GAAoBQ,GACpB,MAApBC,EAA2B,KAAOT,GAAoBS,KAIpE/pB,EAAI4E,EAAG5E,EACPlB,EAAI8F,EAAG9F,EACPkU,EAAIpO,EAAGoO,EACPvI,EAAI7F,EAAG6F,EAIPtD,EAAKpH,EAAOgpB,GAAiB,CAAC/oB,EAAGlB,EAAGkU,GAF3B0V,GAAmBQ,IAEqB,GACjDe,EAAK9iB,EAAG,GACR+iB,EAAK/iB,EAAG,GACRgjB,EAAKhjB,EAAG,GAERyT,EAAc,IAANnQ,EAAUmN,GAAe,CACnC5X,EAAGiqB,EACHnrB,EAAGorB,EACHlX,EAAGmX,IACAzS,GAAY,CACf1X,EAAGiqB,EACHnrB,EAAGorB,EACHlX,EAAGmX,EACH1f,EAAGA,IAGL,OADAuf,EAAQlY,IAAIzK,EAAIuT,GACTA,EAGT,SAASwP,GAAQrS,GACf,OAAOA,EAGT,SAASsS,GAAY1S,EAAKuR,GACxB,OAAOU,GAAqBjS,EAAKuR,EAAOkB,IAG1C,SAASE,GAAuB3S,EAAKuR,GACnC,IAAIqB,EAAStB,GAAUC,GAEvB,OAAOU,GAAqBjS,EAAKuR,EAAOsB,GAD3BrB,GAAUD,GAC6CqB,GAGtE,SAASC,GAAmB5lB,EAAI6lB,EAAQF,GACtC,IAAIrU,EAAItR,EAAGsR,EACPrZ,EAAI+H,EAAG/H,EACP0D,EAAIqE,EAAGrE,EACPkK,EAAI7F,EAAG6F,EACPigB,EAASnqB,EAAI,GAUboqB,EAAKzU,EACL0U,EAAKrqB,EAaT,OArBImqB,EACUnqB,EAAI,IAAO1D,EAAI,IAGfA,EAAI,KAAQ0D,EAAI,IADf2V,EAAI,KAAOA,EAAI,OAQxBwU,GACFC,EAAKF,EAAOvU,EACZ0U,EAAKH,EAAO5tB,IAEZ8tB,EAAKJ,EAAOrU,EACZ0U,EAAKL,EAAO1tB,IAKT,CACLqZ,EAAGyU,EACH9tB,EAAG+tB,EACHrqB,EAJOimB,GAAMjmB,EAAG,EAAG,EAAGkqB,EAAOlqB,EAAGgqB,EAAOhqB,GAKvCkK,EAAGA,GAIP,IAAIogB,GAAmB,GAEvB,SAASC,GAAYlmB,EAAImmB,GACvB,IAAI7U,EAAItR,EAAGsR,EACPrZ,EAAI+H,EAAG/H,EACP0D,EAAIqE,EAAGrE,EACPkK,EAAI7F,EAAG6F,EAGPugB,EAAYnuB,EAAI,KAAQ0D,EAAI,IADnB2V,EAAI,KAAOA,EAAI,IAG5B,GAJa3V,EAAI,GAIL,CACV,IAAI0qB,EAAOzE,GAAMjmB,EAAG,EAAG,GAAK,EAAGsqB,IAE/B,OAAIG,EAGK,CACL9U,EAHS6U,EAAK7U,EAIdrZ,EAHOkuB,EAAKluB,EAIZ0D,EAAG0qB,EACHxgB,EAAGA,GAIA,CACLyL,EAAGA,EACHrZ,EAAGA,EACH0D,EAAG0qB,EACHxgB,EAAGA,GAIP,IAAIygB,EAAK1E,GAAMjmB,EAAG,GAAK,EAAGsqB,GAAkBE,EAAKxqB,GAEjD,GAAIyqB,EAGF,MAAO,CACL9U,EAHS6U,EAAK7U,EAIdrZ,EAHOkuB,EAAKluB,EAIZ0D,EAAG2qB,EACHzgB,EAAGA,GAIP,IAAIkgB,EAAKzU,EAaT,OAZeA,EAAI,IAAMA,EAAI,MAMzByU,EAHoBzU,EAAI,IAGnBsQ,GAAMtQ,EAAG,IAAK,IAAK,IAAK,KAExBsQ,GAAMtQ,EAAG,GAAI,IAAK,GAAI,MAIxB,CACLA,EAAGyU,EACH9tB,EAAGA,EACH0D,EAAG2qB,EACHzgB,EAAGA,GAIP,SAAS0gB,GAAsBxT,EAAKuR,GAClC,GAAmB,IAAfA,EAAMtgB,KACR,OAAO0hB,GAAuB3S,EAAKuR,GAGrC,IAAI6B,EAAO9B,GAAUC,GACrB,OAAOU,GAAqBjS,EAAKlb,EAAQA,EAAQ,GAAIysB,GAAQ,CAC3DtgB,KAAM,IACJkiB,GAAaC,GAGnB,IAsJIK,GAtJAC,GAAmB,IAEvB,SAASC,GAAgBC,GACvB,OAAO/E,GAAM+E,EAAK,IAAK,IAAK,IAAK,KAGnC,SAASC,GAAY5mB,EAAImmB,GACvB,IAAI7U,EAAItR,EAAGsR,EACPrZ,EAAI+H,EAAG/H,EACP0D,EAAIqE,EAAGrE,EACPkK,EAAI7F,EAAG6F,EAEPugB,EAAYzqB,EAAI,IAAO1D,EAAI,IAC3B4uB,GAAUT,GAAa9U,EAAI,KAAOA,EAAI,IAE1C,GAJc3V,EAAI,GAIL,CACX,IAAImrB,EAAOlF,GAAMjmB,EAAG,GAAK,EAAG8qB,GAAkBN,EAAKxqB,GAEnD,GAAIyqB,EAGF,MAAO,CACL9U,EAHS6U,EAAK7U,EAIdrZ,EAHOkuB,EAAKluB,EAIZ0D,EAAGmrB,EACHjhB,EAAGA,GAIP,IAAIkhB,EAAOzV,EAMX,OAJIuV,IACFE,EAAOL,GAAgBpV,IAGlB,CACLA,EAAGyV,EACH9uB,EAAGA,EACH0D,EAAGmrB,EACHjhB,EAAGA,GAIP,GAAIugB,EAIF,MAAO,CACL9U,EAJS6U,EAAK7U,EAKdrZ,EAJOkuB,EAAKluB,EAKZ0D,EAJSimB,GAAMjmB,EAAG,EAAG,GAAKwqB,EAAKxqB,EAAG8qB,IAKlC5gB,EAAGA,GAIP,IACIygB,EADAP,EAAKzU,EAUT,OAPIuV,GACFd,EAAKW,GAAgBpV,GACrBgV,EAAK1E,GAAMjmB,EAAG,EAAG,GAAKwqB,EAAKxqB,EAAG8V,KAAKY,IAAI,EAAGoU,GAAmB,OAE7DH,EAAK1E,GAAMjmB,EAAG,EAAG,GAAKwqB,EAAKxqB,EAAG8qB,IAGzB,CACLnV,EAAGyU,EACH9tB,EAAGA,EACH0D,EAAG2qB,EACHzgB,EAAGA,GAIP,SAASmhB,GAAsBjU,EAAKuR,GAClC,GAAmB,IAAfA,EAAMtgB,KACR,OAAO0hB,GAAuB3S,EAAKuR,GAGrC,IAAI6B,EAAO5B,GAAUD,GACrB,OAAOU,GAAqBjS,EAAKlb,EAAQA,EAAQ,GAAIysB,GAAQ,CAC3DtgB,KAAM,IACJ4iB,GAAaT,GAGnB,SAASc,GAAgBjnB,EAAI6lB,EAAQF,GACnC,IAAIrU,EAAItR,EAAGsR,EACPrZ,EAAI+H,EAAG/H,EACP0D,EAAIqE,EAAGrE,EACPkK,EAAI7F,EAAG6F,EAGPkgB,EAAKzU,EACL0U,EAAK/tB,EAaT,OAfgB0D,EAAI,IAAO1D,EAAI,OADlB0D,EAAI,IAOboqB,EAAKF,EAAOvU,EACZ0U,EAAKH,EAAO5tB,IAEZ8tB,EAAKJ,EAAOrU,EACZ0U,EAAKL,EAAO1tB,IAKT,CACLqZ,EAAGyU,EACH9tB,EAAG+tB,EACHrqB,EAJOimB,GAAMjmB,EAAG,EAAG,EAAG,GAAK,IAK3BkK,EAAGA,GAIP,SAASqhB,GAAkBnU,EAAKuR,GAC9B,GAAmB,IAAfA,EAAMtgB,KACR,OAAO0hB,GAAuB3S,EAAKuR,GAGrC,IAAIuB,EAAStB,GAAUD,GACnBqB,EAAStB,GAAUC,GACvB,OAAOU,GAAqBjS,EAAKlb,EAAQA,EAAQ,GAAIysB,GAAQ,CAC3DtgB,KAAM,IACJijB,GAAiBpB,EAAQF,GAG/B,SAASwB,GAAkBpU,EAAKqU,GAC9B,OAAOb,GAAsBxT,EAAKqU,GAGpC,SAASC,GAAoBtU,EAAKqU,GAChC,OAAOb,GAAsBxT,EAAKqU,GAGpC,SAASE,GAAgBvD,GACvB,IAAIwD,EAAQ,GAaZ,OAZAA,EAAMxsB,KAAK,uKAEPgpB,EAAO1f,SAAW0f,EAAOzf,YAC3BijB,EAAMxsB,KAAK,kBAAoBgpB,EAAOzf,WAAa,gBAGjDyf,EAAOxf,WAAa,IACtBgjB,EAAMxsB,KAAK,0BAA4BgpB,EAAOxf,WAAa,kBAC3DgjB,EAAMxsB,KAAK,kBAAoBgpB,EAAOxf,WAAa,mBAGrDgjB,EAAMxsB,KAAK,KACJwsB,EAAM9lB,KAAK,MAUpB,SAAS+lB,GAAkBzD,GACzB,IAAI0D,EAAU,GAsBd,OApBI1D,EAAO/f,OAASwiB,GAAWkB,MAC7BD,EAAQ1sB,KAAK,mCAGW,MAAtBgpB,EAAO9f,YACTwjB,EAAQ1sB,KAAK,cAAgBgpB,EAAO9f,WAAa,MAG3B,MAApB8f,EAAO7f,UACTujB,EAAQ1sB,KAAK,YAAcgpB,EAAO7f,SAAW,MAGtB,IAArB6f,EAAO5f,WACTsjB,EAAQ1sB,KAAK,aAAegpB,EAAO5f,UAAY,MAG5B,IAAjB4f,EAAO3f,OACTqjB,EAAQ1sB,KAAK,SAAWgpB,EAAO3f,MAAQ,MAGlB,IAAnBqjB,EAAQpvB,OACH,KAGFovB,EAAQhmB,KAAK,KAGtB,SAASkmB,GAAYvD,GACnB,OAAOA,EAAOvoB,MAAM,EAAG,GAAG+T,KAAI,SAAU1U,GACtC,OAAOA,EAAE0U,KAAI,SAAU1U,GACrB,OAAOA,EAAEoX,QAAQ,MAChB7Q,KAAK,QACPA,KAAK,KAGV,SAASmmB,GAAwB7D,GAC/B,OAAO4D,GAAY7D,GAAmBC,KA5CxC,SAAWyC,GACTA,EAAWA,EAAkB,MAAI,GAAK,QACtCA,EAAWA,EAAiB,KAAI,GAAK,OAFvC,CAGGA,KAAeA,GAAa,KA4C/B,IAAIqB,GAAU,EACVC,GAAc,IAAIzb,IAClB0b,GAAY,IAAI1b,IAEpB,SAAS2b,GAAQC,GACf,OAAOrvB,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOmB,EAAYnB,MAAM,SAAUqH,GACjC,MAAO,CAAC,EAAG,IAAI5G,SAAQ,SAAUD,EAASE,GACxC,IAAIoJ,IAAOolB,GACXC,GAAY5a,IAAIzK,EAAItJ,GACpB4uB,GAAU7a,IAAIzK,EAAIpJ,GAClB+H,OAAOC,QAAQW,YAAY,CACzBQ,KAAMzG,EAAYqC,SAClBsE,KAAMulB,EACNxlB,GAAIA,cAOdrB,OAAOC,QAAQ8B,UAAUC,aAAY,SAAUpD,GAC7C,IAAIwC,EAAOxC,EAAGwC,KACVE,EAAO1C,EAAG0C,KACVpH,EAAQ0E,EAAG1E,MACXmH,EAAKzC,EAAGyC,GAEZ,GAAID,IAASzG,EAAY4B,kBAAmB,CAC1C,IAAIxE,EAAU2uB,GAAYvnB,IAAIkC,GAC1BpJ,EAAS0uB,GAAUxnB,IAAIkC,GAC3BqlB,GAAYnd,OAAOlI,GACnBslB,GAAUpd,OAAOlI,GAEbnH,EACFjC,GAAUA,EAAOiC,GAEjBnC,GAAWA,EAAQuJ,OAKzB,IAgDIwlB,GAAe,IAhDF,WACf,SAASC,IACPxvB,KAAKyvB,MAAQ,GACbzvB,KAAK0vB,QAAU,KACf1vB,KAAK2vB,cAAgB,IAAO,GAyC9B,OAtCAH,EAAW5vB,UAAUgwB,WAAa,SAAUC,GAC1C7vB,KAAKyvB,MAAMrtB,KAAKytB,GAChB7vB,KAAK8vB,cAGPN,EAAW5vB,UAAUmwB,UAAY,WACV,OAAjB/vB,KAAK0vB,UACP5hB,qBAAqB9N,KAAK0vB,SAC1B1vB,KAAK0vB,QAAU,MAGjB1vB,KAAKyvB,MAAQ,IAGfD,EAAW5vB,UAAUkwB,WAAa,WAChC,IAAIE,EAAQhwB,KAERA,KAAK0vB,UAIT1vB,KAAK0vB,QAAU9hB,uBAAsB,WACnCoiB,EAAMN,QAAU,KAIhB,IAHA,IACIxlB,EADAwF,EAAQI,KAAKD,MAGV3F,EAAK8lB,EAAMP,MAAMthB,SAGtB,GAFAjE,IAEI4F,KAAKD,MAAQH,GAASsgB,EAAML,cAAe,CAC7CK,EAAMF,aAEN,YAMDN,EA7CQ,IAkDjB,SAASS,GAAgBhpB,GACvB,OAAOhH,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAIgwB,EAAQhwB,KAEZ,OAAOmB,EAAYnB,MAAM,SAAUqH,GACjC,MAAO,CAAC,EAAG,IAAI5G,SAAQ,SAAUD,EAASE,GACxC,OAAOT,EAAU+vB,OAAO,OAAQ,GAAQ,WACtC,IAAIE,EAASvmB,EAASwmB,EAASC,EAC/B,OAAOjvB,EAAYnB,MAAM,SAAUqH,GACjC,OAAQA,EAAG5F,OACT,KAAK,EACH,OAAKwF,EAAIb,WAAW,UACpB8pB,EAAUjpB,EACH,CAAC,EAAG,IAF0B,CAAC,EAAG,GAI3C,KAAK,EAGH,OAFAI,EAAG1F,KAAKS,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAAGiuB,GAAgBppB,IAE7B,KAAK,EAEH,OADAipB,EAAU7oB,EAAG3F,OACN,CAAC,EAAG,GAEb,KAAK,EAGH,OAFAiI,EAAUtC,EAAG3F,OACbhB,EAAOiJ,GACA,CAAC,GAEV,KAAK,EAGH,OAFAtC,EAAG1F,KAAKS,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAAGkuB,GAAWJ,IAExB,KAAK,EAUH,OATAC,EAAU9oB,EAAG3F,OACb6tB,GAAaK,YAAW,WACtBpvB,EAAQtB,EAAQ,CACdqxB,IAAKtpB,EACLipB,QAASA,EACTM,MAAOL,EAAQM,aACfC,OAAQP,EAAQQ,eACfC,GAAaT,QAEX,CAAC,EAAG,GAEb,KAAK,EAGH,OAFAC,EAAU/oB,EAAG3F,OACbhB,EAAO0vB,GACA,CAAC,EAAG,GAEb,KAAK,EACH,MAAO,CAAC,oBASxB,SAASC,GAAgBppB,GACvB,OAAOhH,EAAUD,UAAM,OAAQ,GAAQ,WAErC,OAAOmB,EAAYnB,MAAM,SAAUqH,GACjC,OAAQA,EAAG5F,OACT,KAAK,EAEH,OADY,IAAIyT,IAAIjO,GACJE,SAAWoO,SAASpO,OAAgB,CAAC,EAAG,GACjD,CAAC,EAAGc,EAAchB,IAE3B,KAAK,EASL,KAAK,EACH,MAAO,CAAC,EAAGI,EAAG3F,QAPhB,KAAK,EACH,MAAO,CAAC,EAAG2tB,GAAQ,CACjBpoB,IAAKA,EACLwC,aAAc,qBAU1B,SAAS6mB,GAAWrpB,GAClB,OAAOhH,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOmB,EAAYnB,MAAM,SAAUqH,GACjC,MAAO,CAAC,EAAG,IAAI5G,SAAQ,SAAUD,EAASE,GACxC,IAAImwB,EAAQ,IAAIC,MAEhBD,EAAME,OAAS,WACb,OAAOvwB,EAAQqwB,IAGjBA,EAAMG,QAAU,WACd,OAAOtwB,EAAO,wBAA0BuG,IAG1C4pB,EAAMN,IAAMtpB,YAMpB,IACIgqB,GACAC,GAFAC,GAA2B,KAI/B,SAASC,KACP,IAAIC,EAAWF,GACXG,EAAYH,IAChBF,GAASpqB,SAAS+N,cAAc,WACzB4b,MAAQa,EACfJ,GAAOP,OAASY,GAChBJ,GAAUD,GAAOM,WAAW,OACpBC,uBAAwB,EAGlC,SAASC,KACPR,GAAS,KACTC,GAAU,KAGZ,IAAIQ,GAAiB,QAErB,SAASd,GAAaC,GACfI,IACHG,KAGF,IAAIX,EAAeI,EAAMJ,aACrBE,EAAgBE,EAAMF,cAE1B,GAAsB,IAAlBA,GAAwC,IAAjBF,EAEzB,OADAnjB,EAAQ,0BAA4BujB,EAAMc,WAAa,KAChD,KAKT,GAFWlB,EAAeE,EAAgB,EAE/Be,GAET,OADArkB,EAAQ,4DACD,CACL8f,QAAQ,EACRyE,SAAS,EACTC,eAAe,EACfC,SAAS,EACTC,YAAY,GAIhB,IAAIC,EAAqBvB,EAAeE,EACpC9G,EAAI/Q,KAAKY,IAAI,EAAGZ,KAAKmZ,KAAKd,GAA2Ba,IACrDxB,EAAQ1X,KAAKoZ,KAAKzB,EAAe5G,GACjC6G,EAAS5X,KAAKoZ,KAAKvB,EAAgB9G,GACvCqH,GAAQiB,UAAU,EAAG,EAAG3B,EAAOE,GAC/BQ,GAAQkB,UAAUvB,EAAO,EAAG,EAAGJ,EAAcE,EAAe,EAAG,EAAGH,EAAOE,GACzE,IAQInxB,EAAGsZ,EAAGvX,EACNmB,EAAGlB,EAAGkU,EACNzS,EATAqvB,EADYnB,GAAQoB,aAAa,EAAG,EAAG9B,EAAOE,GAChC3mB,KACdwoB,EAA8B,IAC9BC,EAA2B,GAC3BC,EAA4B,GAC5BC,EAAyB,EACzBC,EAAkB,EAClBC,EAAmB,EAKvB,IAAKtxB,EAAI,EAAGA,EAAIovB,EAAQpvB,IACtB,IAAKuX,EAAI,EAAGA,EAAI2X,EAAO3X,IAErBpW,EAAI4vB,EAAM,GADV9yB,EAAI,GAAK+B,EAAIkvB,EAAQ3X,KACN,IACftX,EAAI8wB,EAAE9yB,EAAI,GAAK,IACfkW,EAAI4c,EAAE9yB,EAAI,GAAK,IACX8yB,EAAE9yB,EAAI,GAAK,IAEPgzB,EACNG,MAEA1vB,EAAI,MAASP,EAAI,MAASlB,EAAI,MAASkU,GAE/B+c,GACNG,IAGE3vB,EAAIyvB,GACNG,KAMR,IAAIC,EAAmBrC,EAAQE,EAC3BoC,EAAoBD,EAAmBH,EAK3C,MAAO,CACLvF,OAAQwF,EAAkBG,GALD,GAMzBlB,QAASgB,EAAmBE,GALF,GAM1BjB,cAAea,EAAyBG,GALR,GAMhCf,QAASE,GALoB,KAM7BD,YAAY,GAIhB,SAASgB,GAAwB1rB,EAAIskB,GACnC,IAAIuE,EAAU7oB,EAAG6oB,QACbM,EAAQnpB,EAAGmpB,MACXE,EAASrpB,EAAGqpB,OAEZsC,EAAM,CAAC,6FAAoGxC,EAAQ,aAAiBE,EAAS,KAAO,SAAU,wCAAyC,wCAD9LzB,GAAwBtD,GAC4N,OAAS,YAAa,UAAW,iBAAoB6E,EAAQ,aAAiBE,EAAS,wDAA8DR,EAAU,OAAS,UAAUpnB,KAAK,IACxb,MAAO,6BAA+BmqB,KAAKD,GAG7C,SAASE,KACP3D,IAAgBA,GAAaQ,YAC7B0B,KAGF,SAAS0B,GAAYC,EAAW9b,GAC9B,OAAO+b,QAAQD,GAAaA,EAAUE,oBAAoBhc,IAG5D,SAASic,GAA4Bjc,EAAU/W,EAAO6V,EAAMod,EAAgBC,EAAsBC,GAChG,GAAIpc,EAASlR,WAAW,OAGtB,GAFIutB,EAAWC,GAAoBJ,EAAgBlc,EAAU/W,EAAO6V,EAAMqd,EAAsBC,GAG9F,MAAO,CACLpc,SAAUA,EACV/W,MAAOozB,EACPE,UAAWV,GAAY/c,EAAKiB,MAAOC,GACnCwc,YAAavzB,QAGZ,GAAIA,EAAMwF,SAAS,SAGxB,GAFI4tB,EAAWI,GAA6BP,EAAgBlc,EAAU/W,GAGpE,MAAO,CACL+W,SAAUA,EACV/W,MAAOozB,EACPE,UAAWV,GAAY/c,EAAKiB,MAAOC,GACnCwc,YAAavzB,QAGZ,GAAI+W,EAASvR,SAAS,UAAyB,+BAAbuR,GAA0D,SAAbA,GAAoC,WAAbA,GAAsC,eAAbA,GAGpI,GAFIqc,EAAWK,GAAiB1c,EAAU/W,GAGxC,MAAO,CACL+W,SAAUA,EACV/W,MAAOozB,EACPE,UAAWV,GAAY/c,EAAKiB,MAAOC,GACnCwc,YAAavzB,QAGZ,GAAiB,qBAAb+W,GAAgD,qBAAbA,GAG5C,GAFIqc,EAAWM,GAAmB1zB,EAAO6V,EAAMqd,EAAsBC,GAGnE,MAAO,CACLpc,SAAUA,EACV/W,MAAOozB,EACPE,UAAWV,GAAY/c,EAAKiB,MAAOC,GACnCwc,YAAavzB,QAGZ,GAAI+W,EAASvR,SAAS,UAAW,CACtC,IAAI4tB,EAEJ,GAFIA,EAAWO,GAAkB3zB,GAG/B,MAAO,CACL+W,SAAUA,EACV/W,MAAOozB,EACPE,UAAWV,GAAY/c,EAAKiB,MAAOC,GACnCwc,YAAavzB,GAKnB,OAAO,KAGT,SAAS4zB,GAA0BxI,EAAOyI,EAAU/nB,GAClD,IAAIuiB,EAAQ,GA2EZ,OAzEKwF,IACHxF,EAAMxsB,KAAK,UACXwsB,EAAMxsB,KAAK,yBAA2BwrB,GAAsB,CAC1DnrB,EAAG,IACHlB,EAAG,IACHkU,EAAG,KACFkW,GAAS,gBACZiD,EAAMxsB,KAAK,MAGbwsB,EAAMxsB,MAAWgyB,EAAW,GAAK,iBAAmB/nB,EAAsB,kCAAoC,IAAM,MACpHuiB,EAAMxsB,KAAK,yBAA2BwrB,GAAsB,CAC1DnrB,EAAG,IACHlB,EAAG,IACHkU,EAAG,KACFkW,GAAS,KACZiD,EAAMxsB,KAAK,KACXwsB,EAAMxsB,KAAK,gBAAkBiK,EAAsB,kCAAoC,IAAM,MAC7FuiB,EAAMxsB,KAAK,qBAAuBmsB,GAAkB,CAClD9rB,EAAG,GACHlB,EAAG,GACHkU,EAAG,IACFkW,GAAS,KACZiD,EAAMxsB,KAAK,cAAgBisB,GAAsB,CAC/C5rB,EAAG,EACHlB,EAAG,EACHkU,EAAG,GACFkW,GAAS,KACZiD,EAAMxsB,KAAK,KACXwsB,EAAMxsB,KAAK,OACXwsB,EAAMxsB,KAAK,cAAgBisB,GAAsB,CAC/C5rB,EAAG,EACHlB,EAAG,GACHkU,EAAG,KACFkW,GAAS,KACZiD,EAAMxsB,KAAK,KACXwsB,EAAMxsB,KAAK,WACXwsB,EAAMxsB,KAAK,qBAAuBmsB,GAAkB,CAClD9rB,EAAG,IACHlB,EAAG,IACHkU,EAAG,KACFkW,GAAS,KACZiD,EAAMxsB,KAAK,KACXwsB,EAAMxsB,KAAK,mBACXwsB,EAAMxsB,KAAK,cAAgBisB,GAAsB,CAC/C5rB,EAAG,IACHlB,EAAG,IACHkU,EAAG,KACFkW,GAAS,KACZiD,EAAMxsB,KAAK,KACXwsB,EAAMxsB,KAAK,2BACXwsB,EAAMxsB,KAAK,8BACXwsB,EAAMxsB,KAAK,6BACXwsB,EAAMxsB,KAAK,yBAA2BwrB,GAAsB,CAC1DnrB,EAAG,IACHlB,EAAG,IACHkU,EAAG,KACFkW,GAAS,gBACZiD,EAAMxsB,KAAK,cAAgBisB,GAAsB,CAC/C5rB,EAAG,EACHlB,EAAG,EACHkU,EAAG,GACFkW,GAAS,gBACZiD,EAAMxsB,KAAK,KAEPupB,EAAMxf,gBACRyiB,EAAMxsB,KAAKiyB,GAA0B1I,IAGnCA,EAAMvf,gBACRwiB,EAAMxsB,KAAKkyB,GAA0B3I,IAGhCiD,EAAM9lB,KAAK,MAGpB,SAASyrB,GAAkB5I,GACzB,IAAI6I,EACAC,EAEJ,GAA6B,SAAzB9I,EAAMvf,eACRooB,EAA2B5G,GAAsB,CAC/CnrB,EAAG,EACHlB,EAAG,GACHkU,EAAG,KACFvW,EAAQA,EAAQ,GAAIysB,GAAQ,CAC7BngB,UAAW,KAEbipB,EAA2BpG,GAAsB,CAC/C5rB,EAAG,IACHlB,EAAG,IACHkU,EAAG,KACFvW,EAAQA,EAAQ,GAAIysB,GAAQ,CAC7BngB,UAAW,SAER,CACL,IACIgP,EAAMnB,GADAuB,GAAM+Q,EAAMvf,iBAEtBooB,EAA2B7I,EAAMvf,eAG/BqoB,EADEja,EAAIxX,EAAI,GACiB,OAEA,OAI/B,MAAO,CACLwxB,yBAA0BA,EAC1BC,yBAA0BA,GAI9B,SAASH,GAA0B3I,GACjC,IAAIiD,EAAQ,GACR8F,EAAyBH,GAAkB5I,GAC3C6I,EAA2BE,EAAuBF,yBAClDC,EAA2BC,EAAuBD,yBAOtD,MANA,CAAC,cAAe,oBAAoBxqB,SAAQ,SAAU0qB,GACpD/F,EAAMxsB,KAAKuyB,EAAY,MACvB/F,EAAMxsB,KAAK,yBAA2BoyB,EAA2B,gBACjE5F,EAAMxsB,KAAK,cAAgBqyB,EAA2B,gBACtD7F,EAAMxsB,KAAK,QAENwsB,EAAM9lB,KAAK,MAGpB,SAASurB,GAA0B1I,GACjC,IACIiJ,EACAC,EACAC,EACAC,EACAC,EACAC,EANArG,EAAQ,GAQZ,GAA6B,SAAzBjD,EAAMxf,eACRyoB,EAAahH,GAAsB,CACjCnrB,EAAG,IACHlB,EAAG,IACHkU,EAAG,KACFkW,GACHkJ,EAAaxG,GAAsB,CACjC5rB,EAAG,GACHlB,EAAG,GACHkU,EAAG,IACFkW,GACHmJ,EAAalH,GAAsB,CACjCnrB,EAAG,IACHlB,EAAG,IACHkU,EAAG,KACFkW,GACHoJ,EAAkBnH,GAAsB,CACtCnrB,EAAG,IACHlB,EAAG,IACHkU,EAAG,KACFkW,GACHqJ,EAAmBpH,GAAsB,CACvCnrB,EAAG,GACHlB,EAAG,GACHkU,EAAG,IACFkW,GACHsJ,EAAcrH,GAAsB,CAClCnrB,EAAG,IACHlB,EAAG,IACHkU,EAAG,KACFkW,OACE,CACL,IACIuJ,EAAQ7b,GADFuB,GAAM+Q,EAAMxf,iBAElBylB,EAAUsD,EAAMlyB,EAAI,GAEpBmyB,EAAU,SAAiBC,GAC7B,OAAOl2B,EAAQA,EAAQ,GAAIg2B,GAAQ,CACjClyB,EAAGsmB,GAAM4L,EAAMlyB,EAAIoyB,EAAS,EAAG,MAI/BC,EAAS,SAAgBC,GAC3B,OAAOp2B,EAAQA,EAAQ,GAAIg2B,GAAQ,CACjClyB,EAAGsmB,GAAM4L,EAAMlyB,EAAIsyB,EAAQ,EAAG,MAIlCV,EAAara,GAAY8a,EAAO,KAChCR,EAAata,GAAYqX,EAAUyD,EAAO,IAAOF,EAAQ,KACzDL,EAAava,GAAY2a,GACzBH,EAAkBxa,GAAY4a,EAAQ,KACtCH,EAAmBza,GAAY4a,EAAQ,KA0BzC,OAvBAvG,EAAMxsB,KAAK,yBACXwsB,EAAMxsB,KAAK,yBAA2BwyB,EAAa,KACnDhG,EAAMxsB,KAAK,cAAgByyB,EAAa,KACxCjG,EAAMxsB,KAAK,KACXwsB,EAAMxsB,KAAK,+BACXwsB,EAAMxsB,KAAK,yBAA2B0yB,EAAa,KACnDlG,EAAMxsB,KAAK,KACXwsB,EAAMxsB,KAAK,qCACXwsB,EAAMxsB,KAAK,yBAA2B2yB,EAAkB,KACxDnG,EAAMxsB,KAAK,KACXwsB,EAAMxsB,KAAK,sCACXwsB,EAAMxsB,KAAK,yBAA2B4yB,EAAmB,KACzDpG,EAAMxsB,KAAK,KACXwsB,EAAMxsB,KAAK,gCACXwsB,EAAMxsB,KAAK,yBAA2B6yB,EAAc,KACpDrG,EAAMxsB,KAAK,KAEP6D,IACF2oB,EAAMxsB,KAAK,OACXwsB,EAAMxsB,KAAK,wBAA0B0yB,EAAa,IAAMF,EAAa,KACrEhG,EAAMxsB,KAAK,MAGNwsB,EAAM9lB,KAAK,MAGpB,SAASysB,GAAyB9G,EAAQpnB,GACxC,IAAImuB,EAASnuB,EAAGmuB,OACZ5G,EAAQ,GAkBZ,OAjBAA,EAAMxsB,KAAK,gBAAkBozB,EAAS,qEAAuE,uBAAyB,MACtI5G,EAAMxsB,KAAK,yBAA2BwrB,GAAsB,CAC1DnrB,EAAG,IACHlB,EAAG,IACHkU,EAAG,KACFgZ,GAAU,gBACbG,EAAMxsB,KAAK,qBAAuBmsB,GAAkB,CAClD9rB,EAAG,GACHlB,EAAG,GACHkU,EAAG,IACFgZ,GAAU,gBACbG,EAAMxsB,KAAK,cAAgBisB,GAAsB,CAC/C5rB,EAAG,EACHlB,EAAG,EACHkU,EAAG,GACFgZ,GAAU,gBACbG,EAAMxsB,KAAK,KACJwsB,EAAM9lB,KAAK,MAGpB,IAAI2sB,GAAmB,IAAIrsB,IAAI,CAAC,UAAW,cAAe,UAAW,eAAgB,OAAQ,UACzFssB,GAAkB,IAAIhiB,IAE1B,SAASiiB,GAAoB9a,GAG3B,GAFAA,EAASA,EAAOrD,OAEZke,GAAgBpiB,IAAIuH,GACtB,OAAO6a,GAAgB9tB,IAAIiT,GAGzBA,EAAO9U,SAAS,WAClB8U,EAASuC,GAAoBvC,IAG/B,IAAIwC,EAAQzC,GAAMC,GAElB,OADA6a,GAAgBnhB,IAAIsG,EAAQwC,GACrBA,EAGT,SAASuY,GAAc/a,GACrB,IACE,OAAO8a,GAAoB9a,GAC3B,MAAO9T,GACP,OAAO,MAIX,SAASitB,GAAiB9c,EAAM3W,GAC9B,GAAIk1B,GAAiBniB,IAAI/S,EAAMqF,eAC7B,OAAOrF,EAGT,IACE,IAAIs1B,EAAQF,GAAoBp1B,GAEhC,OAAI2W,EAAKnR,SAAS,cACT,SAAU0oB,GACf,OAAOb,GAAsBiI,EAAOpH,IAIpCvX,EAAKnR,SAAS,WAAamR,EAAKnR,SAAS,WACpC,SAAU0oB,GACf,OAAOF,GAAkBsH,EAAOpH,IAI7B,SAAUA,GACf,OAAOJ,GAAsBwH,EAAOpH,IAEtC,MAAO1nB,GAEP,OADAuG,EAAQ,oBAAqBvG,GACtB,MAIX,IAAI+uB,GAAgB,kFAChBC,GAAoB,IAAIriB,IACxBsiB,GAA0B,IAAItiB,IAElC,SAASuiB,GAAkB5f,EAAc6f,GACvC,IAAK7f,GAAqC,IAArB6f,EAAUx2B,OAC7B,OAAO,EAGT,GAAIw2B,EAAUxf,MAAK,SAAUpX,GAC3B,MAAa,MAANA,KAEP,OAAO,EAiBT,IAdA,IAAI62B,EAAgB9f,EAAasU,MAAM,SAEnCyL,EAAU,SAAiB72B,GAC7B,IAAI82B,EAAkBH,EAAU32B,GAEhC,GAAI42B,EAAczf,MAAK,SAAUpX,GAC/B,OAAOA,IAAM+2B,KAEb,MAAO,CACL91B,OAAO,IAKJhB,EAAI,EAAGA,EAAI22B,EAAUx2B,OAAQH,IAAK,CACzC,IAAI+2B,EAAUF,EAAQ72B,GAEtB,GAAuB,iBAAZ+2B,EAAsB,OAAOA,EAAQ/1B,MAGlD,OAAO,EAGT,SAAS0zB,GAAmB1zB,EAAO6V,EAAMqd,EAAsBC,GAC7D,IAAI1D,EAAQhwB,KAEZ,IACE,IAAIu2B,EAAYxM,GAAW+L,GAAev1B,GACtCi2B,EAAOzM,GAAWnS,GAAarX,GAEnC,GAAoB,IAAhBi2B,EAAK92B,QAAqC,IAArB62B,EAAU72B,OACjC,OAAOa,EAGT,IAAIk2B,EAAa,SAAoBtM,GACnC,IAAIlQ,EAAQ,EACZ,OAAOkQ,EAAQlT,KAAI,SAAUtQ,GAC3B,IAAI+vB,EAAan2B,EAAMwZ,QAAQpT,EAAOsT,GAEtC,OADAA,EAAQyc,EAAa/vB,EAAMjH,OACpB,CACLiH,MAAOA,EACPsT,MAAOyc,OAKTC,EAAYF,EAAWD,GAAMvf,KAAI,SAAU1X,GAC7C,OAAOL,EAAQ,CACb2K,KAAM,OACLtK,MACF4D,OAAOszB,EAAWF,GAAWtf,KAAI,SAAU1X,GAC5C,OAAOL,EAAQ,CACb2K,KAAM,YACLtK,OACDq3B,MAAK,SAAU1pB,EAAGuI,GACpB,OAAOvI,EAAE+M,MAAQxE,EAAEwE,SAGjB4c,EAAwB,SAA+BC,GACzD,IAAInwB,EAAQmwB,EAASnwB,MAAM,2BACvBkD,EAAOlD,EAAM,GACbowB,EAAUpwB,EAAM,GAEhBqwB,EAAiB,kDACjBC,EAAQlN,GAFK,iEAEkBgN,EAAS,GAAG9f,KAAI,SAAUigB,GAE3D,IAAI9c,EAAMwb,GADVsB,EAAOA,EAAK1f,QAGZ,GAAI4C,EACF,OAAO,SAAUqU,GACf,OAAOC,GAAoBtU,EAAKqU,IAIpC,IAAI0I,EAAQD,EAAKE,YAAY,KAG7B,GAFAhd,EAAMwb,GAAcsB,EAAKhd,UAAU,EAAGid,IAGpC,OAAO,SAAU1I,GACf,OAAOC,GAAoBtU,EAAKqU,GAAU,IAAMyI,EAAKhd,UAAUid,EAAQ,IAI3E,IAAIE,EAAiBH,EAAKvwB,MAAMqwB,GAEhC,OAAIK,IACFjd,EAAMwb,GAAcyB,EAAe,KAG1B,SAAU5I,GACf,OAAO4I,EAAe,GAAK,KAAOA,EAAe,GAAKA,EAAe,GAAK,KAAO,IAAM3I,GAAoBtU,EAAKqU,GAAU,KAKzH,WACL,OAAOyI,MAGX,OAAO,SAAUzI,GACf,OAAO5kB,EAAO,IAAMotB,EAAMhgB,KAAI,SAAUqgB,GACtC,OAAOA,EAAO7I,MACb3lB,KAAK,MAAQ,MAIhByuB,EAAmB,SAA0BC,GAC/C,IAAInwB,EAEJ,GAAI4uB,GAAkB7f,EAAKC,aAAcod,GACvC,OAAO,KAGT,IAAIxsB,EAAM6Q,GAAe0f,GACrBC,EAAmBrhB,EAAKqhB,iBACxBC,EAAUD,GAAoBA,EAAiB5iB,KAAOoD,GAAewf,EAAiB5iB,OAA+C,QAArCxN,EAAKowB,EAAiBE,iBAA8B,IAAPtwB,OAAgB,EAASA,EAAGuwB,UAAYriB,SAASpO,OAE9L0wB,EAAgB,SADpB5wB,EAAMmO,GAAesiB,EAASzwB,IACO,KACrC,OAAO,SAAUwnB,GACf,OAAOxuB,EAAU+vB,OAAO,OAAQ,GAAQ,WACtC,IAAI8H,EAAcC,EAClB,OAAO52B,EAAYnB,MAAM,SAAUqH,GACjC,OAAQA,EAAG5F,OACT,KAAK,EACH,OAAKs0B,GAAkBziB,IAAIrM,IAC3B6wB,EAAe/B,GAAkBnuB,IAAIX,GAC9B,CAAC,EAAG,IAF6B,CAAC,EAAG,GAI9C,KAAK,EAGH,OAFAI,EAAG1F,KAAKS,KAAK,CAAC,EAAG,EAAE,CAAE,IAEhB4zB,GAAwB1iB,IAAIrM,IACjC8wB,EAAa/B,GAAwBpuB,IAAIX,GAClC,CAAC,EAAG,IAAIxG,SAAQ,SAAUD,GAC/B,OAAOu3B,EAAW31B,KAAK5B,QAHqB,CAAC,EAAG,GAMpD,KAAK,EAGH,OAFAs3B,EAAezwB,EAAG3F,QAMX,CAAC,EAAG,GAHF,CAAC,EAAG,MAKf,KAAK,EAEH,OADAs0B,GAAwBzhB,IAAItN,EAAK,IAC1B,CAAC,EAAGgpB,GAAgBhpB,IAE7B,KAAK,EACH6wB,EAAezwB,EAAG3F,OAClBq0B,GAAkBxhB,IAAItN,EAAK6wB,GAC3B9B,GAAwBpuB,IAAIX,GAAKgD,SAAQ,SAAUzJ,GACjD,OAAOA,EAAQs3B,MAEjB9B,GAAwBhkB,OAAO/K,GAC/BI,EAAG5F,MAAQ,EAEb,KAAK,EACH,OAAIiyB,IACK,CAAC,EAAG,MAGN,CAAC,EAAG,GAEb,KAAK,EAWH,OATApmB,EADQjG,EAAG3F,QAGPs0B,GAAwB1iB,IAAIrM,KAC9B+uB,GAAwBpuB,IAAIX,GAAKgD,SAAQ,SAAUzJ,GACjD,OAAOA,EAAQ,SAEjBw1B,GAAwBhkB,OAAO/K,IAG1B,CAAC,EAAG4wB,GAEb,KAAK,EAEH,MAAO,CAAC,EADOG,EAAkBF,EAAcrJ,IAAWoJ,YAQlEG,EAAoB,SAA2BF,EAAcrJ,GAC/D,IAMIztB,EANAmsB,EAAS2K,EAAa3K,OACtByE,EAAUkG,EAAalG,QACvBC,EAAgBiG,EAAajG,cAC7BC,EAAUgG,EAAahG,QACvBC,EAAa+F,EAAa/F,WAC1BvB,EAAQsH,EAAatH,MA8BzB,OA3BIuB,EACF/wB,EAAS,QAAW82B,EAAavH,IAAM,KAC9BpD,GAAU0E,GAAiC,IAAhBpD,EAAOpjB,OAAeymB,GAAWtB,EAAQ,GAC7EnjB,EAAQ,wBAA0ByqB,EAAavH,KAI/CvvB,EAAS,QAHM+xB,GAAwB+E,EAAc54B,EAAQA,EAAQ,GAAIuvB,GAAS,CAChFhjB,MAAO6d,GAAMmF,EAAOhjB,MAAQ,GAAI,EAAG,QAEN,MACtBmmB,IAAYC,GAAiC,IAAhBpD,EAAOpjB,KACzCymB,EACF9wB,EAAS,QAETqM,EAAQ,uBAAyByqB,EAAavH,KAE9CvvB,EAAS,QADI+xB,GAAwB+E,EAAcrJ,GACtB,MAEN,IAAhBA,EAAOpjB,MAAcumB,IAAYE,GAC1CzkB,EAAQ,4BAA8ByqB,EAAavH,KAKnDvvB,EAAS,QAJM+xB,GAAwB+E,EAAc54B,EAAQA,EAAQ,GAAIuvB,GAAS,CAChFnjB,WAAYge,GAAMmF,EAAOnjB,WAAa,GAAI,EAAG,KAC7CG,MAAO6d,GAAMmF,EAAOhjB,MAAQ,GAAI,EAAG,QAEN,MAE/BzK,EAAS,KAGJA,GAGLi3B,EAAc,GACdC,EAAU,EAmBd,OAlBAvB,EAAU1sB,SAAQ,SAAU5C,EAAI9H,GAC9B,IAAIoH,EAAQU,EAAGV,MACXkD,EAAOxC,EAAGwC,KACVsuB,EAAa9wB,EAAG4S,MAChBme,EAAcF,EACdG,EAAWF,EAAaxxB,EAAMjH,OAClCw4B,EAAUG,EACVJ,EAAY71B,MAAK,WACf,OAAO7B,EAAM2Z,UAAUke,EAAaD,MAEtCF,EAAY71B,KAAc,QAATyH,EAAiB0tB,EAAiB5wB,GAASkwB,EAAsBlwB,IAE9EpH,IAAMo3B,EAAUj3B,OAAS,GAC3Bu4B,EAAY71B,MAAK,WACf,OAAO7B,EAAM2Z,UAAUme,SAItB,SAAU5J,GACf,IAAIrhB,EAAU6qB,EAAYxJ,OAAO4E,SAASpc,KAAI,SAAUqgB,GACtD,OAAOA,EAAO7I,MAGhB,OAAIrhB,EAAQsJ,MAAK,SAAUjU,GACzB,OAAOA,aAAahC,WAEbA,QAAQ63B,IAAIlrB,GAASlM,MAAK,SAAUq3B,GACzC,OAAOA,EAAazvB,KAAK,OAItBsE,EAAQtE,KAAK,KAEtB,MAAO/B,GAEP,OADAuG,EAAQ,4BAA8B/M,EAAOwG,GACtC,MAIX,SAASyxB,GAA0Bj4B,GACjC,IACE,IAAIk4B,EAAU,EACVC,EAAiB3O,GAAW,6EAA8ExpB,EAAO,GACjHo4B,EAAc,EACdC,EAAcF,EAAezhB,KAAI,SAAUtQ,EAAOpH,GACpD,IAAIs5B,EAAcJ,EACdK,EAAav4B,EAAMwZ,QAAQpT,EAAO8xB,GAClCJ,EAAWS,EAAanyB,EAAMjH,OAClC+4B,EAAUJ,EACV,IAAIje,EAAMwb,GAAcjvB,GAExB,OAAKyT,EAOE,SAAUqU,GACf,MAAO,GAAKluB,EAAM2Z,UAAU2e,EAAaC,GAActK,GAAkBpU,EAAKqU,IAAWlvB,IAAMm5B,EAAeh5B,OAAS,EAAIa,EAAM2Z,UAAUme,GAAY,MAPvJM,IACO,WACL,OAAOp4B,EAAM2Z,UAAU2e,EAAaR,QAQ1C,OAAO,SAAU5J,GACf,IAAIsK,EAAWH,EAAY3hB,KAAI,SAAUqgB,GACvC,OAAOA,EAAO7I,MACb3lB,KAAK,IACR,MAAO,CACLkwB,cAAeN,EAAeh5B,OAC9Bu5B,yBAA0BN,EAC1B33B,OAAQ+3B,IAGZ,MAAOhyB,GAEP,OADAuG,EAAQ,0BAA4B/M,EAAOwG,GACpC,MAIX,SAASmtB,GAAkB3zB,GACzB,IAAI24B,EAAiBV,GAA0Bj4B,GAE/C,OAAK24B,EAIE,SAAUvN,GACf,OAAOuN,EAAevN,GAAO3qB,QAJtB,KAQX,SAAS4yB,GAAoBJ,EAAgBtc,EAAM3W,EAAO6V,EAAM+iB,EAAqBzF,GACnF,OAAOF,EAAe4F,uBAAuB,CAC3CC,QAASniB,EACT4c,YAAavzB,EACb6V,KAAMA,EACN+iB,oBAAqBA,EACrBzF,YAAaA,IAIjB,SAASK,GAA6BP,EAAgBtc,EAAM3W,GAC1D,OAAOizB,EAAe8F,2BAA2BpiB,EAAM3W,GAGzD,SAASg5B,KACP7D,GAAgBrjB,QAChB2Z,KACA+J,GAAkB1jB,QAClB6gB,KACA8C,GAAwB3jB,QAG1B,IAAImnB,GAAmB,EACnBC,GAAqB,EACrBC,GAAuB,EACvBC,GAAiB,EA2kBjBnG,GAAiB,IAzkBA,WACnB,SAASoG,IACP55B,KAAK65B,SAAW,IAAInmB,IACpB1T,KAAK85B,WAAa,GAClB95B,KAAK+5B,YAAc,IAAI3wB,IACvBpJ,KAAKg6B,QAAU,IAAItmB,IACnB1T,KAAKi6B,iBAAmB,IAAI7wB,IAC5BpJ,KAAKk6B,cAAgB,IAAI9wB,IACzBpJ,KAAKm6B,cAAgB,IAAI/wB,IACzBpJ,KAAKo6B,gBAAkB,IAAI1mB,IAC3B1T,KAAKq6B,gBAAkB,IAAIjxB,IAC3BpJ,KAAKs6B,wBAA0B,IAAI5mB,IACnC1T,KAAKu6B,kBAAoB,IAAI7mB,IA0jB/B,OAvjBAkmB,EAAeh6B,UAAUyS,MAAQ,WAC/BrS,KAAK65B,SAASxnB,QACdrS,KAAK85B,WAAW1rB,OAAO,GACvBpO,KAAK+5B,YAAY1nB,QACjBrS,KAAKg6B,QAAQ3nB,QACbrS,KAAKi6B,iBAAiB5nB,QACtBrS,KAAKk6B,cAAc7nB,QACnBrS,KAAKm6B,cAAc9nB,QACnBrS,KAAKo6B,gBAAgB/nB,QACrBrS,KAAKq6B,gBAAgBhoB,QACrBrS,KAAKs6B,wBAAwBjoB,QAC7BrS,KAAKu6B,kBAAkBloB,SAGzBunB,EAAeh6B,UAAU46B,UAAY,SAAUnB,EAASoB,GACtD,OAAOz6B,KAAK65B,SAASvmB,IAAI+lB,KAAar5B,KAAK65B,SAASjyB,IAAIyxB,GAAWoB,GAAW,GAGhFb,EAAeh6B,UAAU86B,oBAAsB,SAAUzkB,GACvDjW,KAAK85B,WAAW13B,KAAK6T,IAGvB2jB,EAAeh6B,UAAU+6B,4BAA8B,WACrD,IAAI3K,EAAQhwB,KAEZA,KAAKq6B,gBAAgBhoB,QACrBrS,KAAKo6B,gBAAkB,IAAI1mB,IAAI1T,KAAK65B,UACpC75B,KAAK46B,uBACL56B,KAAK66B,0BAA0B76B,KAAK85B,YACpC95B,KAAK85B,WAAW1rB,OAAO,GACvBpO,KAAK86B,2BACL96B,KAAKg6B,QAAQ/vB,SAAQ,SAAU8wB,EAAM/4B,GACnC+4B,EAAK9wB,SAAQ,SAAUxH,GACjButB,EAAM6J,SAASvmB,IAAItR,IACrBguB,EAAMgL,oBAAoBv4B,EAAGutB,EAAM6J,SAASjyB,IAAI5F,UAItDhC,KAAKi6B,iBAAiBhwB,SAAQ,SAAUjI,GAClCguB,EAAMkK,cAAc5mB,IAAItR,IAC1BguB,EAAMiK,iBAAiBjoB,OAAOhQ,GAE9BguB,EAAMkK,cAAcloB,OAAOhQ,GAE3BguB,EAAMgL,oBAAoBh5B,EAAGw3B,KACpBxJ,EAAMwK,UAAUx4B,EAAGw3B,GAAmBC,GAAqBC,IACpE1J,EAAMiK,iBAAiBjoB,OAAOhQ,GAE9BguB,EAAMmK,cAAc7vB,IAAItI,MAG5BhC,KAAKk6B,cAAcjwB,SAAQ,SAAUjI,GAG7B,MAFSguB,EAAMiL,WAAWj5B,GAAG,SAAUk5B,GAC3C,OAAOlL,EAAMiK,iBAAiB3mB,IAAI4nB,IAAQlL,EAAMwK,UAAUU,EAAKzB,GAAqBC,OAIpF1J,EAAMmL,eAAen5B,GAAG,SAAUk5B,GAChClL,EAAMgL,oBAAoBE,EAAK1B,OAExBxJ,EAAMwK,UAAUx4B,EAAGw3B,GAAmBG,IAC/C3J,EAAMkK,cAAcloB,OAAOhQ,GAE3BguB,EAAMmK,cAAc7vB,IAAItI,MAG5BhC,KAAKq6B,gBAAgBpwB,SAAQ,SAAUovB,GACjCrJ,EAAMsK,wBAAwBhnB,IAAI+lB,IACpCrJ,EAAMsK,wBAAwB1yB,IAAIyxB,GAASpvB,SAAQ,SAAUI,GAC3DA,UAINrK,KAAKq6B,gBAAgBhoB,SAGvBunB,EAAeh6B,UAAUw5B,uBAAyB,SAAUgC,GAC1D,IAAIpL,EAAQhwB,KAEZ,OAAO,SAAU2rB,GACf,IAAI0N,EAAU+B,EAAQ/B,QAClBvF,EAAcsH,EAAQtH,YACtB1d,EAAOglB,EAAQhlB,KACf+iB,EAAsBiC,EAAQjC,oBAC9BzF,EAAc0H,EAAQ1H,YAEtB2H,EAAkB,WACpB,IAAIC,EAAe,GAEfC,EAAmB,SAA0Bd,EAASe,EAAgBC,GACxE,GAAKzL,EAAMwK,UAAUnB,EAASoB,GAA9B,CAIA,IACIiB,EADApkB,EAAWkkB,EAAenC,GAG9B,GAAIsC,GAAe7H,GACjB,GAAI8H,GAAsB9H,GAAc,CACtC,IAAIvzB,EAAQs7B,GAAgB/H,EAAa9D,EAAMuK,mBAE1Ch6B,IACHA,EAAQk6B,IAAYjB,GAAmB,UAAY,WAGrDkC,EAAgBD,EAAcl7B,EAAOorB,QAErC+P,EAAgBI,GAAyBhI,GAAa,SAAU9xB,GAC9D,OAAOw5B,EAAex5B,MACrB,SAAU+5B,GACX,OAAON,EAAcM,EAAUpQ,WAInC+P,EAAgBD,EAAc3H,EAAanI,GAG7C2P,EAAal5B,KAAK,CAChBkV,SAAUA,EACV/W,MAAOm7B,MAQX,GAJAH,EAAiB/B,GAAkBwC,GAAyBC,IAC5DV,EAAiB9B,GAAoByC,GAA2BC,IAChEZ,EAAiB7B,GAAsB0C,GAA6BC,IAEhErM,EAAMwK,UAAUnB,EAASM,IAAiB,CAC5C,IAAIriB,EAAWglB,GAAsBjD,GACjCqC,EAAgB5H,EAEhB6H,GAAe7H,KACjB4H,EAAgBI,GAAyBhI,GAAa,SAAU9xB,GAC9D,OAAOg6B,GAAwBh6B,MAC9B,SAAU+5B,GACX,OAAOE,GAAiBF,EAAUpQ,OAItC,IAAI4Q,EAAatI,GAAmByH,EAAetlB,EAAM+iB,EAAqBzF,GAC9EgI,EAAsC,mBAAfa,EAA4BA,EAAW5Q,GAAS4Q,EACvEjB,EAAal5B,KAAK,CAChBkV,SAAUA,EACV/W,MAAOm7B,IAIX,OAAOJ,GAGLxnB,EAAY,IAAI1K,IAEhBqB,EAAc,SAAqB+xB,GACrC,IAAInyB,EAAW,WACb,IAAIoyB,EAAOpB,IACXmB,EAAaC,IAGf3oB,EAAUxJ,IAAID,GAEd2lB,EAAM0M,0BAA0BrD,EAAShvB,IAGvCsyB,EAAkB,WACpB7oB,EAAU7J,SAAQ,SAAUI,GAC1B2lB,EAAM4M,mCAAmCvD,EAAShvB,OAItD,MAAO,CACLixB,aAAcD,IACdmB,aAAc,CACZ/xB,YAAaA,EACbkyB,gBAAiBA,MAMzB/C,EAAeh6B,UAAU05B,2BAA6B,SAAUhiB,EAAUwc,GACxE,IAAI9D,EAAQhwB,KAEZ,GAAI8zB,EAAYntB,MAAM,qBAAsB,CAC1C,IAAIk2B,EAASvlB,EAASlR,WAAW,cAC7B02B,EAAwB,UAAbxlB,GAAqC,gBAAbA,EACvC,OAAO,SAAUqU,GACf,IAAIprB,EAAQs7B,GAAgB/H,EAAa9D,EAAMuK,mBAO/C,OALKh6B,IACHA,EAAQs8B,EAAS,UAAY,YAGhBA,EAASZ,GAAmBa,EAAWX,GAAqBE,IAC3D97B,EAAOorB,IAI3B,GAAiB,qBAAbrU,EACF,OAAO,SAAUqU,GACf,OAAOmQ,GAAyBhI,GAAa,SAAU9xB,GACrD,OAAOg6B,GAAwBh6B,MAC9B,SAAU+5B,GACX,OAAOE,GAAiBF,EAAUpQ,OAKxC,GAAiB,UAAbrU,GAAqC,gBAAbA,EAC1B,OAAO,SAAUqU,GACf,OAAOmQ,GAAyBhI,GAAa,SAAU9xB,GACrD,OAAOk6B,GAA0Bl6B,MAChC,SAAU+5B,GACX,OAAOI,GAAmBJ,EAAUpQ,OAK1C,GAAiB,eAAbrU,GAA0C,qBAAbA,GAAgD,eAAbA,EAClE,OAAO,SAAUqU,GACf,IAAIoR,EAAc,IAAI3zB,IAElBkuB,EAAS,WACX,IAAI0F,EAAmBlB,GAAyBhI,GAAa,SAAU9xB,GACrE,OAAIguB,EAAMwK,UAAUx4B,EAAGw3B,IACdwC,GAAwBh6B,GAG7BguB,EAAMwK,UAAUx4B,EAAG23B,IACd2C,GAAsBt6B,IAG/B+6B,EAAYzyB,IAAItI,GACTA,MACN,SAAU+5B,GACX,OAAOE,GAAiBF,EAAUpQ,MAGpC,GAAiB,eAAbrU,EAA2B,CAC7B,IACI2lB,EADiBzE,GAA0BwE,EAC1B9D,CAAevN,GAEpC,GAAIsR,EAAehE,2BAA6BgE,EAAejE,cAC7D,OAAOiE,EAAej8B,OAI1B,OAAOg8B,GAGLjE,EAAWzB,IAEf,OAAIyF,EAAYvoB,KAAO,EACd,IAAI/T,SAAQ,SAAUD,GAC3B,IAAI08B,EAAkBH,EAAYI,SAASt8B,OAAON,MAE9C8J,EAAW,SAASA,IACtB2lB,EAAM4M,mCAAmCM,EAAiB7yB,GAE1D,IAAI+yB,EAAW9F,IACf92B,EAAQ48B,IAGVpN,EAAM0M,0BAA0BQ,EAAiB7yB,MAI9C0uB,GAIX,GAAIzhB,EAASlR,WAAW,WAAakR,EAASlR,WAAW,WAAY,CACnE,GAAI0tB,EAAYpsB,SAAS,KAAM,CAC7B,IAAI21B,EAAiBvJ,EAAYntB,MAAM,mBAEvC,GAAI02B,EAAgB,CAClB,IAAInF,EAAUmF,EAAepjB,MAC7B,OAAO,SAAU0R,GAGf,OAFYkQ,GAAgB/H,EAAa9D,EAAMuK,mBAUxC,GAJSzG,EAAY5Z,UAAU,EAAGge,GAG1BmE,GADAR,GADH/H,EAAY5Z,UAAUge,EAASpE,EAAYp0B,QACjBswB,EAAMuK,mBACE5O,GANrCmI,IAYf,OAAO,SAAUnI,GACf,OAAOmQ,GAAyBhI,GAAa,SAAU9xB,GACrD,OAAOo6B,GAA4Bp6B,MAClC,SAAU+5B,GACX,OAAOI,GAAmBJ,EAAUpQ,OAK1C,OAAO,MAGTiO,EAAeh6B,UAAU88B,0BAA4B,SAAUrD,EAAShvB,GACjErK,KAAKs6B,wBAAwBhnB,IAAI+lB,IACpCr5B,KAAKs6B,wBAAwB/lB,IAAI8kB,EAAS,IAAIjwB,KAGhD,IAAIk0B,EAAYt9B,KAAKs6B,wBAAwB1yB,IAAIyxB,GAE5CiE,EAAUhqB,IAAIjJ,IACjBizB,EAAUhzB,IAAID,IAIlBuvB,EAAeh6B,UAAUg9B,mCAAqC,SAAUvD,EAAShvB,GAC3ErK,KAAKs6B,wBAAwBhnB,IAAI+lB,IACnCr5B,KAAKs6B,wBAAwB1yB,IAAIyxB,GAASrnB,OAAO3H,IAIrDuvB,EAAeh6B,UAAUi7B,0BAA4B,SAAU0C,GAC7D,IAAIvN,EAAQhwB,KAEZu9B,EAAStzB,SAAQ,SAAUgM,GACzBD,GAAgBC,GAAO,SAAUG,GAC/BA,EAAKiB,OAASD,GAAuBhB,EAAKiB,OAAO,SAAUC,EAAU/W,GAC/Di9B,GAAWlmB,IACb0Y,EAAMyN,gBAAgBnmB,EAAU/W,GAG9Bo7B,GAAep7B,IACjByvB,EAAM0N,oBAAoBpmB,EAAU/W,aAO9Cq5B,EAAeh6B,UAAUg7B,qBAAuB,WAC9C,IAAI5K,EAAQhwB,KAEZoX,GAAuBvQ,SAAS82B,gBAAgBtmB,OAAO,SAAUC,EAAU/W,GACrEi9B,GAAWlmB,IACb0Y,EAAMyN,gBAAgBnmB,EAAU/W,OAKtCq5B,EAAeh6B,UAAU69B,gBAAkB,SAAUpE,EAAS94B,GAC5DP,KAAKu6B,kBAAkBhmB,IAAI8kB,EAAS94B,GAEhCo7B,GAAep7B,IAAUq7B,GAAsBr7B,KACjDP,KAAKi6B,iBAAiB3vB,IAAI+uB,GAC1Br5B,KAAK+5B,YAAYzvB,IAAI+uB,IAGnBr5B,KAAK+5B,YAAYzmB,IAAI+lB,KAIzBr5B,KAAK+5B,YAAYzvB,IAAI+uB,GACTzD,GAAcr1B,GAGxBP,KAAKi6B,iBAAiB3vB,IAAI+uB,IACjB94B,EAAMwF,SAAS,SAAWxF,EAAMwF,SAAS,qBAAuBxF,EAAMwF,SAAS,sBACxF/F,KAAKg7B,oBAAoB3B,EAASM,MAItCC,EAAeh6B,UAAUo7B,oBAAsB,SAAU3B,EAASoB,GAChE,IAAImD,EAAc59B,KAAKo6B,gBAAgBxyB,IAAIyxB,IAAY,EAEnDwE,GADc79B,KAAK65B,SAASjyB,IAAIyxB,IAAY,GACpBoB,EAC5Bz6B,KAAK65B,SAAStlB,IAAI8kB,EAASwE,IAEvBA,IAAYD,GAAe59B,KAAKm6B,cAAc7mB,IAAI+lB,MACpDr5B,KAAKq6B,gBAAgB/vB,IAAI+uB,GACzBr5B,KAAKm6B,cAAcnoB,OAAOqnB,IAG5Br5B,KAAKi6B,iBAAiBjoB,OAAOqnB,GAC7Br5B,KAAKk6B,cAAcloB,OAAOqnB,IAG5BO,EAAeh6B,UAAUk7B,yBAA2B,WAClD,IAAI9K,EAAQhwB,KAEZoX,GAAuBvQ,SAAS82B,gBAAgBtmB,OAAO,SAAUC,EAAU/W,GACrEo7B,GAAep7B,IACjByvB,EAAM0N,oBAAoBpmB,EAAU/W,OAK1Cq5B,EAAeh6B,UAAU89B,oBAAsB,SAAUpmB,EAAU/W,GACjE,IAAIyvB,EAAQhwB,KAERw9B,GAAWlmB,GACbtX,KAAK89B,eAAev9B,GAAO,SAAU26B,GAC9BlL,EAAMgK,QAAQ1mB,IAAIgE,IACrB0Y,EAAMgK,QAAQzlB,IAAI+C,EAAU,IAAIlO,KAGlC4mB,EAAMgK,QAAQpyB,IAAI0P,GAAUhN,IAAI4wB,MAEZ,qBAAb5jB,GAAgD,eAAbA,EAC5CtX,KAAK89B,eAAev9B,GAAO,SAAUyB,GACnC,OAAOguB,EAAMgL,oBAAoBh5B,EAAGw3B,OAEhB,UAAbliB,GAAqC,gBAAbA,EACjCtX,KAAK89B,eAAev9B,GAAO,SAAUyB,GACnC,OAAOguB,EAAMgL,oBAAoBh5B,EAAGy3B,OAE7BniB,EAASlR,WAAW,WAAakR,EAASlR,WAAW,WAC9DpG,KAAK89B,eAAev9B,GAAO,SAAUyB,GACnC,OAAOguB,EAAMgL,oBAAoBh5B,EAAG03B,OAEhB,eAAbpiB,GAA0C,qBAAbA,GACtCtX,KAAK89B,eAAev9B,GAAO,SAAUyB,GACnC,IAAIguB,EAAMwK,UAAUx4B,EAAGw3B,GAAmBG,IAA1C,CAIA,IAAIoE,EAEE,MAFU/N,EAAMiL,WAAWj5B,GAAG,SAAUk5B,GAC5C,OAAOlL,EAAMiK,iBAAiB3mB,IAAI4nB,IAAQlL,EAAMwK,UAAUU,EAAKzB,GAAqBC,OAGtF1J,EAAMmL,eAAen5B,GAAG,SAAUk5B,GAC5B6C,EACF/N,EAAMgL,oBAAoBE,EAAK1B,IAE/BxJ,EAAMkK,cAAc5vB,IAAI4wB,WAOlCtB,EAAeh6B,UAAUk+B,eAAiB,SAAUv9B,EAAOwB,GACzD,IAAIi8B,EAAU,IAAI50B,IAClB60B,GAAuB19B,GAAO,SAAUyB,GACtC,OAAOg8B,EAAQ1zB,IAAItI,MAErBg8B,EAAQ/zB,SAAQ,SAAUjI,GACxB,OAAOD,EAASC,OAIpB43B,EAAeh6B,UAAUq7B,WAAa,SAAU5B,EAASt3B,EAAUm8B,GACjE,IAAIxxB,EAAKrF,EAMT,QAJc,IAAV62B,IACFA,EAAQ,IAAI90B,KAGV80B,EAAM5qB,IAAI+lB,GACZ,OAAO,KAMT,GAHA6E,EAAM5zB,IAAI+uB,GACGt3B,EAASs3B,GAGpB,OAAOA,EAGT,IAAI0B,EAAO/6B,KAAKg6B,QAAQpyB,IAAIyxB,GAE5B,IAAK0B,GAAsB,IAAdA,EAAKvmB,KAChB,OAAO,KAGT,IACE,IAAK,IAAI2pB,EAAS97B,EAAS04B,GAAOqD,EAAWD,EAAOt9B,QAASu9B,EAASn9B,KAAMm9B,EAAWD,EAAOt9B,OAAQ,CACpG,IAAIq6B,EAAMkD,EAAS79B,MACf89B,EAAQr+B,KAAKi7B,WAAWC,EAAKn5B,EAAUm8B,GAE3C,GAAIG,EACF,OAAOA,GAGX,MAAOvxB,GACPJ,EAAM,CACJ/J,MAAOmK,GAET,QACA,IACMsxB,IAAaA,EAASn9B,OAASoG,EAAK82B,EAAOpxB,SAAS1F,EAAGvH,KAAKq+B,GAChE,QACA,GAAIzxB,EAAK,MAAMA,EAAI/J,OAIvB,OAAO,MAGTi3B,EAAeh6B,UAAUu7B,eAAiB,SAAU9B,EAASt3B,GAC3D/B,KAAKi7B,WAAW5B,GAAS,SAAU6B,GAEjC,OADAn5B,EAASm5B,IACF,MAIXtB,EAAeh6B,UAAU0+B,wBAA0B,SAAUj0B,GAC3DrK,KAAKu+B,sBAAwBl0B,GAG/BuvB,EAAeh6B,UAAU4+B,YAAc,SAAUC,EAAc9S,GAC7D,IAAI+S,EAAKr3B,EAEL2oB,EAAQhwB,KAER2+B,EAAQF,EAAaE,MAErBA,EAAMpoB,SAAS7W,OAAS,GAC1Bi/B,EAAMC,WAAW,GAGnB,IAAItD,EAAe,IAAI5nB,IACvB0D,GAAuBvQ,SAAS82B,gBAAgBtmB,OAAO,SAAUC,EAAU/W,GACrEi9B,GAAWlmB,KACT0Y,EAAMwK,UAAUljB,EAAUkiB,KAC5B8B,EAAa/mB,IAAIynB,GAAwB1kB,GAAW2kB,GAAiB17B,EAAOorB,IAG1EqE,EAAMwK,UAAUljB,EAAUmiB,KAC5B6B,EAAa/mB,IAAI2nB,GAA0B5kB,GAAW6kB,GAAmB57B,EAAOorB,IAG9EqE,EAAMwK,UAAUljB,EAAUoiB,KAC5B4B,EAAa/mB,IAAI6nB,GAA4B9kB,GAAW+kB,GAAqB97B,EAAOorB,IAGtFqE,EAAM0M,0BAA0BplB,EAAU0Y,EAAMuO,2BAGpD,IAAIM,EAAW,GACfA,EAASz8B,KAAK,WAEd,IACE,IAAK,IAAI08B,EAAiBz8B,EAASi5B,GAAeyD,EAAmBD,EAAej+B,QAASk+B,EAAiB99B,KAAM89B,EAAmBD,EAAej+B,OAAQ,CAC5J,IAAI+I,EAAKpH,EAAOu8B,EAAiBx+B,MAAO,GACpC+W,EAAW1N,EAAG,GACdrJ,EAAQqJ,EAAG,GAEfi1B,EAASz8B,KAAK,OAASkV,EAAW,KAAO/W,EAAQ,MAEnD,MAAOy+B,GACPN,EAAM,CACJ/7B,MAAOq8B,GAET,QACA,IACMD,IAAqBA,EAAiB99B,OAASoG,EAAKy3B,EAAe/xB,SAAS1F,EAAGvH,KAAKg/B,GACxF,QACA,GAAIJ,EAAK,MAAMA,EAAI/7B,OAIvBk8B,EAASz8B,KAAK,KACd,IAAIqV,EAAUonB,EAAS/1B,KAAK,MAC5B61B,EAAMM,WAAWxnB,IAGZmiB,EAtkBY,IA2kBrB,SAASsF,GAAiBjV,EAAOkV,QACX,IAAhBA,IACFA,EAAc,GAGhB,IAAIzvB,EAAQua,EAAMlQ,QAAQ,OAAQolB,GAElC,GAAIzvB,GAAS,EAAG,CACd,IAAIkM,EAAQkP,GAAoBb,EAAOva,EAAQ,GAE/C,OAAIkM,EACK,CACLlM,MAAOA,EACP8N,IAAK5B,EAAM4B,KAIR,MAIX,SAAS4hB,GAAoBnV,GAK3B,IAJA,IAEIrO,EAFAyjB,EAAS,GACT9/B,EAAI,EAGDqc,EAAQsjB,GAAiBjV,EAAO1qB,IAAI,CACzC,IAAImQ,EAAQkM,EAAMlM,MACd8N,EAAM5B,EAAM4B,IAChB6hB,EAAOj9B,KAAK,CACVsN,MAAOA,EACP8N,IAAKA,EACLjd,MAAO0pB,EAAM/P,UAAUxK,EAAO8N,KAEhCje,EAAIqc,EAAM4B,IAAM,EAGlB,OAAO6hB,EAGT,SAASC,GAAwBrV,EAAOsV,GACtC,IAAIpV,EAAUiV,GAAoBnV,GAC9BuV,EAAerV,EAAQzqB,OAE3B,GAAqB,IAAjB8/B,EACF,OAAOvV,EAGT,IAAIwV,EAAcxV,EAAMvqB,OACpBggC,EAAevV,EAAQlT,KAAI,SAAU1U,GACvC,OAAOg9B,EAASh9B,EAAEhC,UAEhB02B,EAAQ,GACZA,EAAM70B,KAAK6nB,EAAM/P,UAAU,EAAGiQ,EAAQ,GAAGza,QAEzC,IAAK,IAAInQ,EAAI,EAAGA,EAAIigC,EAAcjgC,IAAK,CACrC03B,EAAM70B,KAAKs9B,EAAangC,IACxB,IAAImQ,EAAQya,EAAQ5qB,GAAGie,IACnBA,EAAMje,EAAIigC,EAAe,EAAIrV,EAAQ5qB,EAAI,GAAGmQ,MAAQ+vB,EACxDxI,EAAM70B,KAAK6nB,EAAM/P,UAAUxK,EAAO8N,IAGpC,OAAOyZ,EAAMnuB,KAAK,IAGpB,SAAS62B,GAA2Bh5B,GAClC,IACIi5B,EACA7D,EAFA8D,EAAal5B,EAAMoT,QAAQ,KAY/B,OARI8lB,GAAc,GAChBD,EAAOj5B,EAAMuT,UAAU,EAAG2lB,GAAYroB,OACtCukB,EAAWp1B,EAAMuT,UAAU2lB,EAAa,EAAGl5B,EAAMjH,OAAS,GAAG8X,SAE7DooB,EAAOj5B,EAAMuT,UAAU,EAAGvT,EAAMjH,OAAS,GAAG8X,OAC5CukB,EAAW,IAGN,CACL6D,KAAMA,EACN7D,SAAUA,GAId,SAASD,GAAyBv7B,EAAOu/B,EAAcC,GAyBrD,OAAOT,GAAwB/+B,GAxBX,SAAuBoG,GACzC,IAAIU,EAAKs4B,GAA2Bh5B,GAChCi5B,EAAOv4B,EAAGu4B,KACV7D,EAAW10B,EAAG00B,SAEdiE,EAAUF,EAAaF,GAE3B,OAAK7D,EAcE,OAASiE,EAAU,MARtBrE,GAAeI,GACHD,GAAyBC,EAAU+D,EAAcC,GACtDA,EACKA,EAAiBhE,GAEjBA,GAG+B,IAbtC,OAASiE,EAAU,OAmBhC,SAAS/B,GAAuB19B,EAAOwB,GACrC+5B,GAAyBv7B,GAAO,SAAU84B,GAExC,OADAt3B,EAASs3B,GACFA,KAIX,SAAS2C,GAAwB4D,GAC/B,MAAO,kBAAoBA,EAG7B,SAAS1D,GAA0B0D,GACjC,MAAO,oBAAsBA,EAG/B,SAASxD,GAA4BwD,GACnC,MAAO,sBAAwBA,EAGjC,SAAStD,GAAsBsD,GAC7B,MAAO,qBAAuBA,EAGhC,SAASpC,GAAWlmB,GAClB,OAAOA,EAASlR,WAAW,MAG7B,SAASu1B,GAAep7B,GACtB,OAAOA,EAAMwF,SAAS,QAGxB,SAAS61B,GAAsBr7B,GAC7B,OAAOA,EAAMoG,MAAM,qBAGrB,SAASs1B,GAAiB5e,EAAOsO,GAC/B,IAAIvR,EAAMwb,GAAcvY,GACxB,OAAOjD,EAAMwT,GAAsBxT,EAAKuR,GAAStO,EAGnD,SAAS8e,GAAmB9e,EAAOsO,GACjC,IAAIvR,EAAMwb,GAAcvY,GACxB,OAAOjD,EAAMiU,GAAsBjU,EAAKuR,GAAStO,EAGnD,SAASgf,GAAqBhf,EAAOsO,GACnC,IAAIvR,EAAMwb,GAAcvY,GACxB,OAAOjD,EAAMmU,GAAkBnU,EAAKuR,GAAStO,EAG/C,SAASwe,GAAgBoE,EAAQC,EAAWhC,QAC5B,IAAVA,IACFA,EAAQ,IAAI90B,KAGd,IAAI+2B,GAAwB,EAgCxBC,EAAWd,GAAwBW,GA9BnB,SAAuBt5B,GACzC,IAAIU,EAAKs4B,GAA2Bh5B,GAChCi5B,EAAOv4B,EAAGu4B,KACV7D,EAAW10B,EAAG00B,SAElB,GAAImC,EAAM5qB,IAAIssB,GAEZ,OADAO,GAAwB,EACjB,KAGTjC,EAAM5zB,IAAIs1B,GACV,IAAIS,EAAWH,EAAUt4B,IAAIg4B,IAAS7D,EAClCuE,EAAW,KAUf,OARID,IAEAC,EADE3E,GAAe0E,GACNxE,GAAgBwE,EAAUH,EAAWhC,GAErCmC,GAIVC,IACHH,GAAwB,EACjB,SAQX,OAAIA,EACK,KAGFC,EAGT,IAAIG,GAAY,CACd,mBAAoB,CAClBC,WAAY,8BACZC,QAAS,mBACTC,SAAU,kCAEZ,mBAAoB,CAClBF,WAAY,8BACZC,QAAS,mBACTC,SAAU,kCAEZ,eAAgB,CACdF,WAAY,6BACZC,QAAS,eACTC,SAAU,iCAEZ,sBAAuB,CACrBF,WAAY,oCACZC,QAAS,sBACTC,SAAU,wCAEZ,oBAAqB,CACnBF,WAAY,kCACZC,QAAS,oBACTC,SAAU,sCAEZ,qBAAsB,CACpBF,WAAY,mCACZC,QAAS,qBACTC,SAAU,uCAEZ,mBAAoB,CAClBF,WAAY,iCACZC,QAAS,mBACTC,SAAU,qCAEZ,aAAc,CACZF,WAAY,gCACZC,QAAS,aACTC,SAAU,oCAEZ,MAAS,CACPF,WAAY,4BACZC,QAAS,QACTC,SAAU,gCAEZ,KAAQ,CACNF,WAAY,2BACZC,QAAS,OACTC,SAAU,+BAEZ,OAAU,CACRF,WAAY,6BACZC,QAAS,SACTC,SAAU,iCAEZ,gBAAiB,CACfF,WAAY,8BACZC,QAAS,gBACTC,SAAU,kCAEZ,aAAc,CACZF,WAAY,gCACZC,QAAS,aACTC,SAAU,qCAGVC,GAAgBxhC,OAAOg+B,OAAOoD,IAC9BK,GAAqB,GACzBD,GAAc12B,SAAQ,SAAU5C,GAC9B,IAAIo5B,EAAUp5B,EAAGo5B,QACbD,EAAan5B,EAAGm5B,WACpB,OAAOI,GAAmBJ,GAAcC,KAE1C,IAAII,GAAqB,CAAC,QAAS,OAAQ,aAAc,SAAU,UAAW,SAC1EC,GAAwBD,GAAmB5pB,KAAI,SAAU8pB,GAC3D,MAAO,IAAMA,EAAO,OACnBj4B,KAAK,MAER,SAASk4B,KACP,OAAOL,GAAc1pB,KAAI,SAAU5P,GACjC,IAAIq5B,EAAWr5B,EAAGq5B,SACdF,EAAan5B,EAAGm5B,WAEpB,MAAO,CAAC,IAAME,EAAW,MAAO,KADlBr5B,EAAGo5B,QACgC,SAAWD,EAAa,gBAAiB,KAAK13B,KAAK,SACnGA,KAAK,MAGV,SAASm4B,GAAuBlwB,GAC9B,IAAI3D,EAAU,GAUd,OARI2D,aAAgBkC,SAAWlC,EAAKoZ,QAAQ2W,KAC1C1zB,EAAQhL,KAAK2O,IAGXA,aAAgBkC,SAAW3M,GAAwByK,aAAgBxK,YAAcwK,aAAgBmwB,WACnG9+B,EAAKgL,EAAS2D,EAAKowB,iBAAiBL,KAG/B1zB,EAGT,IAAIg0B,GAAgB,IAAI1tB,IACpB2tB,GAAgB,IAAI3tB,IAExB,SAAS4tB,GAAqBC,EAAuBC,GACnDC,GAAyB56B,SAAU06B,EAAuBC,GAC1D1wB,EAAmBjK,SAAS82B,iBAAiB,SAAU+D,GACrDD,GAAyBC,EAAKrwB,WAAYkwB,EAAuBC,MAIrE,SAASC,GAAyB1wB,EAAMwwB,EAAuBC,GACzDJ,GAAc9tB,IAAIvC,KACpBqwB,GAAcx5B,IAAImJ,GAAMH,aACxBywB,GAAcz5B,IAAImJ,GAAMH,cAG1B,IAAI+wB,EAAkB,IAAIC,QAE1B,SAASC,EAAchzB,GACrBoyB,GAAuBpyB,GAAM5E,SAAQ,SAAU63B,GACzCH,EAAgBruB,IAAIwuB,KAIxBH,EAAgBr3B,IAAIw3B,GACpBP,EAAsBO,OAExBhxB,EAAmBjC,GAAM,SAAUrP,GAC7BmiC,EAAgBruB,IAAIzE,KAIxB8yB,EAAgBr3B,IAAIuE,GACpB2yB,EAAqBhiC,EAAE6R,YACvBowB,GAAyBjiC,EAAE6R,WAAYkwB,EAAuBC,OAIlE,IAAIO,EAAeluB,GAA4B9C,EAAM,CACnDsD,iBAAkB,SAA0BhN,GAC1BA,EAAGyL,UACT7I,SAAQ,SAAU+3B,GAC1B,OAAOH,EAAcG,OAGzB7tB,gBAAiB,WACf0tB,EAAc9wB,MAGlBqwB,GAAc7sB,IAAIxD,EAAMgxB,GACxB,IAAIE,EAAe,EACfvyB,EAAQ,KACRL,EAAoBhB,EAAY,CAClCG,QAAS,KAEPY,EAAgBf,EAAY,CAC9BG,QAAS,IAEPW,EAAqB,GACrB5H,EAAQ,GACRoI,EAAY,KACZuyB,EAA2B30B,GAAS,SAAUmF,GAChDA,EAAUzI,SAAQ,SAAU1H,GACtBs+B,GAAmB96B,SAASxD,EAAE4/B,gBAChCZ,EAAsBh/B,EAAE6/B,cAI1BC,EAAe,IAAI9xB,kBAAiB,SAAUmC,GAChD,GAAI/C,EACFpI,EAAMnF,KAAKrC,MAAMwH,EAAO3E,EAAc,GAAIJ,EAAOkQ,IAAY,QAD/D,CAKAuvB,IACA,IAAIpyB,EAAMC,KAAKD,MAEf,GAAa,MAATH,EACFA,EAAQG,OACH,GAAIoyB,GAAgB9yB,EAAoB,CAC7C,GAAIU,EAAMH,EAAQL,EAUhB,OATAM,EAAYI,YAAW,WACrBL,EAAQ,KACRuyB,EAAe,EACftyB,EAAY,KACZ,IAAI2yB,EAAiB/6B,EACrBA,EAAQ,GACR26B,EAAyBI,KACxBlzB,QACH7H,EAAMnF,KAAKrC,MAAMwH,EAAO3E,EAAc,GAAIJ,EAAOkQ,IAAY,IAI/DhD,EAAQG,EACRoyB,EAAe,EAGjBC,EAAyBxvB,OAE3B2vB,EAAa5xB,QAAQM,EAAM,CACzBwxB,YAAY,EACZC,gBAAiB3B,GAAmB19B,OAAOw9B,GAAc1pB,KAAI,SAAU5P,GAErE,OADeA,EAAGq5B,aAGpBpsB,SAAS,IAEX+sB,GAAc9sB,IAAIxD,EAAMsxB,GAG1B,SAASI,KACPrB,GAAcn3B,SAAQ,SAAU3H,GAC9B,OAAOA,EAAEsO,gBAEXywB,GAAcp3B,SAAQ,SAAU3H,GAC9B,OAAOA,EAAEsO,gBAEXwwB,GAAc/uB,QACdgvB,GAAchvB,QAGhB,IAAIqwB,GAAmB,IAAI9uB,QACvB+uB,GAAc,CAAC,aAAc,WAAY,YAAa,QAAS,QAEnE,SAASC,GAAuBd,EAAInW,GAClC,OAAOkV,GAAmB5pB,KAAI,SAAU8pB,GACtC,OAAOA,EAAO,KAAQe,EAAGe,aAAa9B,GAAQ,OAC7C59B,OAAOw/B,GAAY1rB,KAAI,SAAUC,GAClC,OAAOA,EAAO,KAAQyU,EAAMzU,GAAQ,QAClCpO,KAAK,KAGX,SAASg6B,GAAwBC,EAAS7M,GACxC,IAAK,IAAI32B,EAAI,EAAGoN,EAAMupB,EAAUx2B,OAAQH,EAAIoN,EAAKpN,IAAK,CACpD,IAAIyjC,EAAmB9M,EAAU32B,GAEjC,GAAIwjC,EAAQ5Y,QAAQ6Y,GAClB,OAAO,EAIX,OAAO,EAGT,SAASC,GAAoBF,EAASpX,EAAOuX,EAAuBzP,GAGlE,GAFemP,GAAuBG,EAASpX,KAE9B+W,GAAiB96B,IAAIm7B,GAAtC,CAIA,IAAII,EAAa,IAAI/5B,IAAIjK,OAAOikC,KAAK7C,KA2BrC,GAAI2C,EAAsBxjC,OAAS,GAC7BojC,GAAwBC,EAASG,GACnCC,EAAWl5B,SAAQ,SAAUw2B,GAC3BsC,EAAQM,gBAAgB9C,GAAUE,GAASC,iBAHjD,CA6BA,GApBIqC,EAAQO,aAAa,eACnB/iC,EAAQwiC,EAAQF,aAAa,YAEvBl8B,MAAM,mBAAqBpG,EAAMoG,MAAM,qBAC/CpG,EAAQ,IAAMA,GAGhBgjC,EAAc,mBAAoB,mBAAoBhjC,IAGpDwiC,EAAQO,aAAa,UAA4B,cAAhBP,EAAQS,QACvCjjC,EAAQwiC,EAAQF,aAAa,UAEvBl8B,MAAM,mBAAqBpG,EAAMoG,MAAM,qBAC/CpG,EAAQ,IAAMA,GAGhBgjC,EAAc,QAAS,QAAShjC,IAG9BwiC,aAAmBU,WAAY,CACjC,GAAIV,EAAQO,aAAa,QAAS,CAChC,IAAII,EAAoB,GACpBC,EAAUZ,EAAQF,aAAa,QAEnC,GAAgB,SAAZc,EACF,GAAMZ,aAAmBa,eAgBvBL,EAAc,OAAQ,QAASI,OAhBS,CACxC,IAAIE,EAAmB,WACrB,IAAIx8B,EAAK07B,EAAQe,wBACbtT,EAAQnpB,EAAGmpB,MACXE,EAASrpB,EAAGqpB,OAGhB6S,EAAc,OADH/S,EAAQkT,GAAqBhT,EAASgT,EACpB,mBAAqB,QAASC,IAGzD1xB,IACF4xB,IAEA1xB,EAA8B0xB,IAQlCd,EAAQO,aAAa,eACvBC,EAAc,aAAc,mBAAoBR,EAAQF,aAAa,eAIzE,GAAIE,EAAQO,aAAa,UAAW,CAClC,IAAI/iC,EAAQwiC,EAAQF,aAAa,UACjCU,EAAc,SAAUR,aAAmBgB,gBAAkBhB,aAAmBa,eAAiB,eAAiB,QAASrjC,GAG7HwiC,EAAQ1rB,OAASD,GAAuB2rB,EAAQ1rB,OAAO,SAAUC,EAAU/W,GACzE,GAAiB,qBAAb+W,IAAmC/W,EAAMwF,SAAS,OAItD,GAAIw6B,GAAU1gC,eAAeyX,GAC3BisB,EAAcjsB,EAAUA,EAAU/W,OAC7B,CACL,IAAIyjC,EAAgBpD,GAAmBtpB,GAEvC,GAAI0sB,IAAkBjB,EAAQ1rB,MAAME,iBAAiBysB,KAAmBjB,EAAQO,aAAaU,GAAgB,CAC3G,GAAsB,qBAAlBA,GAAwCjB,EAAQO,aAAa,WAC/D,OAGFP,EAAQ1rB,MAAM4sB,YAAY3sB,EAAU,SAKtCyrB,EAAQ1rB,OAAS0rB,aAAmBa,gBAAkBb,EAAQ1rB,MAAM6sB,MACtEX,EAAc,OAAQ,QAASR,EAAQ1rB,MAAME,iBAAiB,SAGhEtN,EAAQk5B,GAAY,SAAU1C,GAC5BsC,EAAQM,gBAAgB9C,GAAUE,GAASC,aAE7CgC,GAAiBnuB,IAAIwuB,EAASH,GAAuBG,EAASpX,KAtH9D,SAAS4X,EAAcY,EAAeC,EAAiBC,GACrD,IAAIh9B,EAAKk5B,GAAU4D,GACf3D,EAAan5B,EAAGm5B,WAChBE,EAAWr5B,EAAGq5B,SACd4D,EAAM/Q,GAA4B6Q,EAAiBC,EAAQ,GAAI7Q,GAAgBC,EAAsB,MAEzG,GAAK6Q,EAAL,CAIA,IAAI/jC,EAAQ+jC,EAAI/jC,MAEK,mBAAVA,IACTA,EAAQA,EAAMorB,IAGhBoX,EAAQ1rB,MAAM4sB,YAAYzD,EAAYjgC,GAEjCwiC,EAAQO,aAAa5C,IACxBqC,EAAQwB,aAAa7D,EAAU,IAGjCyC,EAAWnxB,OAAOmyB,KAmGtB,IAAIK,GAAqB,cACrBC,GAAyB,cAAiBD,GAAqB,KAC/DE,GAAoB,KACpBr0B,GAAW,KAEf,SAASs0B,GAAqBC,EAAMjZ,GAClC+Y,GAAoBA,IAAqBE,EAAK7N,QAE9C,IACE,IAAI1Z,EAAQzC,GAAM8pB,IAClBE,EAAK7N,QAAUnJ,GAAsBvQ,EAAOsO,GAC5C,MAAO5kB,GACPuG,EAAQvG,IAIZ,SAAS89B,GAAkClZ,GACzC,IAAIiZ,EAAO/9B,SAASC,cAAc29B,IAE9BG,EACFD,GAAqBC,EAAMjZ,IAEvBtb,IACFA,GAASO,cAGXP,GAAW,IAAIE,kBAAiB,SAAUmC,GACxCoyB,EAAM,IAAK,IAAIvlC,EAAI,EAAGA,EAAImT,EAAUhT,OAAQH,IAG1C,IAFA,IAAIqT,EAAaF,EAAUnT,GAAGqT,WAErB8W,EAAI,EAAGA,EAAI9W,EAAWlT,OAAQgqB,IAAK,CAC1C,IAAI7a,EAAO+D,EAAW8W,GAEtB,GAAI7a,aAAgBk2B,iBAAmBl2B,EAAK+wB,OAAS4E,GAAoB,CACvEn0B,GAASO,aACTP,GAAW,KACXs0B,GAAqB91B,EAAM8c,GAC3B,MAAMmZ,QAKLr0B,QAAQ5J,SAASm+B,KAAM,CAC9Bt0B,WAAW,KAKjB,SAASu0B,KACH50B,KACFA,GAASO,aACTP,GAAW,MAGb,IAAIu0B,EAAO/9B,SAASC,cAAc29B,IAE9BG,GAAQF,KACVE,EAAK7N,QAAU2N,IAInB,IAAIQ,GAAiB,CAAC,OAAQ,aAAc,WAAY,YAAa,QAAS,4BAA6B,sBAAuB,6BAA8B,wBAEhK,SAASC,GAAYxZ,GACnB,OAAOuZ,GAAejuB,KAAI,SAAUtX,GAClC,OAAOA,EAAI,IAAMgsB,EAAMhsB,MACtBmJ,KAAK,KAGV,IAAIs8B,GAAar3B,IAEjB,SAASs3B,KACP,IAAIC,EAAW,EACXC,EAAiB,IAAIn8B,IACrBo8B,EAAgB,IAAI9xB,IACpB+xB,EAAwB,IAAIr8B,IAC5Bs8B,EAAgB,KAChBC,GAAmB,EACnBC,GAAa,EAEjB,SAASC,IACP,OAAOF,IAAqBC,EAG9B,SAASE,EAAY1K,GACnB,IAAInlB,EAAQmlB,EAAQ2K,eAChBpa,EAAQyP,EAAQzP,MAChBqa,EAAsB5K,EAAQ4K,oBAC9BC,EAAQ7K,EAAQ6K,MAChBC,EAAe9K,EAAQ8K,aACvBC,EAAmB/K,EAAQ+K,iBAC3BC,EAAsC,IAAvBZ,EAAchxB,KAC7B6xB,EAAoB,IAAIj9B,IAAIo8B,EAAcpC,QAC1CkD,EAAWnB,GAAYxZ,GACvB4a,EAAeD,IAAaZ,EAE5BC,IACFC,GAAa,GAGf,IAAIY,EAAW,GAoDf,GAnDAxwB,GAAgBC,GAAO,SAAUG,GAC/B,IAAIqB,EAAUrB,EAAKqB,QACfgvB,GAAsB,EAY1B,GAXAJ,EAAkBr0B,OAAOyF,GAErBrB,EAAKswB,sBAAsBC,eAC7BlvB,GAAW,IAAMrB,EAAKswB,WAAWlwB,MAAMowB,WAGpCrB,EAAejyB,IAAImE,KACtB8tB,EAAej7B,IAAImN,GACnBgvB,GAAsB,GAGpBA,EAAJ,CACEL,GAAe,EAMjB,IAAIS,EAAU,GACdzwB,EAAKiB,OAASD,GAAuBhB,EAAKiB,OAAO,SAAUC,EAAU/W,GACnE,IAAI+jC,EAAM/Q,GAA4Bjc,EAAU/W,EAAO6V,EAAMod,GAAgBwS,EAAqBG,GAE9F7B,GACFuC,EAAQzkC,KAAKkiC,MAGjB,IAAIwC,EAAU,KAEd,GAAID,EAAQnnC,OAAS,EAAG,CACtB,IAAIgnC,EAAatwB,EAAKswB,WACtBI,EAAU,CACRC,SAAU3wB,EAAKC,aACfilB,aAAcuL,EACdH,WAAYA,GAEdF,EAASpkC,KAAK0kC,GAGhBtB,EAAcjxB,IAAIkD,EAASqvB,QAxBzBN,EAASpkC,KAAKojC,EAAc59B,IAAI6P,OAyBjC,WACDkuB,GAAmB,KAErBU,EAAkBp8B,SAAQ,SAAU+K,GAClCuwB,EAAevzB,OAAOgD,GACtBwwB,EAAcxzB,OAAOgD,MAEvB0wB,EAAgBY,EAEXL,GAAUG,GAAiBG,EAAhC,CAIAjB,IAkBA,IAAI0B,EAAoB,IAAItzB,IACxBuzB,EAAkB,IAAIvzB,IACtBwzB,EAA0B,EAC1BC,EAAwB,EACxBC,EAAiB,CACnBhxB,KAAM,KACNH,MAAO,GACPoxB,SAAS,GAEPC,EAAY,IAAI1zB,QAsBpB6xB,EAAsBx7B,SAAQ,SAAUoI,GACtC,OAAOA,OAETozB,EAAsBpzB,QACtBm0B,EAAS/X,QAAO,SAAUhsB,GACxB,OAAOA,KACNwH,SAAQ,SAAU5C,GACnB,IAAI0/B,EAAW1/B,EAAG0/B,SACdzL,EAAej0B,EAAGi0B,aAElBpR,EAAQqd,EADKlgC,EAAGq/B,YAEhBc,EAAiB,CACnBT,SAAUA,EACVzL,aAAc,GACd+L,SAAS,GAEPI,EAAoBD,EAAelM,aAGvC,SAASoM,EAAuBpwB,EAAUyhB,EAAUlF,EAAWC,GAC7D,IAAI6T,IAAaT,EACbU,EAAmB,CACrBtwB,SAAUA,EACV/W,MAAO,KACPszB,UAAWA,EACX8T,SAAUA,EACV7T,YAAaA,GAEf2T,EAAkBrlC,KAAKwlC,GACvB,IAAIC,EAAkBvC,EACtBvM,EAAS73B,MAAK,SAAU4mC,GACjBA,IAAc3B,KAAsB0B,IAAoBvC,IAI7DsC,EAAiBrnC,MAAQunC,EACzB1C,GAAW96B,KAAI,WACT67B,KAAsB0B,IAAoBvC,GAI9CyC,EAAiBJ,UAKvB,SAASK,EAAsB1wB,EAAUyhB,EAAUlF,EAAWC,GAC5D,IAAIzsB,EAAK0xB,EACLkP,EAAU5gC,EAAGi0B,aACbkB,EAAen1B,EAAGm1B,aAClB0L,IAAWf,EACXU,EAAkBvC,EAClB6C,EAAeV,EAAkB/nC,OACjC0oC,EAAU,GAEd,GAAuB,IAAnBH,EAAQvoC,OAAc,CACxB,IAAI2oC,EAAU,CACZ/wB,SAAUA,EACV/W,MAAOuzB,EACPD,UAAWA,EACXC,YAAaA,EACboU,OAAQA,GAEVT,EAAkBrlC,KAAKimC,GACvBD,EAAU,CAACC,GAGbJ,EAAQh+B,SAAQ,SAAUq6B,GACxB,GAAIA,EAAI/jC,iBAAiBE,QACvBinC,EAAuBpD,EAAIhtB,SAAUgtB,EAAI/jC,MAAOszB,EAAWC,OACtD,CACL,IAAIwU,EAAW,CACbhxB,SAAUgtB,EAAIhtB,SACd/W,MAAO+jC,EAAI/jC,MACXszB,UAAWA,EACXC,YAAaA,EACboU,OAAQA,GAEVT,EAAkBrlC,KAAKkmC,GACvBF,EAAQhmC,KAAKkmC,OAGjB9L,EAAa/xB,aAAY,SAAU89B,GACjC,IAAIpC,KAAsB0B,IAAoBvC,EAA9C,CAIA,IAAIkD,EAAeD,EAAQtxB,KAAI,SAAUqtB,GACvC,MAAO,CACLhtB,SAAUgtB,EAAIhtB,SACd/W,MAAO+jC,EAAI/jC,MACXszB,UAAWA,EACXC,YAAaA,EACboU,OAAQA,MAGRjuB,EAAQwtB,EAAkB1tB,QAAQquB,EAAQ,GAAID,GAClDV,EAAkBr5B,OAAOrO,MAAM0nC,EAAmB7kC,EAAc,CAACqX,EAAOmuB,EAAQ1oC,QAAS8C,EAAOgmC,IAAe,IAC/GJ,EAAUI,EACVC,EAAeP,OAEjBzC,EAAsBn7B,KAAI,WACxB,OAAOkyB,EAAaG,qBArFxBzS,EAAMjU,MAAM7T,KAAKolC,GAyFjBlM,EAAarxB,SAAQ,SAAU5C,GAC7B,IAAIiQ,EAAWjQ,EAAGiQ,SACd/W,EAAQ8G,EAAG9G,MACXszB,EAAYxsB,EAAGwsB,UACfC,EAAczsB,EAAGysB,YAErB,GAAqB,mBAAVvzB,EAAsB,CAC/B,IAAIw4B,EAAWx4B,EAAMorB,GAEjBoN,aAAoBt4B,QACtBinC,EAAuBpwB,EAAUyhB,EAAUlF,EAAWC,GAC7Cxc,EAASlR,WAAW,MAC7B4hC,EAAsB1wB,EAAUyhB,EAAUlF,EAAWC,GAErD2T,EAAkBrlC,KAAK,CACrBkV,SAAUA,EACV/W,MAAOw4B,EACPlF,UAAWA,EACXC,YAAaA,SAIjB2T,EAAkBrlC,KAAK,CACrBkV,SAAUA,EACV/W,MAAOA,EACPszB,UAAWA,EACXC,YAAaA,UAKrB,IAAI6K,EAAQuH,IA0EZwC,IAlQA,SAASC,EAAQvG,EAAQnoB,EAAO7D,GAC9B,IAGIwyB,EAAqB,SAA4BC,GACnD,IAAIvxB,EAAWuxB,EAAIvxB,SACf/W,EAAQsoC,EAAItoC,MACZszB,EAAYgV,EAAIhV,UAChBC,EAAc+U,EAAI/U,YACtB,OAAOxc,EAAW,MAAiB,MAAT/W,EAAgBuzB,EAAcvzB,IAAUszB,EAAY,cAAgB,IAAM,KAGlGiV,EAXW1yB,EAAK2wB,SAWM,MAVP3wB,EAAKklB,aAUuBrkB,IAAI2xB,GAAoB9/B,KAAK,KAAO,KACnFs5B,EAAOnD,WAAW6J,EAAU7uB,GAc9B,SAASstB,EAASnxB,GAChB,GAAY,MAARA,EACF,OAAOgxB,EAGT,GAAIE,EAAUh0B,IAAI8C,GAChB,OAAOkxB,EAAU1/B,IAAIwO,GAGvB,IAAI8T,EAAQ,CACV9T,KAAMA,EACNH,MAAO,GACPoxB,SAAS,GAKX,OAHAC,EAAU/yB,IAAI6B,EAAM8T,GACFqd,EAASnxB,EAAKswB,YACpBzwB,MAAM7T,KAAK8nB,GAChBA,EA8IT,SAASwe,IACP,SAASK,EAAa7e,EAAO1a,GAC3B,IAAI4G,EAAO8T,EAAM9T,KAEjB,GAAIA,aAAgBuwB,aAAc,CAChC,IAAInwB,EAAQJ,EAAKI,MACbyD,EAAQzK,EAAO+G,SAAS7W,OAE5B,OADA8P,EAAOyvB,WAAW,UAAYzoB,EAAMowB,UAAY,MAAO3sB,GAChDzK,EAAO+G,SAAS0D,GAGzB,OAAOzK,EAGT,SAASw5B,EAAkB9e,EAAOkY,EAAQ6G,GACxC/e,EAAMjU,MAAMhM,SAAQ,SAAUxH,GACxBA,EAAE4kC,QAEJ2B,EAAkBvmC,EADVsmC,EAAatmC,EAAG2/B,GACA6G,GAExBA,EAAcxmC,EAAG2/B,MAKvB4G,EAAkB5B,EAAgBzI,GAAO,SAAUvoB,EAAMgsB,GACvD,IAAInoB,EAAQmoB,EAAO7rB,SAAS7W,OAC5B0W,EAAKklB,aAAarxB,SAAQ,SAAU5C,GAClC,IAAIsgC,EAAWtgC,EAAGsgC,SACdO,EAAS7gC,EAAG6gC,OAEA,MAAZP,GACFX,EAAkBzyB,IAAIozB,EAAU,CAC9BvxB,KAAMA,EACNgsB,OAAQA,EACRnoB,MAAOA,IAIG,MAAViuB,GACFjB,EAAgB1yB,IAAI2zB,EAAQ,CAC1B9xB,KAAMA,EACNgsB,OAAQA,EACRnoB,MAAOA,OAIb0uB,EAAQvG,EAAQnoB,EAAO7D,MAI3B,SAAS2xB,EAAiB/yB,GACxB,IAAI3N,EAAK2/B,EAAkBp/B,IAAIoN,GAC3BoB,EAAO/O,EAAG+O,KACVgsB,EAAS/6B,EAAG+6B,OACZnoB,EAAQ5S,EAAG4S,MAEfmoB,EAAOxD,WAAW3kB,GAClB0uB,EAAQvG,EAAQnoB,EAAO7D,GACvB4wB,EAAkBh1B,OAAOgD,GAG3B,SAASyzB,EAAezzB,GACtB,IAAI3N,EAAK4/B,EAAgBr/B,IAAIoN,GACzBoB,EAAO/O,EAAG+O,KACVgsB,EAAS/6B,EAAG+6B,OACZnoB,EAAQ5S,EAAG4S,MAEfmoB,EAAOxD,WAAW3kB,GAClB0uB,EAAQvG,EAAQnoB,EAAO7D,IAM3B,MAAO,CACL0vB,YAAaA,EACbD,mBAAoBA,GAIxB,IAAIqD,GAAiB,mDAErB,SAASC,GAAkBpG,GACzB,OAAQA,aAAmBqG,kBAAoBrG,aAAmBsG,iBAAmBtG,aAAmBuG,iBAAmBvG,EAAQS,KAAOT,EAAQS,IAAI59B,cAAcG,SAAS,gBAAkBg9B,EAAQwG,YAAcxG,EAAQyG,UAAUC,SAAS,eAAiD,UAAhC1G,EAAQvsB,MAAM5Q,gBAA8Bm9B,EAAQyG,UAAUC,SAAS,UAG1U,SAASC,GAAoB76B,EAAMzB,EAASu8B,GAuB1C,YAtBgB,IAAZv8B,IACFA,EAAU,SAGC,IAATu8B,IACFA,GAAO,GAGLR,GAAkBt6B,GACpBzB,EAAQhL,KAAKyM,IACJA,aAAgBoE,SAAW3M,GAAwBuI,aAAgBtI,YAAcsI,IAAShI,YACnGoD,EAAQ4E,EAAKsyB,iBAAiB+H,KAAiB,SAAU7xB,GACvD,OAAOqyB,GAAoBryB,EAAOjK,GAAS,MAGzCu8B,GACF74B,EAAmBjC,GAAM,SAAU6yB,GACjC,OAAOgI,GAAoBhI,EAAKrwB,WAAYjE,GAAS,OAKpDA,EAGT,IAAIw8B,GAAe,IAAIhI,QACnBiI,GAAe,IAAIjI,QACnBkI,IAA0B,EAC9BjjC,SAASH,iBAAiB,sCAAsC,WAC9DojC,IAA0B,KAE5B,IAAIC,GAAqB,EACrBC,GAA2B,IAAIt2B,IAEnC,SAASu2B,KACPD,GAAyB33B,QAG3B,SAAS63B,GAAYnH,EAAS17B,GAO5B,IANA,IAAI8iC,EAAS9iC,EAAG8iC,OACZC,EAAe/iC,EAAG+iC,aAClBC,EAAahjC,EAAGgjC,WAChBC,EAAa,GACbzpC,EAAOkiC,GAEHliC,EAAOA,EAAK0pC,qBAAuB1pC,EAAKspB,QAAQ,gBACtDmgB,EAAWloC,KAAKvB,GAGlB,IAAI2pC,EAAWF,EAAWpuB,MAAK,SAAU4lB,GACvC,OAAOA,EAAG3X,QAAQ,uBAAyB0f,GAAav2B,IAAIwuB,OACxD,KACF2I,EAAYH,EAAWpuB,MAAK,SAAU4lB,GACxC,OAAOA,EAAG3X,QAAQ,uBAAyByf,GAAat2B,IAAIwuB,OACxD,KACF4I,EAA0B,KAC1BC,EAA2B,KAC3BC,GAAwB,EACxBC,GAAkB,EAClBC,EAAgBzF,KAChBh1B,EAAW,IAAIE,kBAAiB,WAClC45B,OAEEY,EAAkB,CACpBxI,YAAY,EACZ7xB,WAAW,EACX4D,SAAS,EACT02B,eAAe,GAGjB,SAASC,IACP,OAAOlI,aAAmBqG,kBAAoBrG,EAAQmI,YAAY1zB,OAAO7Q,MAAMkR,IAGjF,SAASszB,EAAW50B,EAAU60B,GAC5B,IAAIpqC,GAAS,EAEb,GAAIuV,EAAU,CACZ,IAAIH,OAAO,EAEXi1B,EAAc,IAAK,IAAI9rC,EAAI,EAAGoN,EAAM4J,EAAS7W,OAAQH,EAAIoN,EAAKpN,IAG5D,IAFA6W,EAAOG,EAAShX,IAEPsV,KAAM,CACb,IAAIu2B,EAKG,CACLpqC,GAAS,EACT,MAAMqqC,EANN,GAAIj1B,EAAKvB,KAAKzO,WAAW,UAAYgQ,EAAKvB,KAAKzO,WAAWmP,SAASpO,QAAS,CAC1EnG,GAAS,EACT,MAAMqqC,IAUhB,OAAOrqC,EAGT,SAASsqC,IACP,GAAId,EAEF,OADAn9B,EAAQ,mCACDm9B,EAAS7L,MAAMpoB,SAGxB,GAAI00B,IAEF,OADA59B,EAAQ,sCACD,KAGT,IAAIkJ,EAAWg1B,IAEf,OAAIxI,aAAmBuG,kBAAoB5zB,GAA6BqtB,EAAQluB,OAASs2B,EAAW50B,GAAU,IAC5GlJ,EAAQ,4DACD,MAGL89B,EAAW50B,GAAU,IACvBlJ,EAAQ,uDACD,OAGTA,EAAQ,mCACPkJ,GAAYjJ,EAAQ,kDACdiJ,GAGT,SAASi1B,IACHhB,GACEzH,EAAQ5yB,cAAgBq6B,GAC1BzH,EAAQj0B,WAAWoB,aAAas6B,EAAUzH,EAAQ5yB,aAGhDq6B,EAASr6B,cAAgBs6B,GAC3B1H,EAAQj0B,WAAWoB,aAAau6B,EAAWD,EAASr6B,cAE7C4yB,EAAQ5yB,cAAgBs6B,GACjC1H,EAAQj0B,WAAWoB,aAAau6B,EAAW1H,EAAQ5yB,aAIvD,SAASs7B,KACPhB,EAAY1H,aAAmBsG,gBAAkBxiC,SAAS6kC,gBAAgB,6BAA8B,SAAW7kC,SAAS+N,cAAc,UAChI40B,UAAUl/B,IAAI,cACxBmgC,EAAUjB,UAAUl/B,IAAI,oBACxBmgC,EAAUj0B,MAAQ,UAEb1Q,GAAci9B,EAAQ4I,QACzBlB,EAAUkB,MAAQ5I,EAAQ4I,OAG5B/B,GAAat/B,IAAImgC,GAGnB,IAAImB,GAAiB,EACjBC,GAAkB,EAClBC,IAAkB/B,GAEtB,SAASgC,IACP,OAAO9rC,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAIyX,EAASW,EAAa/Q,EAAIkP,EAAUy1B,EAAoBC,EAExDriC,EAEJ,OAAOzI,EAAYnB,MAAM,SAAU4Y,GACjC,OAAQA,EAAGnX,OACT,KAAK,EACH,KAAMshC,aAAmBuG,iBAAkB,MAAO,CAAC,EAAG,GAOtD,GANAjiC,EAAK7E,EAAO0pC,IAAmB,GAAI31B,EAAWlP,EAAG,IAAI2kC,EAAc3kC,EAAG,KAGpEiG,EAAQ0+B,IAGHz1B,GAAay1B,GAAgB9lC,MAAYA,GAAa68B,EAAQpE,SAASwN,EAAoBH,GAAe,MAAO,CAAC,EAAG,GAC5HpzB,EAAGnX,MAAQ,EAEb,KAAK,EAIH,OAHAmX,EAAGjX,KAAKS,KAAK,CAAC,EAAG,EAAE,CAAE,IAErBiL,EAAQ,eAAiBy+B,EAAgB,gDAAiD/I,GACnF,CAAC,EAAGqJ,GAAYrJ,EAAS+I,IAElC,KAAK,EAGH,OAFAlzB,EAAGlX,OAEI,CAAC,EAAG,GAEb,KAAK,EAIH,OAFA4L,EADQsL,EAAGlX,QAEXmqC,GAAkB,EACX,CAAC,EAAG,GAEb,KAAK,EACH,GAAIjB,EACF,MAAO,CAAC,EAAG,MAGbhhC,EAAKpH,EAAO0pC,IAAmB,GAAI31B,EAAW3M,EAAG,IAAIoiC,EAAcpiC,EAAG,KAGpE0D,EAAQ0+B,GAGVpzB,EAAGnX,MAAQ,EAEb,KAAK,EACH,GAAI8U,EAAU,CACZ,GAAIb,GAA6BqtB,EAAQluB,MACvC,MAAO,CAAC,EAAG0B,GACN,IAAK40B,EAAW50B,GAAU,GAC/B,MAAO,CAAC,EAAGA,GAIf,MAAO,CAAC,EAAG81B,GAAStJ,EAAQluB,OAE9B,KAAK,EAIH,OAHA4C,EAAUmB,EAAGlX,OACb0W,EAAcH,GAAe8qB,EAAQluB,MAEjC+1B,EACK,CAAC,EAAG,MAGN,CAAC,EAAG,GAEb,KAAK,EACH,IAAIK,IAIF,MAAO,CAAC,EAAG,MAHXxzB,EAAUsrB,EAAQmI,YAAY1zB,OAC9BY,EAAcH,GAAe1C,SAASV,MAKxC+D,EAAGnX,MAAQ,EAEb,KAAK,EACH,IAAKgW,EAAS,MAAO,CAAC,EAAG,IACzBmB,EAAGnX,MAAQ,EAEb,KAAK,EAGH,OAFAmX,EAAGjX,KAAKS,KAAK,CAAC,EAAG,GAAG,CAAE,KAEf,CAAC,EAAGkqC,GAAkB70B,EAASW,IAExC,KAAK,GAGH,OAFA6zB,EAAcrzB,EAAGlX,OACjB8oC,EAAW+B,GAAexJ,EAASkJ,GAC5B,CAAC,EAAG,IAEb,KAAK,GAGH,OADA3+B,EADQsL,EAAGlX,QAEJ,CAAC,EAAG,IAEb,KAAK,GACH,GAAI8oC,EAEF,OADAE,EAA0B17B,EAAqBw7B,EAAU,gBAClD,CAAC,EAAGA,EAAS7L,MAAMpoB,UAG5BqC,EAAGnX,MAAQ,GAEb,KAAK,GACH,MAAO,CAAC,EAAG,aAMrB,SAAS+qC,IACP,IAAIv2B,EAAQq1B,IAEZ,OAAKr1B,EAsBE,CACLA,MAAOA,IAtBH21B,GAAkBC,IAItBD,GAAiB,EACjBxB,IACA2B,IAAgB7qC,MAAK,SAAUkM,GAC7Bw+B,GAAiB,EACjBvB,IAEIj9B,GACF+8B,OAEDsC,OAAM,SAAU1lC,GACjBuG,EAAQvG,GACR6kC,GAAiB,EACjBvB,QAfO,MAyBb,IAAIqC,GAAmB,EAEvB,SAASC,EAAOhhB,EAAOqa,GACrB,IAAI/vB,EAAQq1B,IAQZ,SAASsB,EAAwBjO,GAC/B,IACE,GAAIA,EAAMkO,YAER,YADAlO,EAAMkO,YAAY,IAGpB,MAAO9lC,GACPuG,EAAQ,4DAA6DvG,GAGvE,IAAK,IAAIxH,EAAIo/B,EAAMpoB,SAAS7W,OAAS,EAAGH,GAAK,EAAGA,IAC9Co/B,EAAMC,WAAWr/B,GAIrB,SAASutC,IAwBP,OAvBKrC,GACHgB,IAGFd,GAA4BA,EAAyB36B,OACrDw7B,IAEuB,MAAnBf,EAAU9L,QACZ8L,EAAUS,YAAc,IAI1B0B,EADYnC,EAAU9L,OAGlBgM,EACFA,EAAyBn6B,MAEzBm6B,EAA2B37B,EAAqBy7B,EAAW,gBAAgB,WACzEiC,GAAmB,EACnBK,OAIGtC,EAAU9L,MAGnB,SAASoO,IACP,IAAI9G,EAAQyG,EACZA,GAAmB,EACnB5B,EAAchF,YAAY,CACxBI,aAAc4G,EACd/G,eAAgB9vB,EAChB0V,MAAOA,EACPqa,oBAAqBA,EACrBC,MAAOA,EACPE,iBAAkB,WAChB,OAAOyE,KAGXC,EAAsD,IAApCJ,EAAU9L,MAAMpoB,SAAS7W,OAEvCorC,EAAcjF,sBAChB1zB,GAA8B,WAC5B,OAAOg4B,OAjERl0B,IAIL20B,GAAwB,EAkExBmC,KAGF,SAASb,IACP,IACE,OAAqB,MAAjBnJ,EAAQpE,MACH,CAAC,KAAM,MAGT,CAACoE,EAAQpE,MAAMpoB,SAAU,MAChC,MAAOxP,GACP,MAAO,CAAC,KAAMA,IAIlB,SAASolC,EAAoBxpC,GAC3B,OAAOA,GAASA,EAAMqqC,SAAWrqC,EAAMqqC,QAAQjnC,SAAS,WAG1D,SAASwlC,IACP,IAAIlkC,EAAK7E,EAAO0pC,IAAmB,GAC/B31B,EAAWlP,EAAG,GACdN,EAAMM,EAAG,GAEb,OAAIN,GACFuG,EAAQvG,GACD,MAGFwP,EAGT,SAAS02B,IACPC,IAEKlnC,GAAmB8jC,IAA2B/G,EAAQpE,OACzDwO,IAIJ,IAAIC,EAAiB,KACjBC,EAAoB,KAExB,SAASC,IACP,IAAIr3B,EAAQs1B,IACZ,OAAOt1B,EAAQA,EAAMvW,OAAS,KAGhC,SAAS6tC,IACP,OAAOD,MAAwBF,EAGjC,SAASD,IACPC,EAAiBE,IACjBE,IAEqB,SAASC,IACxBF,MACFH,EAAiBE,IACjBnD,KAGEL,IAA2B/G,EAAQpE,MACrC6O,IAIFH,EAAoBz/B,sBAAsB6/B,GAG5CA,GAGF,SAASD,IACP1/B,qBAAqBu/B,GAGvB,IAAIK,GAAyB,EAE7B,SAASC,IAQP,SAASC,IACPF,GAAyB,EAErB9C,GAIJT,IAdFL,IAA0B,EAC1B0D,IAEIE,IAcJA,GAAyB,EAEK,mBAAnBG,eACTA,eAAeD,GAEfhgC,sBAAsBggC,IAI1B,SAASV,IACPnK,EAAQr8B,iBAAiB,4BAA6BinC,GAGxD,SAASG,IACP/K,EAAQxwB,oBAAoB,4BAA6Bo7B,GAG3D,SAASI,IACPD,IACAN,IAGF,SAASQ,KACP39B,EAASO,aACTg6B,GAAwB,EACxBF,GAA2BA,EAAwB16B,OACnD26B,GAA4BA,EAAyB36B,OACrD+9B,IAGF,SAASE,KAMP,GALAD,KACAp/B,EAAW47B,GACX57B,EAAW67B,GACXJ,IAEIL,GAAyB12B,IAAIw4B,GAAgB,CAC/C,IAAIprC,EAASspC,GAAyBpiC,IAAIkkC,GAC1C9B,GAAyBh4B,OAAO85B,GAChCprC,GAAUA,KAId,SAASwtC,KACP79B,EAASI,QAAQsyB,EAASgI,GAEtBhI,aAAmBqG,kBACrB6D,IAIJ,IAAIkB,GAAe,GACfC,GAAY,EAEhB,SAASx+B,KACF66B,MAIL2D,GAEgBD,GACd7gC,EAAQ,uCAAwCy1B,IAIlDz1B,EAAQ,gBAAiBm9B,EAAW1H,GACpCyI,IACAd,GAA2BA,EAAwB75B,OACnD85B,GAA4BA,EAAyB95B,OAEhDg6B,IACH6B,GAAmB,EACnBvC,OAIJ,MAAO,CACLqC,QAASA,EACTG,OAAQA,EACRqB,MAAOA,GACPC,QAASA,GACTC,MAAOA,GACPt+B,QAASA,IAIb,SAASw8B,GAAYiC,EAAMC,GACzB,OAAOruC,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOmB,EAAYnB,MAAM,SAAUqH,GACjC,MAAO,CAAC,EAAG,IAAI5G,SAAQ,SAAUD,EAASE,GACxC,IAAI6tC,EAAU,WACZF,EAAK97B,oBAAoB,OAAQi8B,GACjCH,EAAK97B,oBAAoB,QAASk8B,GAClCzE,GAAyBh4B,OAAOs8B,IAG9BE,EAAS,WACXD,IACAlhC,EAAQ,eAAiBihC,EAAY,oBACrC9tC,KAGEiuC,EAAU,WACZF,IACA7tC,EAAO,eAAiB4tC,EAAY,wBAA0BD,EAAKx5B,OAGrEm1B,GAAyBz1B,IAAI+5B,GAAW,WACtCC,IACA7tC,OAEF2tC,EAAK3nC,iBAAiB,OAAQ8nC,GAC9BH,EAAK3nC,iBAAiB,QAAS+nC,GAE1BJ,EAAKx5B,MACR45B,cAOV,SAASC,GAAgBC,GACvB,OAAO72B,GAAe62B,EAAkBz0B,UAAU,GAAG1C,OAAOQ,QAAQ,KAAM,KAG5E,SAASq0B,GAASplC,GAChB,OAAOhH,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOmB,EAAYnB,MAAM,SAAUqH,GACjC,OAAQA,EAAG5F,OACT,KAAK,EACH,OAAKwF,EAAIb,WAAW,SACb,CAAC,EAAGkB,MAAML,IADoB,CAAC,EAAG,GAG3C,KAAK,EACH,MAAO,CAAC,EAAGI,EAAG3F,OAAOsI,QAEvB,KAAK,EAWL,KAAK,EACH,MAAO,CAAC,EAAG3C,EAAG3F,QAThB,KAAK,EACH,MAAO,CAAC,EAAG2tB,GAAQ,CACjBpoB,IAAKA,EACLwC,aAAc,OACdvC,SAAU,WACVC,OAAQ+B,OAAOqM,SAASpO,iBAUpC,SAASmlC,GAAkB70B,EAASm3B,EAAUrnC,GAK5C,YAJc,IAAVA,IACFA,EAAQ,IAAImM,KAGPzT,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAI6uC,EAAeC,EAAiBC,EAAmBpoC,EAAOqoC,EAAWC,EAAaC,EAAoBpiC,EAEtGJ,EAAKrF,EAET,OAAOlG,EAAYnB,MAAM,SAAU4J,GACjC,OAAQA,EAAGnI,OACT,KAAK,EAGHgW,EAAUS,GADVT,EAAUgB,GADVhB,EAAUc,GAAkBd,IAE0Bm3B,GACtDC,EAAgB9kB,GAAWlS,GAAgBJ,GAC3C7N,EAAGnI,MAAQ,EAEb,KAAK,EACHmI,EAAGjI,KAAKS,KAAK,CAAC,EAAG,GAAI,GAAI,KAEzB0sC,EAAkBzsC,EAASwsC,GAAgBE,EAAoBD,EAAgBjuC,OAC/E+I,EAAGnI,MAAQ,EAEb,KAAK,EACH,OAAMstC,EAAkB9tC,KAAa,CAAC,EAAG,IACzC0F,EAAQooC,EAAkBxuC,MAC1ByuC,EAAYN,GAAgB/nC,GAC5BsoC,EAAc75B,GAAew5B,EAAUI,GACvCE,OAAc,EACT3nC,EAAM+L,IAAI27B,IACfC,EAAc3nC,EAAMK,IAAIqnC,GACjB,CAAC,EAAG,IAFyB,CAAC,EAAG,IAI1C,KAAK,EAGH,OAFArlC,EAAGjI,KAAKS,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAAGiqC,GAAS4C,IAEtB,KAAK,EAGH,OAFAC,EAActlC,EAAGlI,OACjB6F,EAAMgN,IAAI06B,EAAaC,GAChB,CAAC,EAAG5C,GAAkB4C,EAAaj3B,GAAeg3B,GAAc1nC,IAEzE,KAAK,EAEH,OADA2nC,EAActlC,EAAGlI,OACV,CAAC,EAAG,GAEb,KAAK,EAIH,OAFA4L,EADQ1D,EAAGlI,QAEXwtC,EAAc,GACP,CAAC,EAAG,GAEb,KAAK,EACHz3B,EAAUA,EAAQkT,MAAMhkB,GAAOmC,KAAKomC,GACpCtlC,EAAGnI,MAAQ,EAEb,KAAK,EAEH,OADAstC,EAAoBD,EAAgBjuC,OAC7B,CAAC,EAAG,GAEb,KAAK,EACH,MAAO,CAAC,EAAG,IAEb,KAAK,GAKH,OAJAiM,EAAQlD,EAAGlI,OACXgL,EAAM,CACJ/J,MAAOmK,GAEF,CAAC,EAAG,IAEb,KAAK,GACH,IACMiiC,IAAsBA,EAAkB9tC,OAASoG,EAAKynC,EAAgB/hC,SAAS1F,EAAGvH,KAAKgvC,GAC3F,QACA,GAAIpiC,EAAK,MAAMA,EAAI/J,MAGrB,MAAO,CAAC,GAEV,KAAK,GAEH,MAAO,CAAC,EADR8U,EAAUA,EAAQD,eAO5B,SAAS+0B,GAAe4C,EAAY13B,GAClC,IAAKA,EACH,OAAO,KAGT,IAAI23B,EAAOvoC,SAAS+N,cAAc,SAQlC,OAPAw6B,EAAK5F,UAAUl/B,IAAI,cACnB8kC,EAAK5F,UAAUl/B,IAAI,oBACnB8kC,EAAK54B,MAAQ,SACb44B,EAAKlE,YAAczzB,EACnB03B,EAAWrgC,WAAWoB,aAAak/B,EAAMD,EAAWh/B,aACpDi/B,EAAKzQ,MAAM4K,UAAW,EACtBM,GAAav/B,IAAI8kC,GACVA,EAGT,IACIC,GAEAC,GAHAC,GAAY,GAEZC,GAAkB,IAAI97B,IAG1B,SAAS+7B,GAAyB1+B,GAC3BnK,GAILqD,EAAQ8G,EAAKowB,iBAAiB,mBAAmB,SAAUW,GACzD,IAAI4N,EAAM5N,EAAG6N,QAAQ/pC,cAErB,IAAK8pC,EAAI3pC,SAAS,KAAM,CACtB,IAAI6pC,EAAc9N,EAAGe,aAAa,MAElC,IAAI+M,EAGF,OAFAF,EAAME,EAMLJ,GAAgBl8B,IAAIo8B,KACvBF,GAAgBj7B,IAAIm7B,EAAK,IAAItmC,KAC7BymC,GAA0BH,GAAKxuC,MAAK,WAClC,GAAIouC,GAA4B,CAC9B,IAAIQ,EAAWN,GAAgB5nC,IAAI8nC,GACnCF,GAAgBx9B,OAAO09B,GACvBJ,GAA2BrsC,MAAMH,KAAKgtC,SAK5CN,GAAgB5nC,IAAI8nC,GAAKplC,IAAIw3B,MAIjC,IAAIiO,IAAwB,EAC5BlpC,SAASH,iBAAiB,sCAAsC,WAC9DqpC,IAAwB,KAE1B,IAAIC,GAAY,IAAIt8B,IAEpB,SAASu8B,GAAgBnvC,GACvBivC,IAAwB,EAEpBC,GAAU18B,IAAIxS,EAAEovC,OAAOR,MACXM,GAAUpoC,IAAI9G,EAAEovC,OAAOR,IACrClvC,GAIJ,SAASqvC,GAA0BH,GACjC,OAAOzvC,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOmB,EAAYnB,MAAM,SAAUqH,GACjC,MAAO,CAAC,EAAG,IAAI5G,SAAQ,SAAUD,GAC/B,GAAI0I,OAAOinC,gBAAwD,mBAA/BA,eAAeC,YACjDD,eAAeC,YAAYV,GAAKxuC,MAAK,WACnC,OAAOV,YAEJ,GAAIuvC,GACTC,GAAUz7B,IAAIm7B,EAAKlvC,GACnBqG,SAASwpC,cAAc,IAAIC,YAAY,qCAAsC,CAC3EJ,OAAQ,CACNR,IAAKA,UAGJ,CACL,IAAIa,EAAmB,SAASA,IAC9B,IAAIT,EAAWN,GAAgB5nC,IAAI8nC,GAE/BI,GAAYA,EAASt7B,KAAO,IAC1Bs7B,EAAS3S,SAASt8B,OAAON,MAAM4pB,QAAQ,YACzC3pB,IAEAoN,sBAAsB2iC,KAK5B3iC,sBAAsB2iC,cAOhC,SAASC,GAA+BnmC,GACtCilC,GAA6BjlC,EAG/B,SAASomC,KACPnB,GAA6B,KAC7BE,GAAgBn9B,QAChBxL,SAAS0L,oBAAoB,0BAA2B09B,IAG1D,SAASS,GAAqBC,EAAexG,EAAQ3I,GACnDoP,KACA,IAAItG,EAAa,IAAIlhC,IAAIunC,GACrBE,EAAoB,IAAIj9B,QACxBk9B,EAAoB,IAAIl9B,QAE5B,SAASm9B,EAAkB15B,GACzBw5B,EAAkBt8B,IAAI8C,EAAOA,EAAM25B,wBACnCF,EAAkBv8B,IAAI8C,EAAOA,EAAMkzB,oBAGrC,SAAS0G,EAAoB55B,GAC3Bw5B,EAAkB7+B,OAAOqF,GACzBy5B,EAAkB9+B,OAAOqF,GAG3B,SAAS65B,EAAuB75B,GAC9B,OAAOA,EAAM25B,yBAA2BH,EAAkBjpC,IAAIyP,IAAUA,EAAMkzB,qBAAuBuG,EAAkBlpC,IAAIyP,GAK7H,SAAS85B,EAAsBC,GAC7B,IAAIC,EAAgBD,EAAWC,cAC3BC,EAAgBF,EAAWE,cAC3BC,EAAcH,EAAWG,YAC7BF,EAAcpnC,SAAQ,SAAU3K,GAC9B,OAAOyxC,EAAkBzxC,MAE3BiyC,EAAYtnC,SAAQ,SAAU3K,GAC5B,OAAOyxC,EAAkBzxC,MAE3BgyC,EAAcrnC,SAAQ,SAAU3K,GAC9B,OAAO2xC,EAAoB3xC,MAE7B+xC,EAAcpnC,SAAQ,SAAU3K,GAC9B,OAAOgrC,EAAWhgC,IAAIhL,MAExBgyC,EAAcrnC,SAAQ,SAAU3K,GAC9B,OAAOgrC,EAAWt4B,OAAO1S,MAGvB+xC,EAAc78B,KAAO88B,EAAc98B,KAAO+8B,EAAY/8B,KAAO,GAC/D21B,EAAO,CACLqH,QAASvuC,MAAMH,KAAKuuC,GACpBI,QAASxuC,MAAMH,KAAKwuC,GACpBI,MAAOzuC,MAAMH,KAAKyuC,GAClBI,QAAS,KAKf,SAASC,EAAyBvqC,GAChC,IAAIyL,EAAYzL,EAAGyL,UACfE,EAAQ3L,EAAG2L,MACXD,EAAY1L,EAAG0L,UACfs+B,EAAgB,IAAIjoC,IACpBkoC,EAAgB,IAAIloC,IACpBmoC,EAAc,IAAInoC,IACtB0J,EAAU7I,SAAQ,SAAU4E,GAC1B,OAAO66B,GAAoB76B,GAAM5E,SAAQ,SAAUoN,GACjD,OAAOg6B,EAAc/mC,IAAI+M,SAG7BtE,EAAU9I,SAAQ,SAAU4E,GAC1B,OAAO66B,GAAoB76B,GAAM5E,SAAQ,SAAUoN,GACjD,OAAOi6B,EAAchnC,IAAI+M,SAG7BrE,EAAM/I,SAAQ,SAAU4E,GACtB,OAAO66B,GAAoB76B,GAAM5E,SAAQ,SAAUoN,GACjD,OAAOk6B,EAAYjnC,IAAI+M,SAG3B85B,EAAsB,CACpBE,cAAeA,EACfC,cAAeA,EACfC,YAAaA,IAEfz+B,EAAU7I,SAAQ,SAAUzK,GAC1BsR,EAAmBtR,EAAGqyC,GACtBpC,GAAyBjwC,MAI7B,SAASsyC,EAAwB/gC,GAC/B,IAAIghC,EAAS,IAAI3oC,IAAIsgC,GAAoB34B,IACrCsgC,EAAgB,IAAIjoC,IACpBkoC,EAAgB,IAAIloC,IACpBmoC,EAAc,IAAInoC,IACtB2oC,EAAO9nC,SAAQ,SAAU3K,GAClBgrC,EAAWh3B,IAAIhU,IAClB+xC,EAAc/mC,IAAIhL,MAGtBgrC,EAAWrgC,SAAQ,SAAU3K,GACtByyC,EAAOz+B,IAAIhU,IACdgyC,EAAchnC,IAAIhL,MAGtByyC,EAAO9nC,SAAQ,SAAU3K,GAClB+xC,EAAc/9B,IAAIhU,IAAOgyC,EAAch+B,IAAIhU,KAAM4xC,EAAuB5xC,IAC3EiyC,EAAYjnC,IAAIhL,MAGpB6xC,EAAsB,CACpBE,cAAeA,EACfC,cAAeA,EACfC,YAAaA,IAEfzgC,EAAmBC,EAAM8gC,GACzBpC,GAAyB1+B,GAG3B,SAASmxB,EAAyBxvB,GAChC,IAAIs/B,EAAgB,IAAI5oC,IACpBkoC,EAAgB,IAAIloC,IACxBsJ,EAAUzI,SAAQ,SAAU1H,GAC1B,IAAI6/B,EAAS7/B,EAAE6/B,OAEXA,EAAOlvB,cACLi2B,GAAkB/G,GACpB4P,EAAc1nC,IAAI83B,GACTA,aAAkBkH,iBAAmBlH,EAAOmH,UACrD+H,EAAchnC,IAAI83B,OAKpB4P,EAAcx9B,KAAO88B,EAAc98B,KAAO,GAC5C21B,EAAO,CACLwH,QAAS1uC,MAAMH,KAAKkvC,GACpBR,QAAS,GACTC,QAASxuC,MAAMH,KAAKwuC,GACpBI,MAAO,KAKb,SAASjhC,EAAQM,GACf,IAAIgxB,EAAeluB,GAA4B9C,EAAM,CACnDsD,iBAAkBu9B,EAClBz9B,gBAAiB29B,IAEfzP,EAAe,IAAI9xB,iBAAiB2xB,GACxCG,EAAa5xB,QAAQM,EAAM,CACzBwxB,YAAY,EACZC,gBAAiB,CAAC,MAAO,WAAY,SACrCluB,SAAS,IAEXi7B,GAAUntC,KAAK2/B,EAAcM,GAC7BgN,GAAc/kC,IAAIyG,GAGpB,SAAS8gC,EAA8BhjC,GACrC,IAAIwC,EAAaxC,EAAKwC,WAEJ,MAAdA,GAAsBg+B,GAAc/7B,IAAIjC,KAI5CZ,EAAQY,GACRmwB,EAAqBnwB,IA9IvBs/B,EAAc1mC,QAAQ8mC,GAiJtBtgC,EAAQ5J,UACRiK,EAAmBjK,SAAS82B,gBAAiBkU,GAC7CrB,IAA+B,SAAUyB,GACvC,IAAIC,EAAY,GAChBD,EAAMhoC,SAAQ,SAAUy3B,GACtB,OAAOt/B,EAAK8vC,EAAWxI,GAAoBhI,EAAKrwB,gBAElD84B,EAAO,CACLqH,QAASU,EACTP,QAAS,GACTF,QAAS,GACTC,MAAO,KAETO,EAAMhoC,SAAQ,SAAUy3B,GACtB,IAAIrwB,EAAaqwB,EAAKrwB,WAEJ,MAAdA,IAIJwgC,EAA8BnQ,GAC9B5wB,EAAmBO,EAAYwgC,GAC/BpC,GAAyBp+B,UAG7BxK,SAASH,iBAAiB,0BAA2BupC,IACrDR,GAAyB5oC,UAG3B,SAASsrC,KACP5C,GAAUtlC,SAAQ,SAAU3H,GAC1B,OAAOA,EAAEsO,gBAEX2+B,GAAUnhC,OAAO,EAAGmhC,GAAU7vC,QAC9B2vC,GAAgB,IAAIzN,QAGtB,SAASgP,KACPuB,KACA1B,KAGF,SAAS2B,GAAOn1B,GACd,OAAQA,EAAS,GAAK,IAAM,IAAMA,EAAO3C,SAAS,IAGpD,SAAS+3B,KACP,GAAI,eAAgBC,OAAQ,CAC1B,IAAIC,EAAOD,OAAOE,aAClB,OAAOD,EAAKr4B,UAAU,EAAG,GAAKq4B,EAAKr4B,UAAU,EAAG,IAAMq4B,EAAKr4B,UAAU,GAAI,IAAMq4B,EAAKr4B,UAAU,GAAI,IAAMq4B,EAAKr4B,UAAU,IAGzH,OAAOjX,MAAMH,KAAKwvC,OAAOG,gBAAgB,IAAIC,WAAW,MAAMz7B,KAAI,SAAU4B,GAC1E,OAAOu5B,GAAOv5B,MACb/P,KAAK,IAGV,IAAI6pC,GAAwB,IAAI/+B,QAC5Bg/B,GAAe,IAAIhR,QAEvB,SAASiR,GAAgChkC,GACvC,IAAI+7B,GAAwB,EAE5B,SAASkI,EAAYnU,EAAOoU,GAC1B,IAAIC,EAAYpwC,EAAc,GAAIJ,EAAOqM,EAAKokC,qBAAqB,GAE/DC,EAAaF,EAAUj5B,QAAQ4kB,GAC/BwU,EAAgBH,EAAUj5B,QAAQg5B,GAElCG,IAAeC,EAAgB,IAI/BA,GAAiB,GACnBH,EAAU5kC,OAAO+kC,EAAe,GAGlCH,EAAU5kC,OAAO8kC,EAAa,EAAG,EAAGH,GACpClkC,EAAKokC,mBAAqBD,GAG5B,SAAS/E,IACPrD,GAAwB,EAExB,IAAIoI,EAAYpwC,EAAc,GAAIJ,EAAOqM,EAAKokC,qBAAqB,GAEnEpkC,EAAKokC,mBAAmBhpC,SAAQ,SAAUmpC,GACxC,GAAIR,GAAat/B,IAAI8/B,GAAoB,CACvC,IAAID,EAAgBH,EAAUj5B,QAAQq5B,GAElCD,GAAiB,GACnBH,EAAU5kC,OAAO+kC,EAAe,GAGlCR,GAAsB3gC,OAAOohC,GAC7BR,GAAa5gC,OAAOohC,OAGxBvkC,EAAKokC,mBAAqBD,EAG5B,SAASrG,EAAOhhB,EAAOqa,GACrBn3B,EAAKokC,mBAAmBhpC,SAAQ,SAAU00B,GACxC,IAAIiU,GAAat/B,IAAIqrB,GAArB,CAIA,IAAI1oB,EAAQ0oB,EAAM1oB,MACd88B,EAAW,IAAIM,cAaChO,KACNS,YAAY,CACxBI,aAAc4G,EACd/G,eAAgB9vB,EAChB0V,MAAOA,EACPqa,oBAAqBA,EACrBC,OAAO,EACPE,iBAAkB,WAChB,OAAOyE,KAnBX,SAASkC,IACP,IAAK,IAAIvtC,EAAIwzC,EAASx8B,SAAS7W,OAAS,EAAGH,GAAK,EAAGA,IACjDwzC,EAASnU,WAAWr/B,GAMtB,OAHAuzC,EAAYnU,EAAOoU,GACnBJ,GAAsBp+B,IAAIoqB,EAAOoU,GACjCH,GAAatoC,IAAIyoC,GACVA,MAiBb,MAAO,CACLpG,OAAQA,EACRsB,QAASA,GAIb,SAASqF,KACPzsC,SAASwpC,cAAc,IAAIC,YAAY,uCACvC,IAAIiD,EAAoBp0C,OAAOq0C,yBAAyBH,cAAczzC,UAAW,WAC7E6zC,EAAuBt0C,OAAOq0C,yBAAyBH,cAAczzC,UAAW,cAChF8zC,EAAuBv0C,OAAOq0C,yBAAyBH,cAAczzC,UAAW,cAChF+zC,EAAuBx0C,OAAOq0C,yBAAyBH,cAAczzC,UAAW,cAChFg0C,EAAgCz0C,OAAOq0C,yBAAyBtS,SAASthC,UAAW,eACpFi0C,EAAwBt+B,SAASK,SAASlO,SAAS,aACnDosC,EAAiCD,EAAwB10C,OAAOq0C,yBAAyBvgC,QAAQrT,UAAW,wBAA0B,KAEtI2uC,EAAU,SAASA,IACrBpvC,OAAO40C,eAAeV,cAAczzC,UAAW,UAAW2zC,GAC1Dp0C,OAAO40C,eAAeV,cAAczzC,UAAW,aAAc6zC,GAC7Dt0C,OAAO40C,eAAeV,cAAczzC,UAAW,aAAc8zC,GAC7Dv0C,OAAO40C,eAAeV,cAAczzC,UAAW,aAAc+zC,GAC7D9sC,SAAS0L,oBAAoB,wBAAyBg8B,GACtD1nC,SAAS0L,oBAAoB,qCAAsCyhC,GACnE70C,OAAO40C,eAAe7S,SAASthC,UAAW,cAAeg0C,GAErDC,GACF10C,OAAO40C,eAAe9gC,QAAQrT,UAAW,uBAAwBk0C,IAIjEE,EAAuB,SAA8BlzC,GACvDqvC,eAAeC,YAAYtvC,EAAEovC,OAAOR,KAAKxuC,MAAK,WAC5C2F,SAASwpC,cAAc,IAAIC,YAAY,0BAA2B,CAChEJ,OAAQ,CACNR,IAAK5uC,EAAEovC,OAAOR,YAMtB7oC,SAASH,iBAAiB,wBAAyB6nC,GACnD1nC,SAASH,iBAAiB,qCAAsCstC,GAChE,IAAIC,EAAmB,IAAIC,MAAM,6BAEjC,SAASC,EAAapN,EAAU1vB,EAAO4C,GAOrC,OANAs5B,EAAkBhzC,MAAMT,KAAKE,KAAM+mC,EAAU1vB,EAAO4C,GAEhDja,KAAK23B,YAAc33B,KAAK23B,UAAU6R,UAAUC,SAAS,eACvDzpC,KAAK23B,UAAU0Y,cAAc4D,IAGvB,EAGV,SAASG,EAAgBh+B,EAAM6D,GAC7B,IAAIo6B,EAAcZ,EAAqBlzC,MAAMT,KAAKE,KAAMoW,EAAM6D,GAM9D,OAJIja,KAAK23B,YAAc33B,KAAK23B,UAAU6R,UAAUC,SAAS,eACvDzpC,KAAK23B,UAAU0Y,cAAc4D,GAGxBI,EAGT,SAASC,EAAgBr6B,GACvBy5B,EAAqBnzC,MAAMT,KAAKE,KAAMia,GAElCja,KAAK23B,YAAc33B,KAAK23B,UAAU6R,UAAUC,SAAS,eACvDzpC,KAAK23B,UAAU0Y,cAAc4D,GAIjC,SAASM,EAAgBt6B,GACvB05B,EAAqBpzC,MAAMT,KAAKE,KAAMia,GAElCja,KAAK23B,YAAc33B,KAAK23B,UAAU6R,UAAUC,SAAS,eACvDzpC,KAAK23B,UAAU0Y,cAAc4D,GAIjC,SAASO,IACP,IAEIC,EAAW7xC,EAAc,GAAIJ,EAFjBoxC,EAA8BhsC,IAAI9H,KAAKE,QAEH,GAAOyuB,QAAO,SAAUnY,GAC1E,OAAQA,EAAWqhB,UAAU6R,UAAUC,SAAS,iBAGlD,OAAOtqC,OAAOu1C,eAAeD,EAAUE,eAAe/0C,WAGxD,SAASg1C,EAA0BjF,GACjC,IAAI3f,EAAQhwB,KAER60C,EAAyB,WAC3B,IAAI/E,EAAWgE,EAA+BvzC,MAAMT,KAAKkwB,EAAO2f,GAQhE,MANgB,UAAZA,IACFG,EAAW3wC,OAAOu1C,eAAe9xC,EAAc,GAAIJ,EAAOstC,IAAW,GAAOrhB,QAAO,SAAUsU,GAC3F,OAAQA,EAAQyG,UAAUC,SAAS,iBACjCqL,SAASl1C,YAGRkwC,GAGLA,EAAW+E,IAOf,OADA/E,EAAW,IAAIiF,MAAMjF,EALE,CACrBloC,IAAK,SAAapG,EAAG8V,GACnB,OAAOu9B,IAAyBj3B,OAAOtG,OAO7CnY,OAAO40C,eAAeV,cAAczzC,UAAW,UAAWT,OAAOC,OAAO,GAAIm0C,EAAmB,CAC7FhzC,MAAO4zC,KAETh1C,OAAO40C,eAAeV,cAAczzC,UAAW,aAAcT,OAAOC,OAAO,GAAIq0C,EAAsB,CACnGlzC,MAAO6zC,KAETj1C,OAAO40C,eAAeV,cAAczzC,UAAW,aAAcT,OAAOC,OAAO,GAAIs0C,EAAsB,CACnGnzC,MAAO+zC,KAETn1C,OAAO40C,eAAeV,cAAczzC,UAAW,aAAcT,OAAOC,OAAO,GAAIu0C,EAAsB,CACnGpzC,MAAOg0C,KAETp1C,OAAO40C,eAAe7S,SAASthC,UAAW,cAAeT,OAAOC,OAAO,GAAIw0C,EAA+B,CACxGhsC,IAAK4sC,KAGHX,GACF10C,OAAO40C,eAAe9gC,QAAQrT,UAAW,uBAAwBT,OAAOC,OAAO,GAAI00C,EAAgC,CACjHvzC,MAAOq0C,KAKb,IAAII,GAAc3C,KACd4C,GAAgB,IAAIvhC,IACpBwhC,GAAuB,GACvBzmB,GAAS,KACT0mB,GAAQ,KACRC,GAAa,KACbC,GAAgC,KAChCC,GAAyB,KAE7B,SAASC,GAAoBC,EAAWzkC,QACzB,IAATA,IACFA,EAAOlK,SAASm+B,MAAQn+B,UAG1B,IAAIk8B,EAAUhyB,EAAKjK,cAAc,IAAM0uC,GAUvC,OARKzS,KACHA,EAAUl8B,SAAS+N,cAAc,UACzB40B,UAAUl/B,IAAI,cACtBy4B,EAAQyG,UAAUl/B,IAAIkrC,GACtBzS,EAAQvsB,MAAQ,SAChBusB,EAAQmI,YAAc,IAGjBnI,EAGT,SAAS0S,GAAqBD,EAAWzkC,QAC1B,IAATA,IACFA,EAAOlK,SAASm+B,MAAQn+B,UAG1B,IAAIk8B,EAAUhyB,EAAKjK,cAAc,IAAM0uC,GAQvC,OANKzS,KACHA,EAAUl8B,SAAS+N,cAAc,WACzB40B,UAAUl/B,IAAI,cACtBy4B,EAAQyG,UAAUl/B,IAAIkrC,IAGjBzS,EAGT,IAAI2S,GAAuB,IAAIhiC,IAE/B,SAASiiC,GAAyB9mC,EAAM+mC,GACtCF,GAAqBpiC,IAAIsiC,IAAUF,GAAqB9tC,IAAIguC,GAAO5lC,OACnE0lC,GAAqBnhC,IAAIqhC,EAAO5mC,EAAqBH,EAAM,WAG7D,SAASgnC,KACP5rC,EAAQyrC,GAAqBvY,UAAU,SAAU2Y,GAC/C,OAAOA,EAAQ9lC,UAEjB0lC,GAAqBrjC,QAGvB,SAAS0jC,KACP,IAAIC,EAAgBT,GAAoB,uBAAwB1uC,UAChEmvC,EAAc9K,YAAc3V,GAAyB9G,GAAQ,CAC3D+G,QAAQ,IAEV3uB,SAASm+B,KAAK90B,aAAa8lC,EAAenvC,SAASm+B,KAAK50B,YACxDulC,GAAyBK,EAAe,YACxC,IAAIC,EAAiBV,GAAoB,0BACzCU,EAAe/K,YAAc/W,GAA0B1F,GAAQ2mB,GAAY3mB,GAAOpiB,qBAClFxF,SAASm+B,KAAK90B,aAAa+lC,EAAgBD,EAAc7lC,aACzDwlC,GAAyBM,EAAgB,cACzC,IAAIC,EAAYX,GAAoB,oBAEhC9mB,GAAO/iB,SAAW+iB,GAAO7iB,WAAa,EACxCsqC,EAAUhL,YAAcvc,GAAgBF,IAExCynB,EAAUhL,YAAc,GAG1BrkC,SAASm+B,KAAK90B,aAAagmC,EAAWF,EAAc7lC,aACpDwlC,GAAyBO,EAAW,QACpC,IAAIC,EAAcZ,GAAoB,sBAElCJ,IAASlyC,MAAMmzC,QAAQjB,GAAMkB,SAAWlB,GAAMkB,OAAO32C,OAAS,EAChEy2C,EAAYjL,YAAc,CAACiK,GAAMkB,OAAOvtC,KAAK,MAAQ,KAAM,eAAiB+lB,GAAkB3vB,EAAQA,EAAQ,GAAIuvB,IAAS,CACzHljB,SAA0B,IAAhBkjB,GAAOpjB,KAAaojB,GAAOljB,SAAW+d,GAAMmF,GAAOljB,SAAW,GAAI,EAAG,QAC3E,eAAgB,KAAKzC,KAAK,MAEhCqtC,EAAYjL,YAAc,GAG5BrkC,SAASm+B,KAAK90B,aAAaimC,EAAaD,EAAU/lC,aAClDwlC,GAAyBQ,EAAa,UACtC,IAAIG,EAAcf,GAAoB,sBACtCe,EAAYpL,YAAclK,KAC1Bn6B,SAASm+B,KAAK90B,aAAaomC,EAAaH,EAAYhmC,aACpDwlC,GAAyBW,EAAa,UACtC,IAAIC,EAAgBhB,GAAoB,wBACxCgB,EAAcrL,YAAciK,IAASA,GAAMzqB,IAAM8rB,GAAoBrB,GAAMzqB,KAAO,GAClF7jB,SAASm+B,KAAKyR,YAAYF,GAC1BZ,GAAyBY,EAAe,YACxC,IAAIG,EAAgBnB,GAAoB,yBACpCoB,EAAkBpiB,GAAkB9F,IACpC1iB,EAA4B0iB,GAAO1iB,0BACnCC,EAAsByiB,GAAOziB,oBAC7BC,EAA6BwiB,GAAOxiB,2BACpCC,EAAuBuiB,GAAOviB,qBAC9Bb,EAAOojB,GAAOpjB,KACdurC,EAAiC,IAATvrC,EAAaY,EAA6BF,EAClE8qC,EAA2B,IAATxrC,EAAaa,EAAuBF,EAC1D4qC,EAAwBhpB,GAAsBhT,GAAMg8B,GAAwBnoB,IAC5EooB,EAAkBxoB,GAAsBzT,GAAMi8B,GAAkBpoB,IAChEioB,EAAcxL,YAAc,CAAC,UAAW,uCAAyC0L,EAAwB,IAAK,iCAAmCC,EAAkB,IAAK,yCAA2CF,EAAgBniB,yBAA2B,IAAK,mCAAqCmiB,EAAgBliB,yBAA2B,IAAK,KAAK3rB,KAAK,MAClWjC,SAASm+B,KAAK90B,aAAawmC,EAAeJ,EAAYnmC,aACtDwlC,GAAyBe,EAAe,aACxC,IAAII,EAAgBvB,GAAoB,yBACxC1uC,SAASm+B,KAAK90B,aAAa4mC,EAAeJ,EAAcvmC,aACxD,IAAI4mC,EAActB,GAAqB,qBACvCsB,EAAYC,OAAO,IAAM1D,GAAc,OACvCzsC,SAASm+B,KAAK90B,aAAa6mC,EAAaD,EAAc3mC,aACtD4mC,EAAYE,SAGd,IAAIC,GAA2B,IAAI9tC,IAEnC,SAAS+tC,GAAiCpmC,GACxC,IAAIulC,EAAcf,GAAoB,qBAAsBxkC,GAC5DulC,EAAYpL,YAAclK,KAC1BjwB,EAAKb,aAAaomC,EAAavlC,EAAKX,YACpC,IAAImmC,EAAgBhB,GAAoB,uBAAwBxkC,GAChEwlC,EAAcrL,YAAciK,IAASA,GAAMzqB,IAAM8rB,GAAoBrB,GAAMzqB,KAAO,GAClF3Z,EAAKb,aAAaqmC,EAAeD,EAAYnmC,aAC7C,IAAIgmC,EAAcZ,GAAoB,qBAAsBxkC,GAExDokC,IAASlyC,MAAMmzC,QAAQjB,GAAMkB,SAAWlB,GAAMkB,OAAO32C,OAAS,EAChEy2C,EAAYjL,YAAc,CAACiK,GAAMkB,OAAOvtC,KAAK,MAAQ,KAAM,eAAiB+lB,GAAkB3vB,EAAQA,EAAQ,GAAIuvB,IAAS,CACzHljB,SAA0B,IAAhBkjB,GAAOpjB,KAAaojB,GAAOljB,SAAW+d,GAAMmF,GAAOljB,SAAW,GAAI,EAAG,QAC3E,eAAgB,KAAKzC,KAAK,MAEhCqtC,EAAYjL,YAAc,GAG5Bn6B,EAAKb,aAAaimC,EAAaI,EAAcpmC,aAC7C+mC,GAAyB5sC,IAAIyG,GAG/B,SAASylC,GAAoBY,GAC3B,OAAOA,EAASp/B,QAAQ,cAAc,SAAUxW,EAAGqZ,GACjD,IAAIwC,EAAQuY,GAAc/a,GAE1B,OAAIwC,EACKyP,GAAYzP,EAAOoR,KAG5BnhB,EAAQ,uCACDuN,MAIX,SAASw8B,KACP,IAAItb,EAAWl1B,SAASC,cAAc,yBAElCi1B,IACFA,EAASmP,YAAc,IAI3B,SAASoM,KACPC,KACA,IACIC,EADY9N,GAAoB7iC,UACR4nB,QAAO,SAAUpX,GAC3C,OAAQ49B,GAAc3hC,IAAI+D,MACzBJ,KAAI,SAAUI,GACf,OAAOogC,GAAcpgC,MAEvBmgC,EAAYvgC,KAAI,SAAUygC,GACxB,OAAOA,EAAQlL,aACd/d,QAAO,SAAUyhB,GAClB,OAAOA,GAAUA,EAAOj6B,MAAMvW,OAAS,KACtCuK,SAAQ,SAAUimC,GACnB1c,GAAekH,oBAAoBwV,EAAOj6B,UAE5Cud,GAAemH,8BACfnH,GAAe8K,yBAAwB,WACrC9K,GAAegL,YAAY33B,SAASm+B,KAAKl+B,cAAc,0BAA2B2nB,OAEpF+E,GAAegL,YAAY33B,SAASm+B,KAAKl+B,cAAc,0BAA2B2nB,IAClFwmB,GAAchrC,SAAQ,SAAUytC,GAC9B,OAAOA,EAAQ/K,OAAOle,GAAQ4mB,OAGL,IAAvBsC,GAAcnjC,MAChB6iC,KAGFG,EAAYvtC,SAAQ,SAAUytC,GAC5B,OAAOA,EAAQxJ,WAEjB,IAAI0J,EAAsBzqC,EAAQtG,SAASs6B,iBAAiBL,KAC5DhwB,EAAmBjK,SAAS82B,iBAAiB,SAAU+D,GACrDyV,GAAiCzV,EAAKrwB,YACtC,IAAIy+B,EAAWpO,EAAKrwB,WAAW8vB,iBAAiBL,IAE5CgP,EAASpwC,OAAS,GACpB0C,EAAKw1C,EAAqB9H,MAG9B8H,EAAoB3tC,SAAQ,SAAU63B,GACpC,OAAOmB,GAAoBnB,EAAIrT,GAAQ6mB,GAAwBD,OAEjEwC,GAAyBhxC,UAG3B,IAAIixC,GAAuB,EACvBH,GAAgB,IAAIvuC,IAExB,SAASquC,GAAc1U,GACrB,IAAIgV,IAAmBD,GAGvB,SAAS1N,IACP,IAAK14B,MAAiBsmC,GAAmB,CACvCL,GAAcrtC,IAAIytC,GAClB1qC,EAAQ,qCAAuCsqC,GAAcnjC,MAC7D,IAAIwhC,EAAgBnvC,SAASC,cAAc,yBAEtCkvC,EAAc9K,cACjB8K,EAAc9K,YAAc3V,GAAyB9G,GAAQ,CAC3D+G,QAAQ,MAMhB,SAAS6U,IACPsN,GAAc3lC,OAAO+lC,GACrB1qC,EAAQ,wBAA0B0qC,EAAiB,mBAAqBJ,GAAcnjC,MACtFnH,EAAQ,qBAAsBsqC,IAEH,IAAvBA,GAAcnjC,MAAc9C,KAC9B2lC,KAIJ,SAASlN,IACP,IAAIqC,EAAUkL,EAAQlL,UAEjBA,IAILhZ,GAAekH,oBAAoB8R,EAAQv2B,OAC3Cud,GAAemH,8BACf+c,EAAQ/K,OAAOle,GAAQ4mB,KAnCzBhoC,EAAQ,gDAAkD0qC,EAAgBhV,GAsC1E,IAAI2U,EAAUxN,GAAYnH,EAAS,CACjCoH,OAAQA,EACRC,aAAcA,EACdC,WAAYA,IAGd,OADA4K,GAAc1gC,IAAIwuB,EAAS2U,GACpBA,EAGT,SAASO,GAAclV,GACrB,IAAI2U,EAAUzC,GAAcrtC,IAAIm7B,GAE5B2U,IACFA,EAAQzJ,UACRgH,GAAcjjC,OAAO+wB,IAIzB,IAAImV,GAA2B3qC,GAAS,SAAUlD,GAChD4qC,GAAchrC,SAAQ,SAAUytC,GAC9B,OAAOA,EAAQ/K,OAAOle,GAAQ4mB,OAEhCH,GAAqBjrC,SAAQ,SAAUytC,GACrC,OAAOA,EAAQ/K,OAAOle,GAAQ4mB,OAEhChrC,GAAYA,OAGVktC,GAAkB,WACpBW,GAAyBrqC,UAG3B,SAASsqC,KACoB,IAAvBR,GAAcnjC,KAKlBlH,EAAQ,oDAAqDqqC,IAJ3DN,KAOJ,IAAIe,GAA6B,KAC7BJ,IAAqBnxC,SAASwxC,OAElC,SAASC,GAA2BjuC,GAClC,IAAIkuC,EAAkBllB,QAAQ+kB,IAE9BA,GAA6B,WACtBvxC,SAASwxC,SACZG,KACAnuC,IACA2tC,IAAoB,IAInBO,GACH1xC,SAASH,iBAAiB,mBAAoB0xC,IAIlD,SAASI,KACP3xC,SAAS0L,oBAAoB,mBAAoB6lC,IACjDA,GAA6B,KAG/B,SAASK,KAGP,SAASC,IACPpB,KACAqB,KAJF5C,KAOIlvC,SAASwxC,OACXC,GAA2BI,GAE3BA,IAGF7T,GAAkCpW,IAGpC,SAASopB,GAAyBhpC,GAChC,GAAI5L,MAAMmzC,QAAQvnC,EAAKokC,qBACjBpkC,EAAKokC,mBAAmBvzC,OAAS,EAAG,CACtC,IAAIk5C,EAAY/F,GAAgChkC,GAChDqmC,GAAqB9yC,KAAKw2C,GAC1BA,EAAUjM,OAAOle,GAAQ4mB,KAK/B,SAASsD,KAEPjI,GADoBztC,MAAMH,KAAKmyC,GAAc7R,SACT,SAAU/7B,GAC5C,IAAImqC,EAAUnqC,EAAGmqC,QACbG,EAAUtqC,EAAGsqC,QACbF,EAAUpqC,EAAGoqC,QACbC,EAAQrqC,EAAGqqC,MACXmH,EAAiBpH,EACjBqH,EAAiBtH,EAAQruC,OAAOwuC,GAASxuC,OAAOuuC,GAAOjjB,QAAO,SAAUpX,GAC1E,OAAQ49B,GAAc3hC,IAAI+D,MAExB0hC,EAAkBrH,EAAMjjB,QAAO,SAAUpX,GAC3C,OAAO49B,GAAc3hC,IAAI+D,MAE3BhK,EAAQ,wBAAyBwrC,GACjCA,EAAe5uC,SAAQ,SAAUoN,GAC/B,OAAO4gC,GAAc5gC,MAEvB,IAAImgC,EAAcsB,EAAe7hC,KAAI,SAAUI,GAC7C,OAAOogC,GAAcpgC,MAEvBmgC,EAAYvgC,KAAI,SAAUygC,GACxB,OAAOA,EAAQlL,aACd/d,QAAO,SAAUyhB,GAClB,OAAOA,GAAUA,EAAOj6B,MAAMvW,OAAS,KACtCuK,SAAQ,SAAUimC,GACnB1c,GAAekH,oBAAoBwV,EAAOj6B,UAE5Cud,GAAemH,8BACf6c,EAAYvtC,SAAQ,SAAUytC,GAC5B,OAAOA,EAAQ/K,OAAOle,GAAQ4mB,OAEhCmC,EAAYvtC,SAAQ,SAAUytC,GAC5B,OAAOA,EAAQxJ,WAEjB6K,EAAgB9uC,SAAQ,SAAUoN,GAChC,OAAO49B,GAAcrtC,IAAIyP,GAAOzH,gBAEjC,SAAUyB,GACX8lC,GAAiC9lC,GACjCwmC,GAAyBxmC,MAE3BiwB,IAAqB,SAAUyB,GAC7BE,GAAoBF,EAAStU,GAAQ6mB,GAAwBD,IAEzDtS,IAAYl8B,SAAS82B,iBACPoF,EAAQF,aAAa,SAEvB98B,SAAS,QACrBytB,GAAemH,8BACfnH,GAAegL,YAAY33B,SAASm+B,KAAKl+B,cAAc,0BAA2B2nB,QAGrF,SAAU1d,GACXomC,GAAiCpmC,GACjC,IAAI6mC,EAAsB7mC,EAAKowB,iBAAiBL,IAE5C8W,EAAoBl4C,OAAS,GAC/BuK,EAAQ2tC,GAAqB,SAAU9V,GACrC,OAAOmB,GAAoBnB,EAAIrT,GAAQ6mB,GAAwBD,UAIrExjC,EAAoBsmC,IAGtB,SAASa,KACP/D,GAAchrC,SAAQ,SAAUytC,GAC9B,OAAOA,EAAQ1J,WAEjB6H,KACAjF,KACAnO,KACA1wB,EAAuBomC,IACvB/lC,KAGF,SAAS6mC,KACP,IAAIC,EAAcryC,SAAS+N,cAAc,QACzCskC,EAAYtZ,KAAO,aACnBsZ,EAAYniB,QAAUie,GACtBnuC,SAASm+B,KAAKyR,YAAYyC,GAG5B,SAASC,KACP,IAAIvU,EAAO/9B,SAASC,cAAc,2BAElC,OAAI89B,EACEA,EAAK7N,UAAYie,IAOvBiE,MACO,GAGT,SAASG,GAA2BC,EAAcC,EAAmBC,GAcnE,GAbA9qB,GAAS4qB,GACTlE,GAAQmE,IAGNjE,GAAgCpyC,MAAMmzC,QAAQjB,GAAMnP,qBAAuBmP,GAAMnP,oBAAsB,GACvGsP,GAAyBryC,MAAMmzC,QAAQjB,GAAMqE,mBAAqBrE,GAAMqE,kBAAoB,KAE5FnE,GAAgC,GAChCC,GAAyB,IAG3BF,GAAamE,EAET1yC,SAASm+B,KAAM,CACjB,GAAImU,KACF,OAGFtyC,SAAS82B,gBAAgB4G,aAAa,uBAAwB,WAC9D19B,SAAS82B,gBAAgB4G,aAAa,yBAA0B9V,GAAOpjB,KAAO,OAAS,UACvFotC,SACK,CACL,IAAKxyC,EAAW,CACd,IAAI+vC,EAAgBT,GAAoB,wBACxC1uC,SAAS82B,gBAAgB8Y,YAAYT,GACrCA,EAAc9K,YAAc3V,GAAyB9G,GAAQ,CAC3D+G,QAAQ,IAIZ,IAAIikB,EAAiB,IAAIlpC,kBAAiB,WACxC,GAAI1J,SAASm+B,KAAM,CAGjB,GAFAyU,EAAe7oC,aAEXuoC,KAEF,YADAO,KAIFjB,SAGJgB,EAAehpC,QAAQ5J,SAAU,CAC/B6J,WAAW,EACX4D,SAAS,KAKf,SAASqlC,KACP9yC,SAASwpC,cAAc,IAAIC,YAAY,0BACvC1hC,EAAW/H,SAASm+B,KAAKl+B,cAAc,uBAGzC,SAAS4yC,KACP7yC,SAAS82B,gBAAgB0F,gBAAgB,wBACzCx8B,SAAS82B,gBAAgB0F,gBAAgB,0BACzCuW,KACAhrC,EAAW/H,SAASC,cAAc,0BAE9BD,SAASm+B,OACXC,KACAr2B,EAAW/H,SAASm+B,KAAKl+B,cAAc,4BACvC8H,EAAW/H,SAASm+B,KAAKl+B,cAAc,sBACvC8H,EAAW/H,SAASm+B,KAAKl+B,cAAc,wBACvC8H,EAAW/H,SAASm+B,KAAKl+B,cAAc,wBACvC8H,EAAW/H,SAASm+B,KAAKl+B,cAAc,0BACvC8H,EAAW/H,SAASm+B,KAAKl+B,cAAc,2BACvC8H,EAAW/H,SAASm+B,KAAKl+B,cAAc,2BACvC8H,EAAW/H,SAASm+B,KAAKl+B,cAAc,4BACvC6yC,MAGFzC,GAAyBjtC,SAAQ,SAAU8G,GACzCnC,EAAWmC,EAAKjK,cAAc,wBAC9B8H,EAAWmC,EAAKjK,cAAc,6BAEhCowC,GAAyB7kC,QACzBpI,EAAQgrC,GAAc7R,QAAQ,SAAUtB,GACtC,OAAOmW,GAAcnW,MAEvB6V,GAActlC,QACd43B,KACAhgC,EAAQpD,SAASs6B,iBAAiB,eAAgBvyB,GAClDsmC,GAAqBjrC,SAAQ,SAAUytC,GACrCA,EAAQzJ,aAEViH,GAAqB9mC,OAAO,GAG9B,SAASwrC,KACPpmB,GAAenhB,QACfoC,GAAepC,QACfmmC,KACAjB,KACAyB,KACAzf,KAGF,IAAIsgB,GAAY,0BAEhB,SAASC,GAAa9vC,GACpB,OAAO/J,EAAUD,UAAM,OAAQ,GAAQ,WACrC,IAAI+5C,EAAUhwC,EACd,OAAO5I,EAAYnB,MAAM,SAAUqH,GACjC,OAAQA,EAAG5F,OACT,KAAK,EAMH,OALAs4C,EAAW,GACXhwB,GAAW8vB,GAAW7vC,EAAM,GAAGC,SAAQ,SAAUhD,GAC/C,IAAI+yC,EAAU/xC,EAAchB,GAC5B8yC,EAAS33C,KAAK43C,MAET,CAAC,EAAGv5C,QAAQ63B,IAAIyhB,IAEzB,KAAK,EAEH,OADAhwC,EAAO1C,EAAG3F,OACH,CAAC,EAAGsI,EAAKgO,QAAQ6hC,IAAW,WACjC,MAAO,QAAW9vC,EAAKoE,QAAU,gBAO7C,IAAI8rC,GAAS,4/BAEb,SAASC,KACP,OAAOj6C,EAAUD,UAAM,OAAQ,GAAQ,WACrC,SAASm6C,EAAapT,EAAUqT,GAC9B,IAAIC,EAAcxzC,SAASC,cAAcigC,GAErCsT,GAAeA,EAAYnP,cAC7BxgB,EAAItoB,KAAK,MAAQg4C,EAAU,OAC3B1vB,EAAItoB,KAAKi4C,EAAYnP,aACrBxgB,EAAItoB,KAAK,KAIb,IAAIsoB,EAAK4vB,EAAaC,EAAclzC,EAAIuC,EAExC,OAAOzI,EAAYnB,MAAM,SAAU4Y,GACjC,OAAQA,EAAGnX,OACT,KAAK,EAaH,OAZAipB,EAAM,CAACuvB,IACPE,EAAa,wBAAyB,kBACtCA,EAAa,0BAA2B,oBACxCA,EAAa,oBAAqB,cAClCA,EAAa,sBAAuB,gBACpCA,EAAa,yBAA0B,mBACvCG,EAAc,GACdzzC,SAASs6B,iBAAiB,qBAAqBl3B,SAAQ,SAAU84B,GAC/D94B,EAAQ84B,EAAQpE,MAAMpoB,UAAU,SAAUH,GACxCA,GAAQA,EAAKqB,SAAW6iC,EAAYl4C,KAAKgU,EAAKqB,eAG7C6iC,EAAY56C,QACjB66C,EAAenwB,GAAUkwB,EAAYxxC,KAAK,OAC1C4hB,EAAItoB,KAAK,sBACTwH,GAAMvC,EAAKqjB,GAAKtoB,KACT,CAAC,EAAG03C,GAAaS,KAJQ,CAAC,EAAG,GAMtC,KAAK,EACH3wC,EAAG7J,MAAMsH,EAAI,CAACuR,EAAGlX,SAEjBgpB,EAAItoB,KAAK,IACTwW,EAAGnX,MAAQ,EAEb,KAAK,EAEH,OADA04C,EAAa,wBAAyB,kBAC/B,CAAC,EAAGzvB,EAAI5hB,KAAK,cAM9B,IAAI0xC,IAAsB,EAEtBpmB,GAAW,WACb,IACE,OAAOlrB,OAAOuxC,OAASvxC,OAAOwxC,IAC9B,MAAO3zC,GAEP,OADAoD,QAAQwwC,KAAK5zC,IACN,GALI,GASf,SAAS6zC,GAAOC,EAAc1F,QACP,IAAjB0F,IACFA,EAAe,SAGH,IAAV1F,IACFA,EAAQ,MAGV,IAAIxpB,EAAQzsB,EAAQA,EAAQ,GAAIkM,GAAgByvC,GAEhD,GAAIlvB,EAAM9f,SAAWlB,EAAaI,aAChC,MAAM,IAAIlD,MAAM,kCAGlBuxC,GAA2BztB,EAAOwpB,EAAO/gB,IACzComB,IAAsB,EAGxB,SAASM,KACP,OAAON,GAGT,SAASO,KACPrB,KACAc,IAAsB,EAGxB,IAAIvvC,GAAa+vC,WAAW,gCACxBC,GAAQ,CACVJ,aAAc,KACd1F,MAAO,MAGT,SAAS+F,KACHjwC,GAAWkf,QACbywB,GAAOK,GAAMJ,aAAcI,GAAM9F,OAEjC4F,KAIJ,SAASI,GAAKN,EAAc1F,QACL,IAAjB0F,IACFA,EAAe,SAGH,IAAV1F,IACFA,EAAQ,MAGN0F,GACFI,GAAQ,CACNJ,aAAcA,EACd1F,MAAOA,GAET+F,KAEI10C,EACFyE,GAAWvE,iBAAiB,SAAUw0C,IAEtCjwC,GAAWR,YAAYywC,MAGrB10C,EACFyE,GAAWsH,oBAAoB,SAAU2oC,IAEzCjwC,GAAWmwC,eAAeF,IAG5BH,MAIJ,SAASM,KACP,OAAOp7C,EAAUD,UAAM,OAAQ,GAAQ,WACrC,OAAOmB,EAAYnB,MAAM,SAAUqH,GACjC,OAAQA,EAAG5F,OACT,KAAK,EACH,MAAO,CAAC,EAAGy4C,MAEb,KAAK,EACH,MAAO,CAAC,EAAG7yC,EAAG3F,eAMxB,IAAI45C,GAAiBtyC,EACrB/J,EAAQk8C,KAAOA,GACfl8C,EAAQ87C,QAAUA,GAClB97C,EAAQ27C,OAASA,GACjB37C,EAAQo8C,mBAAqBA,GAC7Bp8C,EAAQ67C,UAAYA,GACpB77C,EAAQq8C,eAAiBA,GACzBn8C,OAAO40C,eAAe90C,EAAS,aAAc,CAC3CsB,OAAO,IA99NsDg7C,CAAQt8C","sources":["webpack://example-react-intl/./node_modules/darkreader/darkreader.js"],"sourcesContent":["require(\"core-js/modules/esnext.global-this.js\");\n\n/**\n * Dark Reader v4.9.40\n * https://darkreader.org/\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.DarkReader = {}));\n})(this, function (exports) {\n  'use strict';\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation.\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n  purpose with or without fee is hereby granted.\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n  PERFORMANCE OF THIS SOFTWARE.\r\n  ***************************************************************************** */\n\n  var _assign = function __assign() {\n    _assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n\n        for (var p in s) {\n          if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n      }\n\n      return t;\n    };\n\n    return _assign.apply(this, arguments);\n  };\n\n  function __awaiter(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  }\n\n  function __generator(thisArg, body) {\n    var _ = {\n      label: 0,\n      sent: function sent() {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n        f,\n        y,\n        t,\n        g;\n    return g = {\n      next: verb(0),\n      \"throw\": verb(1),\n      \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n      return this;\n    }), g;\n\n    function verb(n) {\n      return function (v) {\n        return step([n, v]);\n      };\n    }\n\n    function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n\n      while (_) {\n        try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n\n          switch (op[0]) {\n            case 0:\n            case 1:\n              t = op;\n              break;\n\n            case 4:\n              _.label++;\n              return {\n                value: op[1],\n                done: false\n              };\n\n            case 5:\n              _.label++;\n              y = op[1];\n              op = [0];\n              continue;\n\n            case 7:\n              op = _.ops.pop();\n\n              _.trys.pop();\n\n              continue;\n\n            default:\n              if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                _ = 0;\n                continue;\n              }\n\n              if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                _.label = op[1];\n                break;\n              }\n\n              if (op[0] === 6 && _.label < t[1]) {\n                _.label = t[1];\n                t = op;\n                break;\n              }\n\n              if (t && _.label < t[2]) {\n                _.label = t[2];\n\n                _.ops.push(op);\n\n                break;\n              }\n\n              if (t[2]) _.ops.pop();\n\n              _.trys.pop();\n\n              continue;\n          }\n\n          op = body.call(thisArg, _);\n        } catch (e) {\n          op = [6, e];\n          y = 0;\n        } finally {\n          f = t = 0;\n        }\n      }\n\n      if (op[0] & 5) throw op[1];\n      return {\n        value: op[0] ? op[1] : void 0,\n        done: true\n      };\n    }\n  }\n\n  function __values(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator,\n        m = s && o[s],\n        i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n      next: function next() {\n        if (o && i >= o.length) o = void 0;\n        return {\n          value: o && o[i++],\n          done: !o\n        };\n      }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n  }\n\n  function __read(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o),\n        r,\n        ar = [],\n        e;\n\n    try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n        ar.push(r.value);\n      }\n    } catch (error) {\n      e = {\n        error: error\n      };\n    } finally {\n      try {\n        if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      } finally {\n        if (e) throw e.error;\n      }\n    }\n\n    return ar;\n  }\n\n  function __spreadArray(to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n        if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n        ar[i] = from[i];\n      }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n  }\n\n  var MessageType = {\n    UI_GET_DATA: 'ui-get-data',\n    UI_GET_ACTIVE_TAB_INFO: 'ui-get-active-tab-info',\n    UI_SUBSCRIBE_TO_CHANGES: 'ui-subscribe-to-changes',\n    UI_UNSUBSCRIBE_FROM_CHANGES: 'ui-unsubscribe-from-changes',\n    UI_CHANGE_SETTINGS: 'ui-change-settings',\n    UI_SET_THEME: 'ui-set-theme',\n    UI_SET_SHORTCUT: 'ui-set-shortcut',\n    UI_TOGGLE_URL: 'ui-toggle-url',\n    UI_MARK_NEWS_AS_READ: 'ui-mark-news-as-read',\n    UI_LOAD_CONFIG: 'ui-load-config',\n    UI_APPLY_DEV_DYNAMIC_THEME_FIXES: 'ui-apply-dev-dynamic-theme-fixes',\n    UI_RESET_DEV_DYNAMIC_THEME_FIXES: 'ui-reset-dev-dynamic-theme-fixes',\n    UI_APPLY_DEV_INVERSION_FIXES: 'ui-apply-dev-inversion-fixes',\n    UI_RESET_DEV_INVERSION_FIXES: 'ui-reset-dev-inversion-fixes',\n    UI_APPLY_DEV_STATIC_THEMES: 'ui-apply-dev-static-themes',\n    UI_RESET_DEV_STATIC_THEMES: 'ui-reset-dev-static-themes',\n    UI_SAVE_FILE: 'ui-save-file',\n    UI_REQUEST_EXPORT_CSS: 'ui-request-export-css',\n    BG_CHANGES: 'bg-changes',\n    BG_ADD_CSS_FILTER: 'bg-add-css-filter',\n    BG_ADD_STATIC_THEME: 'bg-add-static-theme',\n    BG_ADD_SVG_FILTER: 'bg-add-svg-filter',\n    BG_ADD_DYNAMIC_THEME: 'bg-add-dynamic-theme',\n    BG_EXPORT_CSS: 'bg-export-css',\n    BG_UNSUPPORTED_SENDER: 'bg-unsupported-sender',\n    BG_CLEAN_UP: 'bg-clean-up',\n    BG_RELOAD: 'bg-reload',\n    BG_FETCH_RESPONSE: 'bg-fetch-response',\n    BG_UI_UPDATE: 'bg-ui-update',\n    BG_CSS_UPDATE: 'bg-css-update',\n    CS_COLOR_SCHEME_CHANGE: 'cs-color-scheme-change',\n    CS_FRAME_CONNECT: 'cs-frame-connect',\n    CS_FRAME_FORGET: 'cs-frame-forget',\n    CS_FRAME_FREEZE: 'cs-frame-freeze',\n    CS_FRAME_RESUME: 'cs-frame-resume',\n    CS_EXPORT_CSS_RESPONSE: 'cs-export-css-response',\n    CS_FETCH: 'cs-fetch'\n  };\n  var userAgent = typeof navigator === 'undefined' ? 'some useragent' : navigator.userAgent.toLowerCase();\n  var platform = typeof navigator === 'undefined' ? 'some platform' : navigator.platform.toLowerCase();\n  var isChromium = userAgent.includes('chrome') || userAgent.includes('chromium');\n  var isThunderbird = userAgent.includes('thunderbird');\n  var isFirefox = userAgent.includes('firefox') || isThunderbird;\n  userAgent.includes('vivaldi');\n  userAgent.includes('yabrowser');\n  userAgent.includes('opr') || userAgent.includes('opera');\n  userAgent.includes('edg');\n  var isSafari = userAgent.includes('safari') && !isChromium;\n  var isWindows = platform.startsWith('win');\n  var isMacOS = platform.startsWith('mac');\n  userAgent.includes('mobile');\n  var isShadowDomSupported = typeof ShadowRoot === 'function';\n  var isMatchMediaChangeEventListenerSupported = typeof MediaQueryList === 'function' && typeof MediaQueryList.prototype.addEventListener === 'function';\n\n  (function () {\n    var m = userAgent.match(/chrom[e|ium]\\/([^ ]+)/);\n\n    if (m && m[1]) {\n      return m[1];\n    }\n\n    return '';\n  })();\n\n  var isDefinedSelectorSupported = function () {\n    try {\n      document.querySelector(':defined');\n      return true;\n    } catch (err) {\n      return false;\n    }\n  }();\n\n  globalThis.chrome && globalThis.chrome.runtime && globalThis.chrome.runtime.getManifest && globalThis.chrome.runtime.getManifest().manifest_version === 3;\n\n  function getOKResponse(url, mimeType, origin) {\n    return __awaiter(this, void 0, void 0, function () {\n      var response;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, fetch(url, {\n              cache: 'force-cache',\n              credentials: 'omit',\n              referrer: origin\n            })];\n\n          case 1:\n            response = _a.sent();\n\n            if (isFirefox && mimeType === 'text/css' && url.startsWith('moz-extension://') && url.endsWith('.css')) {\n              return [2, response];\n            }\n\n            if (mimeType && !response.headers.get('Content-Type').startsWith(mimeType)) {\n              throw new Error(\"Mime type mismatch when loading \" + url);\n            }\n\n            if (!response.ok) {\n              throw new Error(\"Unable to load \" + url + \" \" + response.status + \" \" + response.statusText);\n            }\n\n            return [2, response];\n        }\n      });\n    });\n  }\n\n  function loadAsDataURL(url, mimeType) {\n    return __awaiter(this, void 0, void 0, function () {\n      var response;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, getOKResponse(url, mimeType)];\n\n          case 1:\n            response = _a.sent();\n            return [4, readResponseAsDataURL(response)];\n\n          case 2:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  function readResponseAsDataURL(response) {\n    return __awaiter(this, void 0, void 0, function () {\n      var blob, dataURL;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, response.blob()];\n\n          case 1:\n            blob = _a.sent();\n            return [4, new Promise(function (resolve) {\n              var reader = new FileReader();\n\n              reader.onloadend = function () {\n                return resolve(reader.result);\n              };\n\n              reader.readAsDataURL(blob);\n            })];\n\n          case 2:\n            dataURL = _a.sent();\n            return [2, dataURL];\n        }\n      });\n    });\n  }\n\n  var throwCORSError = function throwCORSError(url) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, Promise.reject(new Error(['Embedded Dark Reader cannot access a cross-origin resource', url, 'Overview your URLs and CORS policies or use', '`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.', 'See if using `DarkReader.setFetchMethod(window.fetch)`', 'before `DarkReader.enable()` works.'].join(' ')))];\n      });\n    });\n  };\n\n  var fetcher = throwCORSError;\n\n  function setFetchMethod$1(fetch) {\n    if (fetch) {\n      fetcher = fetch;\n    } else {\n      fetcher = throwCORSError;\n    }\n  }\n\n  function callFetchMethod(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, fetcher(url)];\n\n          case 1:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  if (!window.chrome) {\n    window.chrome = {};\n  }\n\n  if (!chrome.runtime) {\n    chrome.runtime = {};\n  }\n\n  var messageListeners = new Set();\n\n  function sendMessage() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var id_1, _a, url, responseType, response, text_1, error_1;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!(args[0] && args[0].type === MessageType.CS_FETCH)) return [3, 8];\n            id_1 = args[0].id;\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 7,, 8]);\n\n            _a = args[0].data, url = _a.url, responseType = _a.responseType;\n            return [4, callFetchMethod(url)];\n\n          case 2:\n            response = _b.sent();\n            if (!(responseType === 'data-url')) return [3, 4];\n            return [4, readResponseAsDataURL(response)];\n\n          case 3:\n            text_1 = _b.sent();\n            return [3, 6];\n\n          case 4:\n            return [4, response.text()];\n\n          case 5:\n            text_1 = _b.sent();\n            _b.label = 6;\n\n          case 6:\n            messageListeners.forEach(function (cb) {\n              return cb({\n                type: MessageType.BG_FETCH_RESPONSE,\n                data: text_1,\n                error: null,\n                id: id_1\n              });\n            });\n            return [3, 8];\n\n          case 7:\n            error_1 = _b.sent();\n            console.error(error_1);\n            messageListeners.forEach(function (cb) {\n              return cb({\n                type: MessageType.BG_FETCH_RESPONSE,\n                data: null,\n                error: error_1,\n                id: id_1\n              });\n            });\n            return [3, 8];\n\n          case 8:\n            return [2];\n        }\n      });\n    });\n  }\n\n  function addMessageListener(callback) {\n    messageListeners.add(callback);\n  }\n\n  if (typeof chrome.runtime.sendMessage === 'function') {\n    var nativeSendMessage_1 = chrome.runtime.sendMessage;\n\n    chrome.runtime.sendMessage = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      sendMessage.apply(void 0, __spreadArray([], __read(args), false));\n      nativeSendMessage_1.apply(chrome.runtime, args);\n    };\n  } else {\n    chrome.runtime.sendMessage = sendMessage;\n  }\n\n  if (!chrome.runtime.onMessage) {\n    chrome.runtime.onMessage = {};\n  }\n\n  if (typeof chrome.runtime.onMessage.addListener === 'function') {\n    var nativeAddListener_1 = chrome.runtime.onMessage.addListener;\n\n    chrome.runtime.onMessage.addListener = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      addMessageListener(args[0]);\n      nativeAddListener_1.apply(chrome.runtime.onMessage, args);\n    };\n  } else {\n    chrome.runtime.onMessage.addListener = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return addMessageListener(args[0]);\n    };\n  }\n\n  var ThemeEngines = {\n    cssFilter: 'cssFilter',\n    svgFilter: 'svgFilter',\n    staticTheme: 'staticTheme',\n    dynamicTheme: 'dynamicTheme'\n  };\n  var DEFAULT_COLORS = {\n    darkScheme: {\n      background: '#181a1b',\n      text: '#e8e6e3'\n    },\n    lightScheme: {\n      background: '#dcdad7',\n      text: '#181a1b'\n    }\n  };\n  var DEFAULT_THEME = {\n    mode: 1,\n    brightness: 100,\n    contrast: 100,\n    grayscale: 0,\n    sepia: 0,\n    useFont: false,\n    fontFamily: isMacOS ? 'Helvetica Neue' : isWindows ? 'Segoe UI' : 'Open Sans',\n    textStroke: 0,\n    engine: ThemeEngines.dynamicTheme,\n    stylesheet: '',\n    darkSchemeBackgroundColor: DEFAULT_COLORS.darkScheme.background,\n    darkSchemeTextColor: DEFAULT_COLORS.darkScheme.text,\n    lightSchemeBackgroundColor: DEFAULT_COLORS.lightScheme.background,\n    lightSchemeTextColor: DEFAULT_COLORS.lightScheme.text,\n    scrollbarColor: isMacOS ? '' : 'auto',\n    selectionColor: 'auto',\n    styleSystemControls: true,\n    lightColorScheme: 'Default',\n    darkColorScheme: 'Default'\n  };\n\n  function isArrayLike(items) {\n    return items.length != null;\n  }\n\n  function forEach(items, iterator) {\n    var e_1, _a;\n\n    if (isArrayLike(items)) {\n      for (var i = 0, len = items.length; i < len; i++) {\n        iterator(items[i]);\n      }\n    } else {\n      try {\n        for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n          var item = items_1_1.value;\n          iterator(item);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }\n  }\n\n  function push(array, addition) {\n    forEach(addition, function (a) {\n      return array.push(a);\n    });\n  }\n\n  function toArray(items) {\n    var results = [];\n\n    for (var i = 0, len = items.length; i < len; i++) {\n      results.push(items[i]);\n    }\n\n    return results;\n  }\n\n  function logInfo() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n  }\n\n  function logWarn() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n  }\n\n  function throttle(callback) {\n    var pending = false;\n    var frameId = null;\n    var lastArgs;\n\n    var throttled = function throttled() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      lastArgs = args;\n\n      if (frameId) {\n        pending = true;\n      } else {\n        callback.apply(void 0, __spreadArray([], __read(lastArgs), false));\n        frameId = requestAnimationFrame(function () {\n          frameId = null;\n\n          if (pending) {\n            callback.apply(void 0, __spreadArray([], __read(lastArgs), false));\n            pending = false;\n          }\n        });\n      }\n    };\n\n    var cancel = function cancel() {\n      cancelAnimationFrame(frameId);\n      pending = false;\n      frameId = null;\n    };\n\n    return Object.assign(throttled, {\n      cancel: cancel\n    });\n  }\n\n  function createAsyncTasksQueue() {\n    var tasks = [];\n    var frameId = null;\n\n    function runTasks() {\n      var task;\n\n      while (task = tasks.shift()) {\n        task();\n      }\n\n      frameId = null;\n    }\n\n    function add(task) {\n      tasks.push(task);\n\n      if (!frameId) {\n        frameId = requestAnimationFrame(runTasks);\n      }\n    }\n\n    function cancel() {\n      tasks.splice(0);\n      cancelAnimationFrame(frameId);\n      frameId = null;\n    }\n\n    return {\n      add: add,\n      cancel: cancel\n    };\n  }\n\n  function getDuration(time) {\n    var duration = 0;\n\n    if (time.seconds) {\n      duration += time.seconds * 1000;\n    }\n\n    if (time.minutes) {\n      duration += time.minutes * 60 * 1000;\n    }\n\n    if (time.hours) {\n      duration += time.hours * 60 * 60 * 1000;\n    }\n\n    if (time.days) {\n      duration += time.days * 24 * 60 * 60 * 1000;\n    }\n\n    return duration;\n  }\n\n  function removeNode(node) {\n    node && node.parentNode && node.parentNode.removeChild(node);\n  }\n\n  function watchForNodePosition(node, mode, onRestore) {\n    if (onRestore === void 0) {\n      onRestore = Function.prototype;\n    }\n\n    var MAX_ATTEMPTS_COUNT = 10;\n    var RETRY_TIMEOUT = getDuration({\n      seconds: 2\n    });\n    var ATTEMPTS_INTERVAL = getDuration({\n      seconds: 10\n    });\n    var prevSibling = node.previousSibling;\n    var parent = node.parentNode;\n\n    if (!parent) {\n      throw new Error('Unable to watch for node position: parent element not found');\n    }\n\n    if (mode === 'prev-sibling' && !prevSibling) {\n      throw new Error('Unable to watch for node position: there is no previous sibling');\n    }\n\n    var attempts = 0;\n    var start = null;\n    var timeoutId = null;\n    var restore = throttle(function () {\n      if (timeoutId) {\n        return;\n      }\n\n      attempts++;\n      var now = Date.now();\n\n      if (start == null) {\n        start = now;\n      } else if (attempts >= MAX_ATTEMPTS_COUNT) {\n        if (now - start < ATTEMPTS_INTERVAL) {\n          logWarn(\"Node position watcher paused: retry in \" + RETRY_TIMEOUT + \"ms\", node, prevSibling);\n          timeoutId = setTimeout(function () {\n            start = null;\n            attempts = 0;\n            timeoutId = null;\n            restore();\n          }, RETRY_TIMEOUT);\n          return;\n        }\n\n        start = now;\n        attempts = 1;\n      }\n\n      if (mode === 'parent') {\n        if (prevSibling && prevSibling.parentNode !== parent) {\n          logWarn('Unable to restore node position: sibling parent changed', node, prevSibling, parent);\n          stop();\n          return;\n        }\n      }\n\n      if (mode === 'prev-sibling') {\n        if (prevSibling.parentNode == null) {\n          logWarn('Unable to restore node position: sibling was removed', node, prevSibling, parent);\n          stop();\n          return;\n        }\n\n        if (prevSibling.parentNode !== parent) {\n          logWarn('Style was moved to another parent', node, prevSibling, parent);\n          updateParent(prevSibling.parentNode);\n        }\n      }\n\n      logWarn('Restoring node position', node, prevSibling, parent);\n      parent.insertBefore(node, prevSibling ? prevSibling.nextSibling : parent.firstChild);\n      observer.takeRecords();\n      onRestore && onRestore();\n    });\n    var observer = new MutationObserver(function () {\n      if (mode === 'parent' && node.parentNode !== parent || mode === 'prev-sibling' && node.previousSibling !== prevSibling) {\n        restore();\n      }\n    });\n\n    var run = function run() {\n      observer.observe(parent, {\n        childList: true\n      });\n    };\n\n    var stop = function stop() {\n      clearTimeout(timeoutId);\n      observer.disconnect();\n      restore.cancel();\n    };\n\n    var skip = function skip() {\n      observer.takeRecords();\n    };\n\n    var updateParent = function updateParent(parentNode) {\n      parent = parentNode;\n      stop();\n      run();\n    };\n\n    run();\n    return {\n      run: run,\n      stop: stop,\n      skip: skip\n    };\n  }\n\n  function iterateShadowHosts(root, iterator) {\n    if (root == null) {\n      return;\n    }\n\n    var walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n      acceptNode: function acceptNode(node) {\n        return node.shadowRoot == null ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n      }\n    });\n\n    for (var node = root.shadowRoot ? walker.currentNode : walker.nextNode(); node != null; node = walker.nextNode()) {\n      iterator(node);\n      iterateShadowHosts(node.shadowRoot, iterator);\n    }\n  }\n\n  function isDOMReady() {\n    return document.readyState === 'complete' || document.readyState === 'interactive';\n  }\n\n  var readyStateListeners = new Set();\n\n  function addDOMReadyListener(listener) {\n    readyStateListeners.add(listener);\n  }\n\n  function removeDOMReadyListener(listener) {\n    readyStateListeners.delete(listener);\n  }\n\n  function isReadyStateComplete() {\n    return document.readyState === 'complete';\n  }\n\n  var readyStateCompleteListeners = new Set();\n\n  function addReadyStateCompleteListener(listener) {\n    readyStateCompleteListeners.add(listener);\n  }\n\n  function cleanReadyStateCompleteListeners() {\n    readyStateCompleteListeners.clear();\n  }\n\n  if (!isDOMReady()) {\n    var onReadyStateChange_1 = function onReadyStateChange_1() {\n      if (isDOMReady()) {\n        readyStateListeners.forEach(function (listener) {\n          return listener();\n        });\n        readyStateListeners.clear();\n\n        if (isReadyStateComplete()) {\n          document.removeEventListener('readystatechange', onReadyStateChange_1);\n          readyStateCompleteListeners.forEach(function (listener) {\n            return listener();\n          });\n          readyStateCompleteListeners.clear();\n        }\n      }\n    };\n\n    document.addEventListener('readystatechange', onReadyStateChange_1);\n  }\n\n  var HUGE_MUTATIONS_COUNT = 1000;\n\n  function isHugeMutation(mutations) {\n    if (mutations.length > HUGE_MUTATIONS_COUNT) {\n      return true;\n    }\n\n    var addedNodesCount = 0;\n\n    for (var i = 0; i < mutations.length; i++) {\n      addedNodesCount += mutations[i].addedNodes.length;\n\n      if (addedNodesCount > HUGE_MUTATIONS_COUNT) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function getElementsTreeOperations(mutations) {\n    var additions = new Set();\n    var deletions = new Set();\n    var moves = new Set();\n    mutations.forEach(function (m) {\n      forEach(m.addedNodes, function (n) {\n        if (n instanceof Element && n.isConnected) {\n          additions.add(n);\n        }\n      });\n      forEach(m.removedNodes, function (n) {\n        if (n instanceof Element) {\n          if (n.isConnected) {\n            moves.add(n);\n            additions.delete(n);\n          } else {\n            deletions.add(n);\n          }\n        }\n      });\n    });\n    var duplicateAdditions = [];\n    var duplicateDeletions = [];\n    additions.forEach(function (node) {\n      if (additions.has(node.parentElement)) {\n        duplicateAdditions.push(node);\n      }\n    });\n    deletions.forEach(function (node) {\n      if (deletions.has(node.parentElement)) {\n        duplicateDeletions.push(node);\n      }\n    });\n    duplicateAdditions.forEach(function (node) {\n      return additions.delete(node);\n    });\n    duplicateDeletions.forEach(function (node) {\n      return deletions.delete(node);\n    });\n    return {\n      additions: additions,\n      moves: moves,\n      deletions: deletions\n    };\n  }\n\n  var optimizedTreeObservers = new Map();\n  var optimizedTreeCallbacks = new WeakMap();\n\n  function createOptimizedTreeObserver(root, callbacks) {\n    var observer;\n    var observerCallbacks;\n    var domReadyListener;\n\n    if (optimizedTreeObservers.has(root)) {\n      observer = optimizedTreeObservers.get(root);\n      observerCallbacks = optimizedTreeCallbacks.get(observer);\n    } else {\n      var hadHugeMutationsBefore_1 = false;\n      var subscribedForReadyState_1 = false;\n      observer = new MutationObserver(function (mutations) {\n        if (isHugeMutation(mutations)) {\n          if (!hadHugeMutationsBefore_1 || isDOMReady()) {\n            observerCallbacks.forEach(function (_a) {\n              var onHugeMutations = _a.onHugeMutations;\n              return onHugeMutations(root);\n            });\n          } else if (!subscribedForReadyState_1) {\n            domReadyListener = function domReadyListener() {\n              return observerCallbacks.forEach(function (_a) {\n                var onHugeMutations = _a.onHugeMutations;\n                return onHugeMutations(root);\n              });\n            };\n\n            addDOMReadyListener(domReadyListener);\n            subscribedForReadyState_1 = true;\n          }\n\n          hadHugeMutationsBefore_1 = true;\n        } else {\n          var elementsOperations_1 = getElementsTreeOperations(mutations);\n          observerCallbacks.forEach(function (_a) {\n            var onMinorMutations = _a.onMinorMutations;\n            return onMinorMutations(elementsOperations_1);\n          });\n        }\n      });\n      observer.observe(root, {\n        childList: true,\n        subtree: true\n      });\n      optimizedTreeObservers.set(root, observer);\n      observerCallbacks = new Set();\n      optimizedTreeCallbacks.set(observer, observerCallbacks);\n    }\n\n    observerCallbacks.add(callbacks);\n    return {\n      disconnect: function disconnect() {\n        observerCallbacks.delete(callbacks);\n\n        if (domReadyListener) {\n          removeDOMReadyListener(domReadyListener);\n        }\n\n        if (observerCallbacks.size === 0) {\n          observer.disconnect();\n          optimizedTreeCallbacks.delete(observer);\n          optimizedTreeObservers.delete(root);\n        }\n      }\n    };\n  }\n\n  var anchor;\n  var parsedURLCache = new Map();\n\n  function fixBaseURL($url) {\n    if (!anchor) {\n      anchor = document.createElement('a');\n    }\n\n    anchor.href = $url;\n    return anchor.href;\n  }\n\n  function parseURL($url, $base) {\n    if ($base === void 0) {\n      $base = null;\n    }\n\n    var key = \"\" + $url + ($base ? \";\" + $base : '');\n\n    if (parsedURLCache.has(key)) {\n      return parsedURLCache.get(key);\n    }\n\n    if ($base) {\n      var parsedURL_1 = new URL($url, fixBaseURL($base));\n      parsedURLCache.set(key, parsedURL_1);\n      return parsedURL_1;\n    }\n\n    var parsedURL = new URL(fixBaseURL($url));\n    parsedURLCache.set($url, parsedURL);\n    return parsedURL;\n  }\n\n  function getAbsoluteURL($base, $relative) {\n    if ($relative.match(/^data\\\\?\\:/)) {\n      return $relative;\n    }\n\n    if (/^\\/\\//.test($relative)) {\n      return \"\" + location.protocol + $relative;\n    }\n\n    var b = parseURL($base);\n    var a = parseURL($relative, b.href);\n    return a.href;\n  }\n\n  function isRelativeHrefOnAbsolutePath(href) {\n    if (href.startsWith('data:')) {\n      return true;\n    }\n\n    var url = parseURL(href);\n    var base = parseURL(location.href);\n\n    if (url.protocol !== base.protocol) {\n      return false;\n    }\n\n    if (url.hostname !== base.hostname) {\n      return false;\n    }\n\n    if (url.port !== base.port) {\n      return false;\n    }\n\n    var path = /.*\\//.exec(url.pathname)[0];\n    var basePath = /.*\\//.exec(base.pathname)[0];\n    return path === basePath;\n  }\n\n  function iterateCSSRules(rules, iterate, onMediaRuleError) {\n    forEach(rules, function (rule) {\n      if (rule.selectorText) {\n        iterate(rule);\n      } else if (rule.href) {\n        try {\n          iterateCSSRules(rule.styleSheet.cssRules, iterate, onMediaRuleError);\n        } catch (err) {\n          logInfo(\"Found a non-loaded link.\");\n          onMediaRuleError && onMediaRuleError();\n        }\n      } else if (rule.media) {\n        var media = Array.from(rule.media);\n        var isScreenOrAll = media.some(function (m) {\n          return m.startsWith('screen') || m.startsWith('all');\n        });\n        var isPrintOrSpeech = media.some(function (m) {\n          return m.startsWith('print') || m.startsWith('speech');\n        });\n\n        if (isScreenOrAll || !isPrintOrSpeech) {\n          iterateCSSRules(rule.cssRules, iterate, onMediaRuleError);\n        }\n      } else if (rule.conditionText) {\n        if (CSS.supports(rule.conditionText)) {\n          iterateCSSRules(rule.cssRules, iterate, onMediaRuleError);\n        }\n      } else {\n        logWarn(\"CSSRule type not supported\", rule);\n      }\n    });\n  }\n\n  var shorthandVarDependantProperties = ['background', 'border', 'border-color', 'border-bottom', 'border-left', 'border-right', 'border-top', 'outline', 'outline-color'];\n  var shorthandVarDepPropRegexps = isSafari ? shorthandVarDependantProperties.map(function (prop) {\n    var regexp = new RegExp(prop + \":\\\\s*(.*?)\\\\s*;\");\n    return [prop, regexp];\n  }) : null;\n\n  function iterateCSSDeclarations(style, iterate) {\n    forEach(style, function (property) {\n      var value = style.getPropertyValue(property).trim();\n\n      if (!value) {\n        return;\n      }\n\n      iterate(property, value);\n    });\n    var cssText = style.cssText;\n\n    if (cssText.includes('var(')) {\n      if (isSafari) {\n        shorthandVarDepPropRegexps.forEach(function (_a) {\n          var _b = __read(_a, 2),\n              prop = _b[0],\n              regexp = _b[1];\n\n          var match = cssText.match(regexp);\n\n          if (match && match[1]) {\n            var val = match[1].trim();\n            iterate(prop, val);\n          }\n        });\n      } else {\n        shorthandVarDependantProperties.forEach(function (prop) {\n          var val = style.getPropertyValue(prop);\n\n          if (val && val.includes('var(')) {\n            iterate(prop, val);\n          }\n        });\n      }\n    }\n  }\n\n  var cssURLRegex = /url\\((('.+?')|(\".+?\")|([^\\)]*?))\\)/g;\n  var cssImportRegex = /@import\\s*(url\\()?(('.+?')|(\".+?\")|([^\\)]*?))\\)?;?/g;\n\n  function getCSSURLValue(cssURL) {\n    return cssURL.replace(/^url\\((.*)\\)$/, '$1').trim().replace(/^\"(.*)\"$/, '$1').replace(/^'(.*)'$/, '$1');\n  }\n\n  function getCSSBaseBath(url) {\n    var cssURL = parseURL(url);\n    return \"\" + cssURL.origin + cssURL.pathname.replace(/\\?.*$/, '').replace(/(\\/)([^\\/]+)$/i, '$1');\n  }\n\n  function replaceCSSRelativeURLsWithAbsolute($css, cssBasePath) {\n    return $css.replace(cssURLRegex, function (match) {\n      var pathValue = getCSSURLValue(match);\n      return \"url(\\\"\" + getAbsoluteURL(cssBasePath, pathValue) + \"\\\")\";\n    });\n  }\n\n  var cssCommentsRegex = /\\/\\*[\\s\\S]*?\\*\\//g;\n\n  function removeCSSComments($css) {\n    return $css.replace(cssCommentsRegex, '');\n  }\n\n  var fontFaceRegex = /@font-face\\s*{[^}]*}/g;\n\n  function replaceCSSFontFace($css) {\n    return $css.replace(fontFaceRegex, '');\n  }\n\n  function hslToRGB(_a) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        _b = _a.a,\n        a = _b === void 0 ? 1 : _b;\n\n    if (s === 0) {\n      var _c = __read([l, l, l].map(function (x) {\n        return Math.round(x * 255);\n      }), 3),\n          r_1 = _c[0],\n          b_1 = _c[1],\n          g_1 = _c[2];\n\n      return {\n        r: r_1,\n        g: g_1,\n        b: b_1,\n        a: a\n      };\n    }\n\n    var c = (1 - Math.abs(2 * l - 1)) * s;\n    var x = c * (1 - Math.abs(h / 60 % 2 - 1));\n    var m = l - c / 2;\n\n    var _d = __read((h < 60 ? [c, x, 0] : h < 120 ? [x, c, 0] : h < 180 ? [0, c, x] : h < 240 ? [0, x, c] : h < 300 ? [x, 0, c] : [c, 0, x]).map(function (n) {\n      return Math.round((n + m) * 255);\n    }), 3),\n        r = _d[0],\n        g = _d[1],\n        b = _d[2];\n\n    return {\n      r: r,\n      g: g,\n      b: b,\n      a: a\n    };\n  }\n\n  function rgbToHSL(_a) {\n    var r255 = _a.r,\n        g255 = _a.g,\n        b255 = _a.b,\n        _b = _a.a,\n        a = _b === void 0 ? 1 : _b;\n    var r = r255 / 255;\n    var g = g255 / 255;\n    var b = b255 / 255;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var c = max - min;\n    var l = (max + min) / 2;\n\n    if (c === 0) {\n      return {\n        h: 0,\n        s: 0,\n        l: l,\n        a: a\n      };\n    }\n\n    var h = (max === r ? (g - b) / c % 6 : max === g ? (b - r) / c + 2 : (r - g) / c + 4) * 60;\n\n    if (h < 0) {\n      h += 360;\n    }\n\n    var s = c / (1 - Math.abs(2 * l - 1));\n    return {\n      h: h,\n      s: s,\n      l: l,\n      a: a\n    };\n  }\n\n  function toFixed(n, digits) {\n    if (digits === void 0) {\n      digits = 0;\n    }\n\n    var fixed = n.toFixed(digits);\n\n    if (digits === 0) {\n      return fixed;\n    }\n\n    var dot = fixed.indexOf('.');\n\n    if (dot >= 0) {\n      var zerosMatch = fixed.match(/0+$/);\n\n      if (zerosMatch) {\n        if (zerosMatch.index === dot + 1) {\n          return fixed.substring(0, dot);\n        }\n\n        return fixed.substring(0, zerosMatch.index);\n      }\n    }\n\n    return fixed;\n  }\n\n  function rgbToString(rgb) {\n    var r = rgb.r,\n        g = rgb.g,\n        b = rgb.b,\n        a = rgb.a;\n\n    if (a != null && a < 1) {\n      return \"rgba(\" + toFixed(r) + \", \" + toFixed(g) + \", \" + toFixed(b) + \", \" + toFixed(a, 2) + \")\";\n    }\n\n    return \"rgb(\" + toFixed(r) + \", \" + toFixed(g) + \", \" + toFixed(b) + \")\";\n  }\n\n  function rgbToHexString(_a) {\n    var r = _a.r,\n        g = _a.g,\n        b = _a.b,\n        a = _a.a;\n    return \"#\" + (a != null && a < 1 ? [r, g, b, Math.round(a * 255)] : [r, g, b]).map(function (x) {\n      return \"\" + (x < 16 ? '0' : '') + x.toString(16);\n    }).join('');\n  }\n\n  function hslToString(hsl) {\n    var h = hsl.h,\n        s = hsl.s,\n        l = hsl.l,\n        a = hsl.a;\n\n    if (a != null && a < 1) {\n      return \"hsla(\" + toFixed(h) + \", \" + toFixed(s * 100) + \"%, \" + toFixed(l * 100) + \"%, \" + toFixed(a, 2) + \")\";\n    }\n\n    return \"hsl(\" + toFixed(h) + \", \" + toFixed(s * 100) + \"%, \" + toFixed(l * 100) + \"%)\";\n  }\n\n  var rgbMatch = /^rgba?\\([^\\(\\)]+\\)$/;\n  var hslMatch = /^hsla?\\([^\\(\\)]+\\)$/;\n  var hexMatch = /^#[0-9a-f]+$/i;\n\n  function parse($color) {\n    var c = $color.trim().toLowerCase();\n\n    if (c.match(rgbMatch)) {\n      return parseRGB(c);\n    }\n\n    if (c.match(hslMatch)) {\n      return parseHSL(c);\n    }\n\n    if (c.match(hexMatch)) {\n      return parseHex(c);\n    }\n\n    if (knownColors.has(c)) {\n      return getColorByName(c);\n    }\n\n    if (systemColors.has(c)) {\n      return getSystemColor(c);\n    }\n\n    if ($color === 'transparent') {\n      return {\n        r: 0,\n        g: 0,\n        b: 0,\n        a: 0\n      };\n    }\n\n    throw new Error(\"Unable to parse \" + $color);\n  }\n\n  function getNumbers($color) {\n    var numbers = [];\n    var prevPos = 0;\n    var isMining = false;\n    var startIndex = $color.indexOf('(');\n    $color = $color.substring(startIndex + 1, $color.length - 1);\n\n    for (var i = 0; i < $color.length; i++) {\n      var c = $color[i];\n\n      if (c >= '0' && c <= '9' || c === '.' || c === '+' || c === '-') {\n        isMining = true;\n      } else if (isMining && (c === ' ' || c === ',')) {\n        numbers.push($color.substring(prevPos, i));\n        isMining = false;\n        prevPos = i + 1;\n      } else if (!isMining) {\n        prevPos = i + 1;\n      }\n    }\n\n    if (isMining) {\n      numbers.push($color.substring(prevPos, $color.length));\n    }\n\n    return numbers;\n  }\n\n  function getNumbersFromString(str, range, units) {\n    var raw = getNumbers(str);\n    var unitsList = Object.entries(units);\n    var numbers = raw.map(function (r) {\n      return r.trim();\n    }).map(function (r, i) {\n      var n;\n      var unit = unitsList.find(function (_a) {\n        var _b = __read(_a, 1),\n            u = _b[0];\n\n        return r.endsWith(u);\n      });\n\n      if (unit) {\n        n = parseFloat(r.substring(0, r.length - unit[0].length)) / unit[1] * range[i];\n      } else {\n        n = parseFloat(r);\n      }\n\n      if (range[i] > 1) {\n        return Math.round(n);\n      }\n\n      return n;\n    });\n    return numbers;\n  }\n\n  var rgbRange = [255, 255, 255, 1];\n  var rgbUnits = {\n    '%': 100\n  };\n\n  function parseRGB($rgb) {\n    var _a = __read(getNumbersFromString($rgb, rgbRange, rgbUnits), 4),\n        r = _a[0],\n        g = _a[1],\n        b = _a[2],\n        _b = _a[3],\n        a = _b === void 0 ? 1 : _b;\n\n    return {\n      r: r,\n      g: g,\n      b: b,\n      a: a\n    };\n  }\n\n  var hslRange = [360, 1, 1, 1];\n  var hslUnits = {\n    '%': 100,\n    'deg': 360,\n    'rad': 2 * Math.PI,\n    'turn': 1\n  };\n\n  function parseHSL($hsl) {\n    var _a = __read(getNumbersFromString($hsl, hslRange, hslUnits), 4),\n        h = _a[0],\n        s = _a[1],\n        l = _a[2],\n        _b = _a[3],\n        a = _b === void 0 ? 1 : _b;\n\n    return hslToRGB({\n      h: h,\n      s: s,\n      l: l,\n      a: a\n    });\n  }\n\n  function parseHex($hex) {\n    var h = $hex.substring(1);\n\n    switch (h.length) {\n      case 3:\n      case 4:\n        {\n          var _a = __read([0, 1, 2].map(function (i) {\n            return parseInt(\"\" + h[i] + h[i], 16);\n          }), 3),\n              r = _a[0],\n              g = _a[1],\n              b = _a[2];\n\n          var a = h.length === 3 ? 1 : parseInt(\"\" + h[3] + h[3], 16) / 255;\n          return {\n            r: r,\n            g: g,\n            b: b,\n            a: a\n          };\n        }\n\n      case 6:\n      case 8:\n        {\n          var _b = __read([0, 2, 4].map(function (i) {\n            return parseInt(h.substring(i, i + 2), 16);\n          }), 3),\n              r = _b[0],\n              g = _b[1],\n              b = _b[2];\n\n          var a = h.length === 6 ? 1 : parseInt(h.substring(6, 8), 16) / 255;\n          return {\n            r: r,\n            g: g,\n            b: b,\n            a: a\n          };\n        }\n    }\n\n    throw new Error(\"Unable to parse \" + $hex);\n  }\n\n  function getColorByName($color) {\n    var n = knownColors.get($color);\n    return {\n      r: n >> 16 & 255,\n      g: n >> 8 & 255,\n      b: n >> 0 & 255,\n      a: 1\n    };\n  }\n\n  function getSystemColor($color) {\n    var n = systemColors.get($color);\n    return {\n      r: n >> 16 & 255,\n      g: n >> 8 & 255,\n      b: n >> 0 & 255,\n      a: 1\n    };\n  }\n\n  var isCharDigit = function isCharDigit(char) {\n    return char >= '0' && char <= '9';\n  };\n\n  var getAmountOfDigits = function getAmountOfDigits(number) {\n    return Math.floor(Math.log10(number)) + 1;\n  };\n\n  function lowerCalcExpression(color) {\n    var searchIndex = 0;\n\n    var replaceBetweenIndices = function replaceBetweenIndices(start, end, replacement) {\n      color = color.substring(0, start) + replacement + color.substring(end);\n    };\n\n    var getNumber = function getNumber() {\n      var resultNumber = 0;\n\n      for (var i = 1; i < 4; i++) {\n        var char = color[searchIndex + i];\n\n        if (char === ' ') {\n          break;\n        }\n\n        if (isCharDigit(char)) {\n          resultNumber *= 10;\n          resultNumber += Number(char);\n        } else {\n          break;\n        }\n      }\n\n      var lenDigits = getAmountOfDigits(resultNumber);\n      searchIndex += lenDigits;\n      var possibleType = color[searchIndex + 1];\n\n      if (possibleType !== '%') {\n        return;\n      }\n\n      searchIndex++;\n      return resultNumber;\n    };\n\n    while ((searchIndex = color.indexOf('calc(')) !== 0) {\n      var startIndex = searchIndex;\n      searchIndex += 4;\n      var firstNumber = getNumber();\n\n      if (!firstNumber) {\n        break;\n      }\n\n      if (color[searchIndex + 1] !== ' ') {\n        break;\n      }\n\n      searchIndex++;\n      var operation = color[searchIndex + 1];\n\n      if (operation !== '+' && operation !== '-') {\n        break;\n      }\n\n      searchIndex++;\n\n      if (color[searchIndex + 1] !== ' ') {\n        break;\n      }\n\n      searchIndex++;\n      var secondNumber = getNumber();\n\n      if (!secondNumber) {\n        break;\n      }\n\n      var replacement = void 0;\n\n      if (operation === '+') {\n        replacement = firstNumber + secondNumber + \"%\";\n      } else {\n        replacement = firstNumber - secondNumber + \"%\";\n      }\n\n      replaceBetweenIndices(startIndex, searchIndex + 2, replacement);\n    }\n\n    return color;\n  }\n\n  var knownColors = new Map(Object.entries({\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgrey: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    grey: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgrey: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32\n  }));\n  var systemColors = new Map(Object.entries({\n    ActiveBorder: 0x3b99fc,\n    ActiveCaption: 0x000000,\n    AppWorkspace: 0xaaaaaa,\n    Background: 0x6363ce,\n    ButtonFace: 0xffffff,\n    ButtonHighlight: 0xe9e9e9,\n    ButtonShadow: 0x9fa09f,\n    ButtonText: 0x000000,\n    CaptionText: 0x000000,\n    GrayText: 0x7f7f7f,\n    Highlight: 0xb2d7ff,\n    HighlightText: 0x000000,\n    InactiveBorder: 0xffffff,\n    InactiveCaption: 0xffffff,\n    InactiveCaptionText: 0x000000,\n    InfoBackground: 0xfbfcc5,\n    InfoText: 0x000000,\n    Menu: 0xf6f6f6,\n    MenuText: 0xffffff,\n    Scrollbar: 0xaaaaaa,\n    ThreeDDarkShadow: 0x000000,\n    ThreeDFace: 0xc0c0c0,\n    ThreeDHighlight: 0xffffff,\n    ThreeDLightShadow: 0xffffff,\n    ThreeDShadow: 0x000000,\n    Window: 0xececec,\n    WindowFrame: 0xaaaaaa,\n    WindowText: 0x000000,\n    '-webkit-focus-ring-color': 0xe59700\n  }).map(function (_a) {\n    var _b = __read(_a, 2),\n        key = _b[0],\n        value = _b[1];\n\n    return [key.toLowerCase(), value];\n  }));\n\n  function scale(x, inLow, inHigh, outLow, outHigh) {\n    return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;\n  }\n\n  function clamp(x, min, max) {\n    return Math.min(max, Math.max(min, x));\n  }\n\n  function multiplyMatrices(m1, m2) {\n    var result = [];\n\n    for (var i = 0, len = m1.length; i < len; i++) {\n      result[i] = [];\n\n      for (var j = 0, len2 = m2[0].length; j < len2; j++) {\n        var sum = 0;\n\n        for (var k = 0, len3 = m1[0].length; k < len3; k++) {\n          sum += m1[i][k] * m2[k][j];\n        }\n\n        result[i][j] = sum;\n      }\n    }\n\n    return result;\n  }\n\n  function getMatches(regex, input, group) {\n    if (group === void 0) {\n      group = 0;\n    }\n\n    var matches = [];\n    var m;\n\n    while (m = regex.exec(input)) {\n      matches.push(m[group]);\n    }\n\n    return matches;\n  }\n\n  function formatCSS(text) {\n    function trimLeft(text) {\n      return text.replace(/^\\s+/, '');\n    }\n\n    function getIndent(depth) {\n      if (depth === 0) {\n        return '';\n      }\n\n      return ' '.repeat(4 * depth);\n    }\n\n    if (text.length < 50000) {\n      var emptyRuleRegexp = /[^{}]+{\\s*}/;\n\n      while (emptyRuleRegexp.test(text)) {\n        text = text.replace(emptyRuleRegexp, '');\n      }\n    }\n\n    var css = text.replace(/\\s{2,}/g, ' ').replace(/\\{/g, '{\\n').replace(/\\}/g, '\\n}\\n').replace(/\\;(?![^\\(|\\\"]*(\\)|\\\"))/g, ';\\n').replace(/\\,(?![^\\(|\\\"]*(\\)|\\\"))/g, ',\\n').replace(/\\n\\s*\\n/g, '\\n').split('\\n');\n    var depth = 0;\n    var formatted = [];\n\n    for (var x = 0, len = css.length; x < len; x++) {\n      var line = css[x] + \"\\n\";\n\n      if (line.includes('{')) {\n        formatted.push(getIndent(depth++) + trimLeft(line));\n      } else if (line.includes('\\}')) {\n        formatted.push(getIndent(--depth) + trimLeft(line));\n      } else {\n        formatted.push(getIndent(depth) + trimLeft(line));\n      }\n    }\n\n    return formatted.join('').trim();\n  }\n\n  function getParenthesesRange(input, searchStartIndex) {\n    if (searchStartIndex === void 0) {\n      searchStartIndex = 0;\n    }\n\n    var length = input.length;\n    var depth = 0;\n    var firstOpenIndex = -1;\n\n    for (var i = searchStartIndex; i < length; i++) {\n      if (depth === 0) {\n        var openIndex = input.indexOf('(', i);\n\n        if (openIndex < 0) {\n          break;\n        }\n\n        firstOpenIndex = openIndex;\n        depth++;\n        i = openIndex;\n      } else {\n        var closingIndex = input.indexOf(')', i);\n\n        if (closingIndex < 0) {\n          break;\n        }\n\n        var openIndex = input.indexOf('(', i);\n\n        if (openIndex < 0 || closingIndex < openIndex) {\n          depth--;\n\n          if (depth === 0) {\n            return {\n              start: firstOpenIndex,\n              end: closingIndex + 1\n            };\n          }\n\n          i = closingIndex;\n        } else {\n          depth++;\n          i = openIndex;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  function createFilterMatrix(config) {\n    var m = Matrix.identity();\n\n    if (config.sepia !== 0) {\n      m = multiplyMatrices(m, Matrix.sepia(config.sepia / 100));\n    }\n\n    if (config.grayscale !== 0) {\n      m = multiplyMatrices(m, Matrix.grayscale(config.grayscale / 100));\n    }\n\n    if (config.contrast !== 100) {\n      m = multiplyMatrices(m, Matrix.contrast(config.contrast / 100));\n    }\n\n    if (config.brightness !== 100) {\n      m = multiplyMatrices(m, Matrix.brightness(config.brightness / 100));\n    }\n\n    if (config.mode === 1) {\n      m = multiplyMatrices(m, Matrix.invertNHue());\n    }\n\n    return m;\n  }\n\n  function applyColorMatrix(_a, matrix) {\n    var _b = __read(_a, 3),\n        r = _b[0],\n        g = _b[1],\n        b = _b[2];\n\n    var rgb = [[r / 255], [g / 255], [b / 255], [1], [1]];\n    var result = multiplyMatrices(matrix, rgb);\n    return [0, 1, 2].map(function (i) {\n      return clamp(Math.round(result[i][0] * 255), 0, 255);\n    });\n  }\n\n  var Matrix = {\n    identity: function identity() {\n      return [[1, 0, 0, 0, 0], [0, 1, 0, 0, 0], [0, 0, 1, 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    invertNHue: function invertNHue() {\n      return [[0.333, -0.667, -0.667, 0, 1], [-0.667, 0.333, -0.667, 0, 1], [-0.667, -0.667, 0.333, 0, 1], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    brightness: function brightness(v) {\n      return [[v, 0, 0, 0, 0], [0, v, 0, 0, 0], [0, 0, v, 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    contrast: function contrast(v) {\n      var t = (1 - v) / 2;\n      return [[v, 0, 0, 0, t], [0, v, 0, 0, t], [0, 0, v, 0, t], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    sepia: function sepia(v) {\n      return [[0.393 + 0.607 * (1 - v), 0.769 - 0.769 * (1 - v), 0.189 - 0.189 * (1 - v), 0, 0], [0.349 - 0.349 * (1 - v), 0.686 + 0.314 * (1 - v), 0.168 - 0.168 * (1 - v), 0, 0], [0.272 - 0.272 * (1 - v), 0.534 - 0.534 * (1 - v), 0.131 + 0.869 * (1 - v), 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    },\n    grayscale: function grayscale(v) {\n      return [[0.2126 + 0.7874 * (1 - v), 0.7152 - 0.7152 * (1 - v), 0.0722 - 0.0722 * (1 - v), 0, 0], [0.2126 - 0.2126 * (1 - v), 0.7152 + 0.2848 * (1 - v), 0.0722 - 0.0722 * (1 - v), 0, 0], [0.2126 - 0.2126 * (1 - v), 0.7152 - 0.7152 * (1 - v), 0.0722 + 0.9278 * (1 - v), 0, 0], [0, 0, 0, 1, 0], [0, 0, 0, 0, 1]];\n    }\n  };\n\n  function getBgPole(theme) {\n    var isDarkScheme = theme.mode === 1;\n    var prop = isDarkScheme ? 'darkSchemeBackgroundColor' : 'lightSchemeBackgroundColor';\n    return theme[prop];\n  }\n\n  function getFgPole(theme) {\n    var isDarkScheme = theme.mode === 1;\n    var prop = isDarkScheme ? 'darkSchemeTextColor' : 'lightSchemeTextColor';\n    return theme[prop];\n  }\n\n  var colorModificationCache = new Map();\n  var colorParseCache$1 = new Map();\n\n  function parseToHSLWithCache(color) {\n    if (colorParseCache$1.has(color)) {\n      return colorParseCache$1.get(color);\n    }\n\n    var rgb = parse(color);\n    var hsl = rgbToHSL(rgb);\n    colorParseCache$1.set(color, hsl);\n    return hsl;\n  }\n\n  function clearColorModificationCache() {\n    colorModificationCache.clear();\n    colorParseCache$1.clear();\n  }\n\n  var rgbCacheKeys = ['r', 'g', 'b', 'a'];\n  var themeCacheKeys$1 = ['mode', 'brightness', 'contrast', 'grayscale', 'sepia', 'darkSchemeBackgroundColor', 'darkSchemeTextColor', 'lightSchemeBackgroundColor', 'lightSchemeTextColor'];\n\n  function getCacheId(rgb, theme) {\n    var resultId = '';\n    rgbCacheKeys.forEach(function (key) {\n      resultId += rgb[key] + \";\";\n    });\n    themeCacheKeys$1.forEach(function (key) {\n      resultId += theme[key] + \";\";\n    });\n    return resultId;\n  }\n\n  function modifyColorWithCache(rgb, theme, modifyHSL, poleColor, anotherPoleColor) {\n    var fnCache;\n\n    if (colorModificationCache.has(modifyHSL)) {\n      fnCache = colorModificationCache.get(modifyHSL);\n    } else {\n      fnCache = new Map();\n      colorModificationCache.set(modifyHSL, fnCache);\n    }\n\n    var id = getCacheId(rgb, theme);\n\n    if (fnCache.has(id)) {\n      return fnCache.get(id);\n    }\n\n    var hsl = rgbToHSL(rgb);\n    var pole = poleColor == null ? null : parseToHSLWithCache(poleColor);\n    var anotherPole = anotherPoleColor == null ? null : parseToHSLWithCache(anotherPoleColor);\n    var modified = modifyHSL(hsl, pole, anotherPole);\n\n    var _a = hslToRGB(modified),\n        r = _a.r,\n        g = _a.g,\n        b = _a.b,\n        a = _a.a;\n\n    var matrix = createFilterMatrix(theme);\n\n    var _b = __read(applyColorMatrix([r, g, b], matrix), 3),\n        rf = _b[0],\n        gf = _b[1],\n        bf = _b[2];\n\n    var color = a === 1 ? rgbToHexString({\n      r: rf,\n      g: gf,\n      b: bf\n    }) : rgbToString({\n      r: rf,\n      g: gf,\n      b: bf,\n      a: a\n    });\n    fnCache.set(id, color);\n    return color;\n  }\n\n  function noopHSL(hsl) {\n    return hsl;\n  }\n\n  function modifyColor(rgb, theme) {\n    return modifyColorWithCache(rgb, theme, noopHSL);\n  }\n\n  function modifyLightSchemeColor(rgb, theme) {\n    var poleBg = getBgPole(theme);\n    var poleFg = getFgPole(theme);\n    return modifyColorWithCache(rgb, theme, modifyLightModeHSL, poleFg, poleBg);\n  }\n\n  function modifyLightModeHSL(_a, poleFg, poleBg) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isDark = l < 0.5;\n    var isNeutral;\n\n    if (isDark) {\n      isNeutral = l < 0.2 || s < 0.12;\n    } else {\n      var isBlue = h > 200 && h < 280;\n      isNeutral = s < 0.24 || l > 0.8 && isBlue;\n    }\n\n    var hx = h;\n    var sx = l;\n\n    if (isNeutral) {\n      if (isDark) {\n        hx = poleFg.h;\n        sx = poleFg.s;\n      } else {\n        hx = poleBg.h;\n        sx = poleBg.s;\n      }\n    }\n\n    var lx = scale(l, 0, 1, poleFg.l, poleBg.l);\n    return {\n      h: hx,\n      s: sx,\n      l: lx,\n      a: a\n    };\n  }\n\n  var MAX_BG_LIGHTNESS = 0.4;\n\n  function modifyBgHSL(_a, pole) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isDark = l < 0.5;\n    var isBlue = h > 200 && h < 280;\n    var isNeutral = s < 0.12 || l > 0.8 && isBlue;\n\n    if (isDark) {\n      var lx_1 = scale(l, 0, 0.5, 0, MAX_BG_LIGHTNESS);\n\n      if (isNeutral) {\n        var hx_1 = pole.h;\n        var sx = pole.s;\n        return {\n          h: hx_1,\n          s: sx,\n          l: lx_1,\n          a: a\n        };\n      }\n\n      return {\n        h: h,\n        s: s,\n        l: lx_1,\n        a: a\n      };\n    }\n\n    var lx = scale(l, 0.5, 1, MAX_BG_LIGHTNESS, pole.l);\n\n    if (isNeutral) {\n      var hx_2 = pole.h;\n      var sx = pole.s;\n      return {\n        h: hx_2,\n        s: sx,\n        l: lx,\n        a: a\n      };\n    }\n\n    var hx = h;\n    var isYellow = h > 60 && h < 180;\n\n    if (isYellow) {\n      var isCloserToGreen = h > 120;\n\n      if (isCloserToGreen) {\n        hx = scale(h, 120, 180, 135, 180);\n      } else {\n        hx = scale(h, 60, 120, 60, 105);\n      }\n    }\n\n    return {\n      h: hx,\n      s: s,\n      l: lx,\n      a: a\n    };\n  }\n\n  function modifyBackgroundColor(rgb, theme) {\n    if (theme.mode === 0) {\n      return modifyLightSchemeColor(rgb, theme);\n    }\n\n    var pole = getBgPole(theme);\n    return modifyColorWithCache(rgb, _assign(_assign({}, theme), {\n      mode: 0\n    }), modifyBgHSL, pole);\n  }\n\n  var MIN_FG_LIGHTNESS = 0.55;\n\n  function modifyBlueFgHue(hue) {\n    return scale(hue, 205, 245, 205, 220);\n  }\n\n  function modifyFgHSL(_a, pole) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isLight = l > 0.5;\n    var isNeutral = l < 0.2 || s < 0.24;\n    var isBlue = !isNeutral && h > 205 && h < 245;\n\n    if (isLight) {\n      var lx_2 = scale(l, 0.5, 1, MIN_FG_LIGHTNESS, pole.l);\n\n      if (isNeutral) {\n        var hx_3 = pole.h;\n        var sx = pole.s;\n        return {\n          h: hx_3,\n          s: sx,\n          l: lx_2,\n          a: a\n        };\n      }\n\n      var hx_4 = h;\n\n      if (isBlue) {\n        hx_4 = modifyBlueFgHue(h);\n      }\n\n      return {\n        h: hx_4,\n        s: s,\n        l: lx_2,\n        a: a\n      };\n    }\n\n    if (isNeutral) {\n      var hx_5 = pole.h;\n      var sx = pole.s;\n      var lx_3 = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);\n      return {\n        h: hx_5,\n        s: sx,\n        l: lx_3,\n        a: a\n      };\n    }\n\n    var hx = h;\n    var lx;\n\n    if (isBlue) {\n      hx = modifyBlueFgHue(h);\n      lx = scale(l, 0, 0.5, pole.l, Math.min(1, MIN_FG_LIGHTNESS + 0.05));\n    } else {\n      lx = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);\n    }\n\n    return {\n      h: hx,\n      s: s,\n      l: lx,\n      a: a\n    };\n  }\n\n  function modifyForegroundColor(rgb, theme) {\n    if (theme.mode === 0) {\n      return modifyLightSchemeColor(rgb, theme);\n    }\n\n    var pole = getFgPole(theme);\n    return modifyColorWithCache(rgb, _assign(_assign({}, theme), {\n      mode: 0\n    }), modifyFgHSL, pole);\n  }\n\n  function modifyBorderHSL(_a, poleFg, poleBg) {\n    var h = _a.h,\n        s = _a.s,\n        l = _a.l,\n        a = _a.a;\n    var isDark = l < 0.5;\n    var isNeutral = l < 0.2 || s < 0.24;\n    var hx = h;\n    var sx = s;\n\n    if (isNeutral) {\n      if (isDark) {\n        hx = poleFg.h;\n        sx = poleFg.s;\n      } else {\n        hx = poleBg.h;\n        sx = poleBg.s;\n      }\n    }\n\n    var lx = scale(l, 0, 1, 0.5, 0.2);\n    return {\n      h: hx,\n      s: sx,\n      l: lx,\n      a: a\n    };\n  }\n\n  function modifyBorderColor(rgb, theme) {\n    if (theme.mode === 0) {\n      return modifyLightSchemeColor(rgb, theme);\n    }\n\n    var poleFg = getFgPole(theme);\n    var poleBg = getBgPole(theme);\n    return modifyColorWithCache(rgb, _assign(_assign({}, theme), {\n      mode: 0\n    }), modifyBorderHSL, poleFg, poleBg);\n  }\n\n  function modifyShadowColor(rgb, filter) {\n    return modifyBackgroundColor(rgb, filter);\n  }\n\n  function modifyGradientColor(rgb, filter) {\n    return modifyBackgroundColor(rgb, filter);\n  }\n\n  function createTextStyle(config) {\n    var lines = [];\n    lines.push('*:not(pre, pre *, code, .far, .fa, .glyphicon, [class*=\"vjs-\"], .fab, .fa-github, .fas, .material-icons, .icofont, .typcn, mu, [class*=\"mu-\"], .glyphicon, .icon) {');\n\n    if (config.useFont && config.fontFamily) {\n      lines.push(\"  font-family: \" + config.fontFamily + \" !important;\");\n    }\n\n    if (config.textStroke > 0) {\n      lines.push(\"  -webkit-text-stroke: \" + config.textStroke + \"px !important;\");\n      lines.push(\"  text-stroke: \" + config.textStroke + \"px !important;\");\n    }\n\n    lines.push('}');\n    return lines.join('\\n');\n  }\n\n  var FilterMode;\n\n  (function (FilterMode) {\n    FilterMode[FilterMode[\"light\"] = 0] = \"light\";\n    FilterMode[FilterMode[\"dark\"] = 1] = \"dark\";\n  })(FilterMode || (FilterMode = {}));\n\n  function getCSSFilterValue(config) {\n    var filters = [];\n\n    if (config.mode === FilterMode.dark) {\n      filters.push('invert(100%) hue-rotate(180deg)');\n    }\n\n    if (config.brightness !== 100) {\n      filters.push(\"brightness(\" + config.brightness + \"%)\");\n    }\n\n    if (config.contrast !== 100) {\n      filters.push(\"contrast(\" + config.contrast + \"%)\");\n    }\n\n    if (config.grayscale !== 0) {\n      filters.push(\"grayscale(\" + config.grayscale + \"%)\");\n    }\n\n    if (config.sepia !== 0) {\n      filters.push(\"sepia(\" + config.sepia + \"%)\");\n    }\n\n    if (filters.length === 0) {\n      return null;\n    }\n\n    return filters.join(' ');\n  }\n\n  function toSVGMatrix(matrix) {\n    return matrix.slice(0, 4).map(function (m) {\n      return m.map(function (m) {\n        return m.toFixed(3);\n      }).join(' ');\n    }).join(' ');\n  }\n\n  function getSVGFilterMatrixValue(config) {\n    return toSVGMatrix(createFilterMatrix(config));\n  }\n\n  var counter = 0;\n  var resolvers$1 = new Map();\n  var rejectors = new Map();\n\n  function bgFetch(request) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve, reject) {\n          var id = ++counter;\n          resolvers$1.set(id, resolve);\n          rejectors.set(id, reject);\n          chrome.runtime.sendMessage({\n            type: MessageType.CS_FETCH,\n            data: request,\n            id: id\n          });\n        })];\n      });\n    });\n  }\n\n  chrome.runtime.onMessage.addListener(function (_a) {\n    var type = _a.type,\n        data = _a.data,\n        error = _a.error,\n        id = _a.id;\n\n    if (type === MessageType.BG_FETCH_RESPONSE) {\n      var resolve = resolvers$1.get(id);\n      var reject = rejectors.get(id);\n      resolvers$1.delete(id);\n      rejectors.delete(id);\n\n      if (error) {\n        reject && reject(error);\n      } else {\n        resolve && resolve(data);\n      }\n    }\n  });\n\n  var AsyncQueue = function () {\n    function AsyncQueue() {\n      this.queue = [];\n      this.timerId = null;\n      this.frameDuration = 1000 / 60;\n    }\n\n    AsyncQueue.prototype.addToQueue = function (entry) {\n      this.queue.push(entry);\n      this.startQueue();\n    };\n\n    AsyncQueue.prototype.stopQueue = function () {\n      if (this.timerId !== null) {\n        cancelAnimationFrame(this.timerId);\n        this.timerId = null;\n      }\n\n      this.queue = [];\n    };\n\n    AsyncQueue.prototype.startQueue = function () {\n      var _this = this;\n\n      if (this.timerId) {\n        return;\n      }\n\n      this.timerId = requestAnimationFrame(function () {\n        _this.timerId = null;\n        var start = Date.now();\n        var cb;\n\n        while (cb = _this.queue.shift()) {\n          cb();\n\n          if (Date.now() - start >= _this.frameDuration) {\n            _this.startQueue();\n\n            break;\n          }\n        }\n      });\n    };\n\n    return AsyncQueue;\n  }();\n\n  var imageManager = new AsyncQueue();\n\n  function getImageDetails(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve, reject) {\n          return __awaiter(_this, void 0, void 0, function () {\n            var dataURL, error_1, image_1, error_2;\n            return __generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  if (!url.startsWith('data:')) return [3, 1];\n                  dataURL = url;\n                  return [3, 4];\n\n                case 1:\n                  _a.trys.push([1, 3,, 4]);\n\n                  return [4, getImageDataURL(url)];\n\n                case 2:\n                  dataURL = _a.sent();\n                  return [3, 4];\n\n                case 3:\n                  error_1 = _a.sent();\n                  reject(error_1);\n                  return [2];\n\n                case 4:\n                  _a.trys.push([4, 6,, 7]);\n\n                  return [4, urlToImage(dataURL)];\n\n                case 5:\n                  image_1 = _a.sent();\n                  imageManager.addToQueue(function () {\n                    resolve(_assign({\n                      src: url,\n                      dataURL: dataURL,\n                      width: image_1.naturalWidth,\n                      height: image_1.naturalHeight\n                    }, analyzeImage(image_1)));\n                  });\n                  return [3, 7];\n\n                case 6:\n                  error_2 = _a.sent();\n                  reject(error_2);\n                  return [3, 7];\n\n                case 7:\n                  return [2];\n              }\n            });\n          });\n        })];\n      });\n    });\n  }\n\n  function getImageDataURL(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      var parsedURL;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            parsedURL = new URL(url);\n            if (!(parsedURL.origin === location.origin)) return [3, 2];\n            return [4, loadAsDataURL(url)];\n\n          case 1:\n            return [2, _a.sent()];\n\n          case 2:\n            return [4, bgFetch({\n              url: url,\n              responseType: 'data-url'\n            })];\n\n          case 3:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  function urlToImage(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve, reject) {\n          var image = new Image();\n\n          image.onload = function () {\n            return resolve(image);\n          };\n\n          image.onerror = function () {\n            return reject(\"Unable to load image \" + url);\n          };\n\n          image.src = url;\n        })];\n      });\n    });\n  }\n\n  var MAX_ANALIZE_PIXELS_COUNT = 32 * 32;\n  var canvas;\n  var context;\n\n  function createCanvas() {\n    var maxWidth = MAX_ANALIZE_PIXELS_COUNT;\n    var maxHeight = MAX_ANALIZE_PIXELS_COUNT;\n    canvas = document.createElement('canvas');\n    canvas.width = maxWidth;\n    canvas.height = maxHeight;\n    context = canvas.getContext('2d');\n    context.imageSmoothingEnabled = false;\n  }\n\n  function removeCanvas() {\n    canvas = null;\n    context = null;\n  }\n\n  var MAX_IMAGE_SIZE = 5 * 1024 * 1024;\n\n  function analyzeImage(image) {\n    if (!canvas) {\n      createCanvas();\n    }\n\n    var naturalWidth = image.naturalWidth,\n        naturalHeight = image.naturalHeight;\n\n    if (naturalHeight === 0 || naturalWidth === 0) {\n      logWarn(\"logWarn(Image is empty \" + image.currentSrc + \")\");\n      return null;\n    }\n\n    var size = naturalWidth * naturalHeight * 4;\n\n    if (size > MAX_IMAGE_SIZE) {\n      logInfo('Skipped large image analyzing(Larger than 5mb in memory)');\n      return {\n        isDark: false,\n        isLight: false,\n        isTransparent: false,\n        isLarge: false,\n        isTooLarge: true\n      };\n    }\n\n    var naturalPixelsCount = naturalWidth * naturalHeight;\n    var k = Math.min(1, Math.sqrt(MAX_ANALIZE_PIXELS_COUNT / naturalPixelsCount));\n    var width = Math.ceil(naturalWidth * k);\n    var height = Math.ceil(naturalHeight * k);\n    context.clearRect(0, 0, width, height);\n    context.drawImage(image, 0, 0, naturalWidth, naturalHeight, 0, 0, width, height);\n    var imageData = context.getImageData(0, 0, width, height);\n    var d = imageData.data;\n    var TRANSPARENT_ALPHA_THRESHOLD = 0.05;\n    var DARK_LIGHTNESS_THRESHOLD = 0.4;\n    var LIGHT_LIGHTNESS_THRESHOLD = 0.7;\n    var transparentPixelsCount = 0;\n    var darkPixelsCount = 0;\n    var lightPixelsCount = 0;\n    var i, x, y;\n    var r, g, b, a;\n    var l;\n\n    for (y = 0; y < height; y++) {\n      for (x = 0; x < width; x++) {\n        i = 4 * (y * width + x);\n        r = d[i + 0] / 255;\n        g = d[i + 1] / 255;\n        b = d[i + 2] / 255;\n        a = d[i + 3] / 255;\n\n        if (a < TRANSPARENT_ALPHA_THRESHOLD) {\n          transparentPixelsCount++;\n        } else {\n          l = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n\n          if (l < DARK_LIGHTNESS_THRESHOLD) {\n            darkPixelsCount++;\n          }\n\n          if (l > LIGHT_LIGHTNESS_THRESHOLD) {\n            lightPixelsCount++;\n          }\n        }\n      }\n    }\n\n    var totalPixelsCount = width * height;\n    var opaquePixelsCount = totalPixelsCount - transparentPixelsCount;\n    var DARK_IMAGE_THRESHOLD = 0.7;\n    var LIGHT_IMAGE_THRESHOLD = 0.7;\n    var TRANSPARENT_IMAGE_THRESHOLD = 0.1;\n    var LARGE_IMAGE_PIXELS_COUNT = 800 * 600;\n    return {\n      isDark: darkPixelsCount / opaquePixelsCount >= DARK_IMAGE_THRESHOLD,\n      isLight: lightPixelsCount / opaquePixelsCount >= LIGHT_IMAGE_THRESHOLD,\n      isTransparent: transparentPixelsCount / totalPixelsCount >= TRANSPARENT_IMAGE_THRESHOLD,\n      isLarge: naturalPixelsCount >= LARGE_IMAGE_PIXELS_COUNT,\n      isTooLarge: false\n    };\n  }\n\n  function getFilteredImageDataURL(_a, theme) {\n    var dataURL = _a.dataURL,\n        width = _a.width,\n        height = _a.height;\n    var matrix = getSVGFilterMatrixValue(theme);\n    var svg = [\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"\" + width + \"\\\" height=\\\"\" + height + \"\\\">\", '<defs>', '<filter id=\"darkreader-image-filter\">', \"<feColorMatrix type=\\\"matrix\\\" values=\\\"\" + matrix + \"\\\" />\", '</filter>', '</defs>', \"<image width=\\\"\" + width + \"\\\" height=\\\"\" + height + \"\\\" filter=\\\"url(#darkreader-image-filter)\\\" xlink:href=\\\"\" + dataURL + \"\\\" />\", '</svg>'].join('');\n    return \"data:image/svg+xml;base64,\" + btoa(svg);\n  }\n\n  function cleanImageProcessingCache() {\n    imageManager && imageManager.stopQueue();\n    removeCanvas();\n  }\n\n  function getPriority(ruleStyle, property) {\n    return Boolean(ruleStyle && ruleStyle.getPropertyPriority(property));\n  }\n\n  function getModifiableCSSDeclaration(property, value, rule, variablesStore, ignoreImageSelectors, isCancelled) {\n    if (property.startsWith('--')) {\n      var modifier = getVariableModifier(variablesStore, property, value, rule, ignoreImageSelectors, isCancelled);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: getPriority(rule.style, property),\n          sourceValue: value\n        };\n      }\n    } else if (value.includes('var(')) {\n      var modifier = getVariableDependantModifier(variablesStore, property, value);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: getPriority(rule.style, property),\n          sourceValue: value\n        };\n      }\n    } else if (property.includes('color') && property !== '-webkit-print-color-adjust' || property === 'fill' || property === 'stroke' || property === 'stop-color') {\n      var modifier = getColorModifier(property, value);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: getPriority(rule.style, property),\n          sourceValue: value\n        };\n      }\n    } else if (property === 'background-image' || property === 'list-style-image') {\n      var modifier = getBgImageModifier(value, rule, ignoreImageSelectors, isCancelled);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: getPriority(rule.style, property),\n          sourceValue: value\n        };\n      }\n    } else if (property.includes('shadow')) {\n      var modifier = getShadowModifier(value);\n\n      if (modifier) {\n        return {\n          property: property,\n          value: modifier,\n          important: getPriority(rule.style, property),\n          sourceValue: value\n        };\n      }\n    }\n\n    return null;\n  }\n\n  function getModifiedUserAgentStyle(theme, isIFrame, styleSystemControls) {\n    var lines = [];\n\n    if (!isIFrame) {\n      lines.push('html {');\n      lines.push(\"    background-color: \" + modifyBackgroundColor({\n        r: 255,\n        g: 255,\n        b: 255\n      }, theme) + \" !important;\");\n      lines.push('}');\n    }\n\n    lines.push(\"\" + (isIFrame ? '' : 'html, body, ') + (styleSystemControls ? 'input, textarea, select, button' : '') + \" {\");\n    lines.push(\"    background-color: \" + modifyBackgroundColor({\n      r: 255,\n      g: 255,\n      b: 255\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push(\"html, body, \" + (styleSystemControls ? 'input, textarea, select, button' : '') + \" {\");\n    lines.push(\"    border-color: \" + modifyBorderColor({\n      r: 76,\n      g: 76,\n      b: 76\n    }, theme) + \";\");\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 0,\n      b: 0\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('a {');\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 64,\n      b: 255\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('table {');\n    lines.push(\"    border-color: \" + modifyBorderColor({\n      r: 128,\n      g: 128,\n      b: 128\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('::placeholder {');\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 169,\n      g: 169,\n      b: 169\n    }, theme) + \";\");\n    lines.push('}');\n    lines.push('input:-webkit-autofill,');\n    lines.push('textarea:-webkit-autofill,');\n    lines.push('select:-webkit-autofill {');\n    lines.push(\"    background-color: \" + modifyBackgroundColor({\n      r: 250,\n      g: 255,\n      b: 189\n    }, theme) + \" !important;\");\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 0,\n      b: 0\n    }, theme) + \" !important;\");\n    lines.push('}');\n\n    if (theme.scrollbarColor) {\n      lines.push(getModifiedScrollbarStyle(theme));\n    }\n\n    if (theme.selectionColor) {\n      lines.push(getModifiedSelectionStyle(theme));\n    }\n\n    return lines.join('\\n');\n  }\n\n  function getSelectionColor(theme) {\n    var backgroundColorSelection;\n    var foregroundColorSelection;\n\n    if (theme.selectionColor === 'auto') {\n      backgroundColorSelection = modifyBackgroundColor({\n        r: 0,\n        g: 96,\n        b: 212\n      }, _assign(_assign({}, theme), {\n        grayscale: 0\n      }));\n      foregroundColorSelection = modifyForegroundColor({\n        r: 255,\n        g: 255,\n        b: 255\n      }, _assign(_assign({}, theme), {\n        grayscale: 0\n      }));\n    } else {\n      var rgb = parse(theme.selectionColor);\n      var hsl = rgbToHSL(rgb);\n      backgroundColorSelection = theme.selectionColor;\n\n      if (hsl.l < 0.5) {\n        foregroundColorSelection = '#FFF';\n      } else {\n        foregroundColorSelection = '#000';\n      }\n    }\n\n    return {\n      backgroundColorSelection: backgroundColorSelection,\n      foregroundColorSelection: foregroundColorSelection\n    };\n  }\n\n  function getModifiedSelectionStyle(theme) {\n    var lines = [];\n    var modifiedSelectionColor = getSelectionColor(theme);\n    var backgroundColorSelection = modifiedSelectionColor.backgroundColorSelection;\n    var foregroundColorSelection = modifiedSelectionColor.foregroundColorSelection;\n    ['::selection', '::-moz-selection'].forEach(function (selection) {\n      lines.push(selection + \" {\");\n      lines.push(\"    background-color: \" + backgroundColorSelection + \" !important;\");\n      lines.push(\"    color: \" + foregroundColorSelection + \" !important;\");\n      lines.push('}');\n    });\n    return lines.join('\\n');\n  }\n\n  function getModifiedScrollbarStyle(theme) {\n    var lines = [];\n    var colorTrack;\n    var colorIcons;\n    var colorThumb;\n    var colorThumbHover;\n    var colorThumbActive;\n    var colorCorner;\n\n    if (theme.scrollbarColor === 'auto') {\n      colorTrack = modifyBackgroundColor({\n        r: 241,\n        g: 241,\n        b: 241\n      }, theme);\n      colorIcons = modifyForegroundColor({\n        r: 96,\n        g: 96,\n        b: 96\n      }, theme);\n      colorThumb = modifyBackgroundColor({\n        r: 176,\n        g: 176,\n        b: 176\n      }, theme);\n      colorThumbHover = modifyBackgroundColor({\n        r: 144,\n        g: 144,\n        b: 144\n      }, theme);\n      colorThumbActive = modifyBackgroundColor({\n        r: 96,\n        g: 96,\n        b: 96\n      }, theme);\n      colorCorner = modifyBackgroundColor({\n        r: 255,\n        g: 255,\n        b: 255\n      }, theme);\n    } else {\n      var rgb = parse(theme.scrollbarColor);\n      var hsl_1 = rgbToHSL(rgb);\n      var isLight = hsl_1.l > 0.5;\n\n      var lighten = function lighten(lighter) {\n        return _assign(_assign({}, hsl_1), {\n          l: clamp(hsl_1.l + lighter, 0, 1)\n        });\n      };\n\n      var darken = function darken(darker) {\n        return _assign(_assign({}, hsl_1), {\n          l: clamp(hsl_1.l - darker, 0, 1)\n        });\n      };\n\n      colorTrack = hslToString(darken(0.4));\n      colorIcons = hslToString(isLight ? darken(0.4) : lighten(0.4));\n      colorThumb = hslToString(hsl_1);\n      colorThumbHover = hslToString(lighten(0.1));\n      colorThumbActive = hslToString(lighten(0.2));\n    }\n\n    lines.push('::-webkit-scrollbar {');\n    lines.push(\"    background-color: \" + colorTrack + \";\");\n    lines.push(\"    color: \" + colorIcons + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-thumb {');\n    lines.push(\"    background-color: \" + colorThumb + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-thumb:hover {');\n    lines.push(\"    background-color: \" + colorThumbHover + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-thumb:active {');\n    lines.push(\"    background-color: \" + colorThumbActive + \";\");\n    lines.push('}');\n    lines.push('::-webkit-scrollbar-corner {');\n    lines.push(\"    background-color: \" + colorCorner + \";\");\n    lines.push('}');\n\n    if (isFirefox) {\n      lines.push('* {');\n      lines.push(\"    scrollbar-color: \" + colorThumb + \" \" + colorTrack + \";\");\n      lines.push('}');\n    }\n\n    return lines.join('\\n');\n  }\n\n  function getModifiedFallbackStyle(filter, _a) {\n    var strict = _a.strict;\n    var lines = [];\n    lines.push(\"html, body, \" + (strict ? 'body :not(iframe):not(div[style^=\"position:absolute;top:0;left:-\"]' : 'body > :not(iframe)') + \" {\");\n    lines.push(\"    background-color: \" + modifyBackgroundColor({\n      r: 255,\n      g: 255,\n      b: 255\n    }, filter) + \" !important;\");\n    lines.push(\"    border-color: \" + modifyBorderColor({\n      r: 64,\n      g: 64,\n      b: 64\n    }, filter) + \" !important;\");\n    lines.push(\"    color: \" + modifyForegroundColor({\n      r: 0,\n      g: 0,\n      b: 0\n    }, filter) + \" !important;\");\n    lines.push('}');\n    return lines.join('\\n');\n  }\n\n  var unparsableColors = new Set(['inherit', 'transparent', 'initial', 'currentcolor', 'none', 'unset']);\n  var colorParseCache = new Map();\n\n  function parseColorWithCache($color) {\n    $color = $color.trim();\n\n    if (colorParseCache.has($color)) {\n      return colorParseCache.get($color);\n    }\n\n    if ($color.includes('calc(')) {\n      $color = lowerCalcExpression($color);\n    }\n\n    var color = parse($color);\n    colorParseCache.set($color, color);\n    return color;\n  }\n\n  function tryParseColor($color) {\n    try {\n      return parseColorWithCache($color);\n    } catch (err) {\n      return null;\n    }\n  }\n\n  function getColorModifier(prop, value) {\n    if (unparsableColors.has(value.toLowerCase())) {\n      return value;\n    }\n\n    try {\n      var rgb_1 = parseColorWithCache(value);\n\n      if (prop.includes('background')) {\n        return function (filter) {\n          return modifyBackgroundColor(rgb_1, filter);\n        };\n      }\n\n      if (prop.includes('border') || prop.includes('outline')) {\n        return function (filter) {\n          return modifyBorderColor(rgb_1, filter);\n        };\n      }\n\n      return function (filter) {\n        return modifyForegroundColor(rgb_1, filter);\n      };\n    } catch (err) {\n      logWarn('Color parse error', err);\n      return null;\n    }\n  }\n\n  var gradientRegex = /[\\-a-z]+gradient\\(([^\\(\\)]*(\\(([^\\(\\)]*(\\(.*?\\)))*[^\\(\\)]*\\))){0,15}[^\\(\\)]*\\)/g;\n  var imageDetailsCache = new Map();\n  var awaitingForImageLoading = new Map();\n\n  function shouldIgnoreImage(selectorText, selectors) {\n    if (!selectorText || selectors.length === 0) {\n      return false;\n    }\n\n    if (selectors.some(function (s) {\n      return s === '*';\n    })) {\n      return true;\n    }\n\n    var ruleSelectors = selectorText.split(/,\\s*/g);\n\n    var _loop_1 = function _loop_1(i) {\n      var ignoredSelector = selectors[i];\n\n      if (ruleSelectors.some(function (s) {\n        return s === ignoredSelector;\n      })) {\n        return {\n          value: true\n        };\n      }\n    };\n\n    for (var i = 0; i < selectors.length; i++) {\n      var state_1 = _loop_1(i);\n\n      if (typeof state_1 === \"object\") return state_1.value;\n    }\n\n    return false;\n  }\n\n  function getBgImageModifier(value, rule, ignoreImageSelectors, isCancelled) {\n    var _this = this;\n\n    try {\n      var gradients = getMatches(gradientRegex, value);\n      var urls = getMatches(cssURLRegex, value);\n\n      if (urls.length === 0 && gradients.length === 0) {\n        return value;\n      }\n\n      var getIndices = function getIndices(matches) {\n        var index = 0;\n        return matches.map(function (match) {\n          var valueIndex = value.indexOf(match, index);\n          index = valueIndex + match.length;\n          return {\n            match: match,\n            index: valueIndex\n          };\n        });\n      };\n\n      var matches_1 = getIndices(urls).map(function (i) {\n        return _assign({\n          type: 'url'\n        }, i);\n      }).concat(getIndices(gradients).map(function (i) {\n        return _assign({\n          type: 'gradient'\n        }, i);\n      })).sort(function (a, b) {\n        return a.index - b.index;\n      });\n\n      var getGradientModifier_1 = function getGradientModifier_1(gradient) {\n        var match = gradient.match(/^(.*-gradient)\\((.*)\\)$/);\n        var type = match[1];\n        var content = match[2];\n        var partsRegex = /([^\\(\\),]+(\\([^\\(\\)]*(\\([^\\(\\)]*\\)*[^\\(\\)]*)?\\))?[^\\(\\),]*),?/g;\n        var colorStopRegex = /^(from|color-stop|to)\\(([^\\(\\)]*?,\\s*)?(.*?)\\)$/;\n        var parts = getMatches(partsRegex, content, 1).map(function (part) {\n          part = part.trim();\n          var rgb = tryParseColor(part);\n\n          if (rgb) {\n            return function (filter) {\n              return modifyGradientColor(rgb, filter);\n            };\n          }\n\n          var space = part.lastIndexOf(' ');\n          rgb = tryParseColor(part.substring(0, space));\n\n          if (rgb) {\n            return function (filter) {\n              return modifyGradientColor(rgb, filter) + \" \" + part.substring(space + 1);\n            };\n          }\n\n          var colorStopMatch = part.match(colorStopRegex);\n\n          if (colorStopMatch) {\n            rgb = tryParseColor(colorStopMatch[3]);\n\n            if (rgb) {\n              return function (filter) {\n                return colorStopMatch[1] + \"(\" + (colorStopMatch[2] ? colorStopMatch[2] + \", \" : '') + modifyGradientColor(rgb, filter) + \")\";\n              };\n            }\n          }\n\n          return function () {\n            return part;\n          };\n        });\n        return function (filter) {\n          return type + \"(\" + parts.map(function (modify) {\n            return modify(filter);\n          }).join(', ') + \")\";\n        };\n      };\n\n      var getURLModifier_1 = function getURLModifier_1(urlValue) {\n        var _a;\n\n        if (shouldIgnoreImage(rule.selectorText, ignoreImageSelectors)) {\n          return null;\n        }\n\n        var url = getCSSURLValue(urlValue);\n        var parentStyleSheet = rule.parentStyleSheet;\n        var baseURL = parentStyleSheet && parentStyleSheet.href ? getCSSBaseBath(parentStyleSheet.href) : ((_a = parentStyleSheet.ownerNode) === null || _a === void 0 ? void 0 : _a.baseURI) || location.origin;\n        url = getAbsoluteURL(baseURL, url);\n        var absoluteValue = \"url(\\\"\" + url + \"\\\")\";\n        return function (filter) {\n          return __awaiter(_this, void 0, void 0, function () {\n            var imageDetails, awaiters_1, err_1, bgImageValue;\n            return __generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  if (!imageDetailsCache.has(url)) return [3, 1];\n                  imageDetails = imageDetailsCache.get(url);\n                  return [3, 7];\n\n                case 1:\n                  _a.trys.push([1, 6,, 7]);\n\n                  if (!awaitingForImageLoading.has(url)) return [3, 3];\n                  awaiters_1 = awaitingForImageLoading.get(url);\n                  return [4, new Promise(function (resolve) {\n                    return awaiters_1.push(resolve);\n                  })];\n\n                case 2:\n                  imageDetails = _a.sent();\n\n                  if (!imageDetails) {\n                    return [2, null];\n                  }\n\n                  return [3, 5];\n\n                case 3:\n                  awaitingForImageLoading.set(url, []);\n                  return [4, getImageDetails(url)];\n\n                case 4:\n                  imageDetails = _a.sent();\n                  imageDetailsCache.set(url, imageDetails);\n                  awaitingForImageLoading.get(url).forEach(function (resolve) {\n                    return resolve(imageDetails);\n                  });\n                  awaitingForImageLoading.delete(url);\n                  _a.label = 5;\n\n                case 5:\n                  if (isCancelled()) {\n                    return [2, null];\n                  }\n\n                  return [3, 7];\n\n                case 6:\n                  err_1 = _a.sent();\n                  logWarn(err_1);\n\n                  if (awaitingForImageLoading.has(url)) {\n                    awaitingForImageLoading.get(url).forEach(function (resolve) {\n                      return resolve(null);\n                    });\n                    awaitingForImageLoading.delete(url);\n                  }\n\n                  return [2, absoluteValue];\n\n                case 7:\n                  bgImageValue = getBgImageValue_1(imageDetails, filter) || absoluteValue;\n                  return [2, bgImageValue];\n              }\n            });\n          });\n        };\n      };\n\n      var getBgImageValue_1 = function getBgImageValue_1(imageDetails, filter) {\n        var isDark = imageDetails.isDark,\n            isLight = imageDetails.isLight,\n            isTransparent = imageDetails.isTransparent,\n            isLarge = imageDetails.isLarge,\n            isTooLarge = imageDetails.isTooLarge,\n            width = imageDetails.width;\n        var result;\n\n        if (isTooLarge) {\n          result = \"url(\\\"\" + imageDetails.src + \"\\\")\";\n        } else if (isDark && isTransparent && filter.mode === 1 && !isLarge && width > 2) {\n          logInfo(\"Inverting dark image \" + imageDetails.src);\n          var inverted = getFilteredImageDataURL(imageDetails, _assign(_assign({}, filter), {\n            sepia: clamp(filter.sepia + 10, 0, 100)\n          }));\n          result = \"url(\\\"\" + inverted + \"\\\")\";\n        } else if (isLight && !isTransparent && filter.mode === 1) {\n          if (isLarge) {\n            result = 'none';\n          } else {\n            logInfo(\"Dimming light image \" + imageDetails.src);\n            var dimmed = getFilteredImageDataURL(imageDetails, filter);\n            result = \"url(\\\"\" + dimmed + \"\\\")\";\n          }\n        } else if (filter.mode === 0 && isLight && !isLarge) {\n          logInfo(\"Applying filter to image \" + imageDetails.src);\n          var filtered = getFilteredImageDataURL(imageDetails, _assign(_assign({}, filter), {\n            brightness: clamp(filter.brightness - 10, 5, 200),\n            sepia: clamp(filter.sepia + 10, 0, 100)\n          }));\n          result = \"url(\\\"\" + filtered + \"\\\")\";\n        } else {\n          result = null;\n        }\n\n        return result;\n      };\n\n      var modifiers_1 = [];\n      var index_1 = 0;\n      matches_1.forEach(function (_a, i) {\n        var match = _a.match,\n            type = _a.type,\n            matchStart = _a.index;\n        var prefixStart = index_1;\n        var matchEnd = matchStart + match.length;\n        index_1 = matchEnd;\n        modifiers_1.push(function () {\n          return value.substring(prefixStart, matchStart);\n        });\n        modifiers_1.push(type === 'url' ? getURLModifier_1(match) : getGradientModifier_1(match));\n\n        if (i === matches_1.length - 1) {\n          modifiers_1.push(function () {\n            return value.substring(matchEnd);\n          });\n        }\n      });\n      return function (filter) {\n        var results = modifiers_1.filter(Boolean).map(function (modify) {\n          return modify(filter);\n        });\n\n        if (results.some(function (r) {\n          return r instanceof Promise;\n        })) {\n          return Promise.all(results).then(function (asyncResults) {\n            return asyncResults.join('');\n          });\n        }\n\n        return results.join('');\n      };\n    } catch (err) {\n      logWarn(\"Unable to parse gradient \" + value, err);\n      return null;\n    }\n  }\n\n  function getShadowModifierWithInfo(value) {\n    try {\n      var index_2 = 0;\n      var colorMatches_1 = getMatches(/(^|\\s)(?!calc)([a-z]+\\(.+?\\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/ig, value, 2);\n      var notParsed_1 = 0;\n      var modifiers_2 = colorMatches_1.map(function (match, i) {\n        var prefixIndex = index_2;\n        var matchIndex = value.indexOf(match, index_2);\n        var matchEnd = matchIndex + match.length;\n        index_2 = matchEnd;\n        var rgb = tryParseColor(match);\n\n        if (!rgb) {\n          notParsed_1++;\n          return function () {\n            return value.substring(prefixIndex, matchEnd);\n          };\n        }\n\n        return function (filter) {\n          return \"\" + value.substring(prefixIndex, matchIndex) + modifyShadowColor(rgb, filter) + (i === colorMatches_1.length - 1 ? value.substring(matchEnd) : '');\n        };\n      });\n      return function (filter) {\n        var modified = modifiers_2.map(function (modify) {\n          return modify(filter);\n        }).join('');\n        return {\n          matchesLength: colorMatches_1.length,\n          unparseableMatchesLength: notParsed_1,\n          result: modified\n        };\n      };\n    } catch (err) {\n      logWarn(\"Unable to parse shadow \" + value, err);\n      return null;\n    }\n  }\n\n  function getShadowModifier(value) {\n    var shadowModifier = getShadowModifierWithInfo(value);\n\n    if (!shadowModifier) {\n      return null;\n    }\n\n    return function (theme) {\n      return shadowModifier(theme).result;\n    };\n  }\n\n  function getVariableModifier(variablesStore, prop, value, rule, ignoredImgSelectors, isCancelled) {\n    return variablesStore.getModifierForVariable({\n      varName: prop,\n      sourceValue: value,\n      rule: rule,\n      ignoredImgSelectors: ignoredImgSelectors,\n      isCancelled: isCancelled\n    });\n  }\n\n  function getVariableDependantModifier(variablesStore, prop, value) {\n    return variablesStore.getModifierForVarDependant(prop, value);\n  }\n\n  function cleanModificationCache() {\n    colorParseCache.clear();\n    clearColorModificationCache();\n    imageDetailsCache.clear();\n    cleanImageProcessingCache();\n    awaitingForImageLoading.clear();\n  }\n\n  var VAR_TYPE_BGCOLOR = 1 << 0;\n  var VAR_TYPE_TEXTCOLOR = 1 << 1;\n  var VAR_TYPE_BORDERCOLOR = 1 << 2;\n  var VAR_TYPE_BGIMG = 1 << 3;\n\n  var VariablesStore = function () {\n    function VariablesStore() {\n      this.varTypes = new Map();\n      this.rulesQueue = [];\n      this.definedVars = new Set();\n      this.varRefs = new Map();\n      this.unknownColorVars = new Set();\n      this.unknownBgVars = new Set();\n      this.undefinedVars = new Set();\n      this.initialVarTypes = new Map();\n      this.changedTypeVars = new Set();\n      this.typeChangeSubscriptions = new Map();\n      this.unstableVarValues = new Map();\n    }\n\n    VariablesStore.prototype.clear = function () {\n      this.varTypes.clear();\n      this.rulesQueue.splice(0);\n      this.definedVars.clear();\n      this.varRefs.clear();\n      this.unknownColorVars.clear();\n      this.unknownBgVars.clear();\n      this.undefinedVars.clear();\n      this.initialVarTypes.clear();\n      this.changedTypeVars.clear();\n      this.typeChangeSubscriptions.clear();\n      this.unstableVarValues.clear();\n    };\n\n    VariablesStore.prototype.isVarType = function (varName, typeNum) {\n      return this.varTypes.has(varName) && (this.varTypes.get(varName) & typeNum) > 0;\n    };\n\n    VariablesStore.prototype.addRulesForMatching = function (rules) {\n      this.rulesQueue.push(rules);\n    };\n\n    VariablesStore.prototype.matchVariablesAndDependants = function () {\n      var _this = this;\n\n      this.changedTypeVars.clear();\n      this.initialVarTypes = new Map(this.varTypes);\n      this.collectRootVariables();\n      this.collectVariablesAndVarDep(this.rulesQueue);\n      this.rulesQueue.splice(0);\n      this.collectRootVarDependants();\n      this.varRefs.forEach(function (refs, v) {\n        refs.forEach(function (r) {\n          if (_this.varTypes.has(v)) {\n            _this.resolveVariableType(r, _this.varTypes.get(v));\n          }\n        });\n      });\n      this.unknownColorVars.forEach(function (v) {\n        if (_this.unknownBgVars.has(v)) {\n          _this.unknownColorVars.delete(v);\n\n          _this.unknownBgVars.delete(v);\n\n          _this.resolveVariableType(v, VAR_TYPE_BGCOLOR);\n        } else if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR)) {\n          _this.unknownColorVars.delete(v);\n        } else {\n          _this.undefinedVars.add(v);\n        }\n      });\n      this.unknownBgVars.forEach(function (v) {\n        var hasColor = _this.findVarRef(v, function (ref) {\n          return _this.unknownColorVars.has(ref) || _this.isVarType(ref, VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR);\n        }) != null;\n\n        if (hasColor) {\n          _this.itarateVarRefs(v, function (ref) {\n            _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);\n          });\n        } else if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)) {\n          _this.unknownBgVars.delete(v);\n        } else {\n          _this.undefinedVars.add(v);\n        }\n      });\n      this.changedTypeVars.forEach(function (varName) {\n        if (_this.typeChangeSubscriptions.has(varName)) {\n          _this.typeChangeSubscriptions.get(varName).forEach(function (callback) {\n            callback();\n          });\n        }\n      });\n      this.changedTypeVars.clear();\n    };\n\n    VariablesStore.prototype.getModifierForVariable = function (options) {\n      var _this = this;\n\n      return function (theme) {\n        var varName = options.varName,\n            sourceValue = options.sourceValue,\n            rule = options.rule,\n            ignoredImgSelectors = options.ignoredImgSelectors,\n            isCancelled = options.isCancelled;\n\n        var getDeclarations = function getDeclarations() {\n          var declarations = [];\n\n          var addModifiedValue = function addModifiedValue(typeNum, varNameWrapper, colorModifier) {\n            if (!_this.isVarType(varName, typeNum)) {\n              return;\n            }\n\n            var property = varNameWrapper(varName);\n            var modifiedValue;\n\n            if (isVarDependant(sourceValue)) {\n              if (isConstructedColorVar(sourceValue)) {\n                var value = insertVarValues(sourceValue, _this.unstableVarValues);\n\n                if (!value) {\n                  value = typeNum === VAR_TYPE_BGCOLOR ? '#ffffff' : '#000000';\n                }\n\n                modifiedValue = colorModifier(value, theme);\n              } else {\n                modifiedValue = replaceCSSVariablesNames(sourceValue, function (v) {\n                  return varNameWrapper(v);\n                }, function (fallback) {\n                  return colorModifier(fallback, theme);\n                });\n              }\n            } else {\n              modifiedValue = colorModifier(sourceValue, theme);\n            }\n\n            declarations.push({\n              property: property,\n              value: modifiedValue\n            });\n          };\n\n          addModifiedValue(VAR_TYPE_BGCOLOR, wrapBgColorVariableName, tryModifyBgColor);\n          addModifiedValue(VAR_TYPE_TEXTCOLOR, wrapTextColorVariableName, tryModifyTextColor);\n          addModifiedValue(VAR_TYPE_BORDERCOLOR, wrapBorderColorVariableName, tryModifyBorderColor);\n\n          if (_this.isVarType(varName, VAR_TYPE_BGIMG)) {\n            var property = wrapBgImgVariableName(varName);\n            var modifiedValue = sourceValue;\n\n            if (isVarDependant(sourceValue)) {\n              modifiedValue = replaceCSSVariablesNames(sourceValue, function (v) {\n                return wrapBgColorVariableName(v);\n              }, function (fallback) {\n                return tryModifyBgColor(fallback, theme);\n              });\n            }\n\n            var bgModifier = getBgImageModifier(modifiedValue, rule, ignoredImgSelectors, isCancelled);\n            modifiedValue = typeof bgModifier === 'function' ? bgModifier(theme) : bgModifier;\n            declarations.push({\n              property: property,\n              value: modifiedValue\n            });\n          }\n\n          return declarations;\n        };\n\n        var callbacks = new Set();\n\n        var addListener = function addListener(onTypeChange) {\n          var callback = function callback() {\n            var decs = getDeclarations();\n            onTypeChange(decs);\n          };\n\n          callbacks.add(callback);\n\n          _this.subscribeForVarTypeChange(varName, callback);\n        };\n\n        var removeListeners = function removeListeners() {\n          callbacks.forEach(function (callback) {\n            _this.unsubscribeFromVariableTypeChanges(varName, callback);\n          });\n        };\n\n        return {\n          declarations: getDeclarations(),\n          onTypeChange: {\n            addListener: addListener,\n            removeListeners: removeListeners\n          }\n        };\n      };\n    };\n\n    VariablesStore.prototype.getModifierForVarDependant = function (property, sourceValue) {\n      var _this = this;\n\n      if (sourceValue.match(/^\\s*(rgb|hsl)a?\\(/)) {\n        var isBg_1 = property.startsWith('background');\n        var isText_1 = property === 'color' || property === 'caret-color';\n        return function (theme) {\n          var value = insertVarValues(sourceValue, _this.unstableVarValues);\n\n          if (!value) {\n            value = isBg_1 ? '#ffffff' : '#000000';\n          }\n\n          var modifier = isBg_1 ? tryModifyBgColor : isText_1 ? tryModifyTextColor : tryModifyBorderColor;\n          return modifier(value, theme);\n        };\n      }\n\n      if (property === 'background-color') {\n        return function (theme) {\n          return replaceCSSVariablesNames(sourceValue, function (v) {\n            return wrapBgColorVariableName(v);\n          }, function (fallback) {\n            return tryModifyBgColor(fallback, theme);\n          });\n        };\n      }\n\n      if (property === 'color' || property === 'caret-color') {\n        return function (theme) {\n          return replaceCSSVariablesNames(sourceValue, function (v) {\n            return wrapTextColorVariableName(v);\n          }, function (fallback) {\n            return tryModifyTextColor(fallback, theme);\n          });\n        };\n      }\n\n      if (property === 'background' || property === 'background-image' || property === 'box-shadow') {\n        return function (theme) {\n          var unknownVars = new Set();\n\n          var modify = function modify() {\n            var variableReplaced = replaceCSSVariablesNames(sourceValue, function (v) {\n              if (_this.isVarType(v, VAR_TYPE_BGCOLOR)) {\n                return wrapBgColorVariableName(v);\n              }\n\n              if (_this.isVarType(v, VAR_TYPE_BGIMG)) {\n                return wrapBgImgVariableName(v);\n              }\n\n              unknownVars.add(v);\n              return v;\n            }, function (fallback) {\n              return tryModifyBgColor(fallback, theme);\n            });\n\n            if (property === 'box-shadow') {\n              var shadowModifier = getShadowModifierWithInfo(variableReplaced);\n              var modifiedShadow = shadowModifier(theme);\n\n              if (modifiedShadow.unparseableMatchesLength !== modifiedShadow.matchesLength) {\n                return modifiedShadow.result;\n              }\n            }\n\n            return variableReplaced;\n          };\n\n          var modified = modify();\n\n          if (unknownVars.size > 0) {\n            return new Promise(function (resolve) {\n              var firstUnknownVar = unknownVars.values().next().value;\n\n              var callback = function callback() {\n                _this.unsubscribeFromVariableTypeChanges(firstUnknownVar, callback);\n\n                var newValue = modify();\n                resolve(newValue);\n              };\n\n              _this.subscribeForVarTypeChange(firstUnknownVar, callback);\n            });\n          }\n\n          return modified;\n        };\n      }\n\n      if (property.startsWith('border') || property.startsWith('outline')) {\n        if (sourceValue.endsWith(')')) {\n          var colorTypeMatch = sourceValue.match(/((rgb|hsl)a?)\\(/);\n\n          if (colorTypeMatch) {\n            var index_1 = colorTypeMatch.index;\n            return function (theme) {\n              var value = insertVarValues(sourceValue, _this.unstableVarValues);\n\n              if (!value) {\n                return sourceValue;\n              }\n\n              var beginning = sourceValue.substring(0, index_1);\n              var color = sourceValue.substring(index_1, sourceValue.length);\n              var inserted = insertVarValues(color, _this.unstableVarValues);\n              var modified = tryModifyBorderColor(inserted, theme);\n              return \"\" + beginning + modified;\n            };\n          }\n        }\n\n        return function (theme) {\n          return replaceCSSVariablesNames(sourceValue, function (v) {\n            return wrapBorderColorVariableName(v);\n          }, function (fallback) {\n            return tryModifyTextColor(fallback, theme);\n          });\n        };\n      }\n\n      return null;\n    };\n\n    VariablesStore.prototype.subscribeForVarTypeChange = function (varName, callback) {\n      if (!this.typeChangeSubscriptions.has(varName)) {\n        this.typeChangeSubscriptions.set(varName, new Set());\n      }\n\n      var rootStore = this.typeChangeSubscriptions.get(varName);\n\n      if (!rootStore.has(callback)) {\n        rootStore.add(callback);\n      }\n    };\n\n    VariablesStore.prototype.unsubscribeFromVariableTypeChanges = function (varName, callback) {\n      if (this.typeChangeSubscriptions.has(varName)) {\n        this.typeChangeSubscriptions.get(varName).delete(callback);\n      }\n    };\n\n    VariablesStore.prototype.collectVariablesAndVarDep = function (ruleList) {\n      var _this = this;\n\n      ruleList.forEach(function (rules) {\n        iterateCSSRules(rules, function (rule) {\n          rule.style && iterateCSSDeclarations(rule.style, function (property, value) {\n            if (isVariable(property)) {\n              _this.inspectVariable(property, value);\n            }\n\n            if (isVarDependant(value)) {\n              _this.inspectVarDependant(property, value);\n            }\n          });\n        });\n      });\n    };\n\n    VariablesStore.prototype.collectRootVariables = function () {\n      var _this = this;\n\n      iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n        if (isVariable(property)) {\n          _this.inspectVariable(property, value);\n        }\n      });\n    };\n\n    VariablesStore.prototype.inspectVariable = function (varName, value) {\n      this.unstableVarValues.set(varName, value);\n\n      if (isVarDependant(value) && isConstructedColorVar(value)) {\n        this.unknownColorVars.add(varName);\n        this.definedVars.add(varName);\n      }\n\n      if (this.definedVars.has(varName)) {\n        return;\n      }\n\n      this.definedVars.add(varName);\n      var color = tryParseColor(value);\n\n      if (color) {\n        this.unknownColorVars.add(varName);\n      } else if (value.includes('url(') || value.includes('linear-gradient(') || value.includes('radial-gradient(')) {\n        this.resolveVariableType(varName, VAR_TYPE_BGIMG);\n      }\n    };\n\n    VariablesStore.prototype.resolveVariableType = function (varName, typeNum) {\n      var initialType = this.initialVarTypes.get(varName) || 0;\n      var currentType = this.varTypes.get(varName) || 0;\n      var newType = currentType | typeNum;\n      this.varTypes.set(varName, newType);\n\n      if (newType !== initialType || this.undefinedVars.has(varName)) {\n        this.changedTypeVars.add(varName);\n        this.undefinedVars.delete(varName);\n      }\n\n      this.unknownColorVars.delete(varName);\n      this.unknownBgVars.delete(varName);\n    };\n\n    VariablesStore.prototype.collectRootVarDependants = function () {\n      var _this = this;\n\n      iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n        if (isVarDependant(value)) {\n          _this.inspectVarDependant(property, value);\n        }\n      });\n    };\n\n    VariablesStore.prototype.inspectVarDependant = function (property, value) {\n      var _this = this;\n\n      if (isVariable(property)) {\n        this.iterateVarDeps(value, function (ref) {\n          if (!_this.varRefs.has(property)) {\n            _this.varRefs.set(property, new Set());\n          }\n\n          _this.varRefs.get(property).add(ref);\n        });\n      } else if (property === 'background-color' || property === 'box-shadow') {\n        this.iterateVarDeps(value, function (v) {\n          return _this.resolveVariableType(v, VAR_TYPE_BGCOLOR);\n        });\n      } else if (property === 'color' || property === 'caret-color') {\n        this.iterateVarDeps(value, function (v) {\n          return _this.resolveVariableType(v, VAR_TYPE_TEXTCOLOR);\n        });\n      } else if (property.startsWith('border') || property.startsWith('outline')) {\n        this.iterateVarDeps(value, function (v) {\n          return _this.resolveVariableType(v, VAR_TYPE_BORDERCOLOR);\n        });\n      } else if (property === 'background' || property === 'background-image') {\n        this.iterateVarDeps(value, function (v) {\n          if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)) {\n            return;\n          }\n\n          var isBgColor = _this.findVarRef(v, function (ref) {\n            return _this.unknownColorVars.has(ref) || _this.isVarType(ref, VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR);\n          }) != null;\n\n          _this.itarateVarRefs(v, function (ref) {\n            if (isBgColor) {\n              _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);\n            } else {\n              _this.unknownBgVars.add(ref);\n            }\n          });\n        });\n      }\n    };\n\n    VariablesStore.prototype.iterateVarDeps = function (value, iterator) {\n      var varDeps = new Set();\n      iterateVarDependencies(value, function (v) {\n        return varDeps.add(v);\n      });\n      varDeps.forEach(function (v) {\n        return iterator(v);\n      });\n    };\n\n    VariablesStore.prototype.findVarRef = function (varName, iterator, stack) {\n      var e_1, _a;\n\n      if (stack === void 0) {\n        stack = new Set();\n      }\n\n      if (stack.has(varName)) {\n        return null;\n      }\n\n      stack.add(varName);\n      var result = iterator(varName);\n\n      if (result) {\n        return varName;\n      }\n\n      var refs = this.varRefs.get(varName);\n\n      if (!refs || refs.size === 0) {\n        return null;\n      }\n\n      try {\n        for (var refs_1 = __values(refs), refs_1_1 = refs_1.next(); !refs_1_1.done; refs_1_1 = refs_1.next()) {\n          var ref = refs_1_1.value;\n          var found = this.findVarRef(ref, iterator, stack);\n\n          if (found) {\n            return found;\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (refs_1_1 && !refs_1_1.done && (_a = refs_1.return)) _a.call(refs_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      return null;\n    };\n\n    VariablesStore.prototype.itarateVarRefs = function (varName, iterator) {\n      this.findVarRef(varName, function (ref) {\n        iterator(ref);\n        return false;\n      });\n    };\n\n    VariablesStore.prototype.setOnRootVariableChange = function (callback) {\n      this.onRootVariableDefined = callback;\n    };\n\n    VariablesStore.prototype.putRootVars = function (styleElement, theme) {\n      var e_2, _a;\n\n      var _this = this;\n\n      var sheet = styleElement.sheet;\n\n      if (sheet.cssRules.length > 0) {\n        sheet.deleteRule(0);\n      }\n\n      var declarations = new Map();\n      iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n        if (isVariable(property)) {\n          if (_this.isVarType(property, VAR_TYPE_BGCOLOR)) {\n            declarations.set(wrapBgColorVariableName(property), tryModifyBgColor(value, theme));\n          }\n\n          if (_this.isVarType(property, VAR_TYPE_TEXTCOLOR)) {\n            declarations.set(wrapTextColorVariableName(property), tryModifyTextColor(value, theme));\n          }\n\n          if (_this.isVarType(property, VAR_TYPE_BORDERCOLOR)) {\n            declarations.set(wrapBorderColorVariableName(property), tryModifyBorderColor(value, theme));\n          }\n\n          _this.subscribeForVarTypeChange(property, _this.onRootVariableDefined);\n        }\n      });\n      var cssLines = [];\n      cssLines.push(':root {');\n\n      try {\n        for (var declarations_1 = __values(declarations), declarations_1_1 = declarations_1.next(); !declarations_1_1.done; declarations_1_1 = declarations_1.next()) {\n          var _b = __read(declarations_1_1.value, 2),\n              property = _b[0],\n              value = _b[1];\n\n          cssLines.push(\"    \" + property + \": \" + value + \";\");\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (declarations_1_1 && !declarations_1_1.done && (_a = declarations_1.return)) _a.call(declarations_1);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n\n      cssLines.push('}');\n      var cssText = cssLines.join('\\n');\n      sheet.insertRule(cssText);\n    };\n\n    return VariablesStore;\n  }();\n\n  var variablesStore = new VariablesStore();\n\n  function getVariableRange(input, searchStart) {\n    if (searchStart === void 0) {\n      searchStart = 0;\n    }\n\n    var start = input.indexOf('var(', searchStart);\n\n    if (start >= 0) {\n      var range = getParenthesesRange(input, start + 3);\n\n      if (range) {\n        return {\n          start: start,\n          end: range.end\n        };\n      }\n\n      return null;\n    }\n  }\n\n  function getVariablesMatches(input) {\n    var ranges = [];\n    var i = 0;\n    var range;\n\n    while (range = getVariableRange(input, i)) {\n      var start = range.start,\n          end = range.end;\n      ranges.push({\n        start: start,\n        end: end,\n        value: input.substring(start, end)\n      });\n      i = range.end + 1;\n    }\n\n    return ranges;\n  }\n\n  function replaceVariablesMatches(input, replacer) {\n    var matches = getVariablesMatches(input);\n    var matchesCount = matches.length;\n\n    if (matchesCount === 0) {\n      return input;\n    }\n\n    var inputLength = input.length;\n    var replacements = matches.map(function (m) {\n      return replacer(m.value);\n    });\n    var parts = [];\n    parts.push(input.substring(0, matches[0].start));\n\n    for (var i = 0; i < matchesCount; i++) {\n      parts.push(replacements[i]);\n      var start = matches[i].end;\n      var end = i < matchesCount - 1 ? matches[i + 1].start : inputLength;\n      parts.push(input.substring(start, end));\n    }\n\n    return parts.join('');\n  }\n\n  function getVariableNameAndFallback(match) {\n    var commaIndex = match.indexOf(',');\n    var name;\n    var fallback;\n\n    if (commaIndex >= 0) {\n      name = match.substring(4, commaIndex).trim();\n      fallback = match.substring(commaIndex + 1, match.length - 1).trim();\n    } else {\n      name = match.substring(4, match.length - 1).trim();\n      fallback = '';\n    }\n\n    return {\n      name: name,\n      fallback: fallback\n    };\n  }\n\n  function replaceCSSVariablesNames(value, nameReplacer, fallbackReplacer) {\n    var matchReplacer = function matchReplacer(match) {\n      var _a = getVariableNameAndFallback(match),\n          name = _a.name,\n          fallback = _a.fallback;\n\n      var newName = nameReplacer(name);\n\n      if (!fallback) {\n        return \"var(\" + newName + \")\";\n      }\n\n      var newFallback;\n\n      if (isVarDependant(fallback)) {\n        newFallback = replaceCSSVariablesNames(fallback, nameReplacer, fallbackReplacer);\n      } else if (fallbackReplacer) {\n        newFallback = fallbackReplacer(fallback);\n      } else {\n        newFallback = fallback;\n      }\n\n      return \"var(\" + newName + \", \" + newFallback + \")\";\n    };\n\n    return replaceVariablesMatches(value, matchReplacer);\n  }\n\n  function iterateVarDependencies(value, iterator) {\n    replaceCSSVariablesNames(value, function (varName) {\n      iterator(varName);\n      return varName;\n    });\n  }\n\n  function wrapBgColorVariableName(name) {\n    return \"--darkreader-bg\" + name;\n  }\n\n  function wrapTextColorVariableName(name) {\n    return \"--darkreader-text\" + name;\n  }\n\n  function wrapBorderColorVariableName(name) {\n    return \"--darkreader-border\" + name;\n  }\n\n  function wrapBgImgVariableName(name) {\n    return \"--darkreader-bgimg\" + name;\n  }\n\n  function isVariable(property) {\n    return property.startsWith('--');\n  }\n\n  function isVarDependant(value) {\n    return value.includes('var(');\n  }\n\n  function isConstructedColorVar(value) {\n    return value.match(/^\\s*(rgb|hsl)a?\\(/);\n  }\n\n  function tryModifyBgColor(color, theme) {\n    var rgb = tryParseColor(color);\n    return rgb ? modifyBackgroundColor(rgb, theme) : color;\n  }\n\n  function tryModifyTextColor(color, theme) {\n    var rgb = tryParseColor(color);\n    return rgb ? modifyForegroundColor(rgb, theme) : color;\n  }\n\n  function tryModifyBorderColor(color, theme) {\n    var rgb = tryParseColor(color);\n    return rgb ? modifyBorderColor(rgb, theme) : color;\n  }\n\n  function insertVarValues(source, varValues, stack) {\n    if (stack === void 0) {\n      stack = new Set();\n    }\n\n    var containsUnresolvedVar = false;\n\n    var matchReplacer = function matchReplacer(match) {\n      var _a = getVariableNameAndFallback(match),\n          name = _a.name,\n          fallback = _a.fallback;\n\n      if (stack.has(name)) {\n        containsUnresolvedVar = true;\n        return null;\n      }\n\n      stack.add(name);\n      var varValue = varValues.get(name) || fallback;\n      var inserted = null;\n\n      if (varValue) {\n        if (isVarDependant(varValue)) {\n          inserted = insertVarValues(varValue, varValues, stack);\n        } else {\n          inserted = varValue;\n        }\n      }\n\n      if (!inserted) {\n        containsUnresolvedVar = true;\n        return null;\n      }\n\n      return inserted;\n    };\n\n    var replaced = replaceVariablesMatches(source, matchReplacer);\n\n    if (containsUnresolvedVar) {\n      return null;\n    }\n\n    return replaced;\n  }\n\n  var overrides = {\n    'background-color': {\n      customProp: '--darkreader-inline-bgcolor',\n      cssProp: 'background-color',\n      dataAttr: 'data-darkreader-inline-bgcolor'\n    },\n    'background-image': {\n      customProp: '--darkreader-inline-bgimage',\n      cssProp: 'background-image',\n      dataAttr: 'data-darkreader-inline-bgimage'\n    },\n    'border-color': {\n      customProp: '--darkreader-inline-border',\n      cssProp: 'border-color',\n      dataAttr: 'data-darkreader-inline-border'\n    },\n    'border-bottom-color': {\n      customProp: '--darkreader-inline-border-bottom',\n      cssProp: 'border-bottom-color',\n      dataAttr: 'data-darkreader-inline-border-bottom'\n    },\n    'border-left-color': {\n      customProp: '--darkreader-inline-border-left',\n      cssProp: 'border-left-color',\n      dataAttr: 'data-darkreader-inline-border-left'\n    },\n    'border-right-color': {\n      customProp: '--darkreader-inline-border-right',\n      cssProp: 'border-right-color',\n      dataAttr: 'data-darkreader-inline-border-right'\n    },\n    'border-top-color': {\n      customProp: '--darkreader-inline-border-top',\n      cssProp: 'border-top-color',\n      dataAttr: 'data-darkreader-inline-border-top'\n    },\n    'box-shadow': {\n      customProp: '--darkreader-inline-boxshadow',\n      cssProp: 'box-shadow',\n      dataAttr: 'data-darkreader-inline-boxshadow'\n    },\n    'color': {\n      customProp: '--darkreader-inline-color',\n      cssProp: 'color',\n      dataAttr: 'data-darkreader-inline-color'\n    },\n    'fill': {\n      customProp: '--darkreader-inline-fill',\n      cssProp: 'fill',\n      dataAttr: 'data-darkreader-inline-fill'\n    },\n    'stroke': {\n      customProp: '--darkreader-inline-stroke',\n      cssProp: 'stroke',\n      dataAttr: 'data-darkreader-inline-stroke'\n    },\n    'outline-color': {\n      customProp: '--darkreader-inline-outline',\n      cssProp: 'outline-color',\n      dataAttr: 'data-darkreader-inline-outline'\n    },\n    'stop-color': {\n      customProp: '--darkreader-inline-stopcolor',\n      cssProp: 'stop-color',\n      dataAttr: 'data-darkreader-inline-stopcolor'\n    }\n  };\n  var overridesList = Object.values(overrides);\n  var normalizedPropList = {};\n  overridesList.forEach(function (_a) {\n    var cssProp = _a.cssProp,\n        customProp = _a.customProp;\n    return normalizedPropList[customProp] = cssProp;\n  });\n  var INLINE_STYLE_ATTRS = ['style', 'fill', 'stop-color', 'stroke', 'bgcolor', 'color'];\n  var INLINE_STYLE_SELECTOR = INLINE_STYLE_ATTRS.map(function (attr) {\n    return \"[\" + attr + \"]\";\n  }).join(', ');\n\n  function getInlineOverrideStyle() {\n    return overridesList.map(function (_a) {\n      var dataAttr = _a.dataAttr,\n          customProp = _a.customProp,\n          cssProp = _a.cssProp;\n      return [\"[\" + dataAttr + \"] {\", \"  \" + cssProp + \": var(\" + customProp + \") !important;\", '}'].join('\\n');\n    }).join('\\n');\n  }\n\n  function getInlineStyleElements(root) {\n    var results = [];\n\n    if (root instanceof Element && root.matches(INLINE_STYLE_SELECTOR)) {\n      results.push(root);\n    }\n\n    if (root instanceof Element || isShadowDomSupported && root instanceof ShadowRoot || root instanceof Document) {\n      push(results, root.querySelectorAll(INLINE_STYLE_SELECTOR));\n    }\n\n    return results;\n  }\n\n  var treeObservers = new Map();\n  var attrObservers = new Map();\n\n  function watchForInlineStyles(elementStyleDidChange, shadowRootDiscovered) {\n    deepWatchForInlineStyles(document, elementStyleDidChange, shadowRootDiscovered);\n    iterateShadowHosts(document.documentElement, function (host) {\n      deepWatchForInlineStyles(host.shadowRoot, elementStyleDidChange, shadowRootDiscovered);\n    });\n  }\n\n  function deepWatchForInlineStyles(root, elementStyleDidChange, shadowRootDiscovered) {\n    if (treeObservers.has(root)) {\n      treeObservers.get(root).disconnect();\n      attrObservers.get(root).disconnect();\n    }\n\n    var discoveredNodes = new WeakSet();\n\n    function discoverNodes(node) {\n      getInlineStyleElements(node).forEach(function (el) {\n        if (discoveredNodes.has(el)) {\n          return;\n        }\n\n        discoveredNodes.add(el);\n        elementStyleDidChange(el);\n      });\n      iterateShadowHosts(node, function (n) {\n        if (discoveredNodes.has(node)) {\n          return;\n        }\n\n        discoveredNodes.add(node);\n        shadowRootDiscovered(n.shadowRoot);\n        deepWatchForInlineStyles(n.shadowRoot, elementStyleDidChange, shadowRootDiscovered);\n      });\n    }\n\n    var treeObserver = createOptimizedTreeObserver(root, {\n      onMinorMutations: function onMinorMutations(_a) {\n        var additions = _a.additions;\n        additions.forEach(function (added) {\n          return discoverNodes(added);\n        });\n      },\n      onHugeMutations: function onHugeMutations() {\n        discoverNodes(root);\n      }\n    });\n    treeObservers.set(root, treeObserver);\n    var attemptCount = 0;\n    var start = null;\n    var ATTEMPTS_INTERVAL = getDuration({\n      seconds: 10\n    });\n    var RETRY_TIMEOUT = getDuration({\n      seconds: 2\n    });\n    var MAX_ATTEMPTS_COUNT = 50;\n    var cache = [];\n    var timeoutId = null;\n    var handleAttributeMutations = throttle(function (mutations) {\n      mutations.forEach(function (m) {\n        if (INLINE_STYLE_ATTRS.includes(m.attributeName)) {\n          elementStyleDidChange(m.target);\n        }\n      });\n    });\n    var attrObserver = new MutationObserver(function (mutations) {\n      if (timeoutId) {\n        cache.push.apply(cache, __spreadArray([], __read(mutations), false));\n        return;\n      }\n\n      attemptCount++;\n      var now = Date.now();\n\n      if (start == null) {\n        start = now;\n      } else if (attemptCount >= MAX_ATTEMPTS_COUNT) {\n        if (now - start < ATTEMPTS_INTERVAL) {\n          timeoutId = setTimeout(function () {\n            start = null;\n            attemptCount = 0;\n            timeoutId = null;\n            var attributeCache = cache;\n            cache = [];\n            handleAttributeMutations(attributeCache);\n          }, RETRY_TIMEOUT);\n          cache.push.apply(cache, __spreadArray([], __read(mutations), false));\n          return;\n        }\n\n        start = now;\n        attemptCount = 1;\n      }\n\n      handleAttributeMutations(mutations);\n    });\n    attrObserver.observe(root, {\n      attributes: true,\n      attributeFilter: INLINE_STYLE_ATTRS.concat(overridesList.map(function (_a) {\n        var dataAttr = _a.dataAttr;\n        return dataAttr;\n      })),\n      subtree: true\n    });\n    attrObservers.set(root, attrObserver);\n  }\n\n  function stopWatchingForInlineStyles() {\n    treeObservers.forEach(function (o) {\n      return o.disconnect();\n    });\n    attrObservers.forEach(function (o) {\n      return o.disconnect();\n    });\n    treeObservers.clear();\n    attrObservers.clear();\n  }\n\n  var inlineStyleCache = new WeakMap();\n  var filterProps = ['brightness', 'contrast', 'grayscale', 'sepia', 'mode'];\n\n  function getInlineStyleCacheKey(el, theme) {\n    return INLINE_STYLE_ATTRS.map(function (attr) {\n      return attr + \"=\\\"\" + el.getAttribute(attr) + \"\\\"\";\n    }).concat(filterProps.map(function (prop) {\n      return prop + \"=\\\"\" + theme[prop] + \"\\\"\";\n    })).join(' ');\n  }\n\n  function shouldIgnoreInlineStyle(element, selectors) {\n    for (var i = 0, len = selectors.length; i < len; i++) {\n      var ingnoredSelector = selectors[i];\n\n      if (element.matches(ingnoredSelector)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function overrideInlineStyle(element, theme, ignoreInlineSelectors, ignoreImageSelectors) {\n    var cacheKey = getInlineStyleCacheKey(element, theme);\n\n    if (cacheKey === inlineStyleCache.get(element)) {\n      return;\n    }\n\n    var unsetProps = new Set(Object.keys(overrides));\n\n    function setCustomProp(targetCSSProp, modifierCSSProp, cssVal) {\n      var _a = overrides[targetCSSProp],\n          customProp = _a.customProp,\n          dataAttr = _a.dataAttr;\n      var mod = getModifiableCSSDeclaration(modifierCSSProp, cssVal, {}, variablesStore, ignoreImageSelectors, null);\n\n      if (!mod) {\n        return;\n      }\n\n      var value = mod.value;\n\n      if (typeof value === 'function') {\n        value = value(theme);\n      }\n\n      element.style.setProperty(customProp, value);\n\n      if (!element.hasAttribute(dataAttr)) {\n        element.setAttribute(dataAttr, '');\n      }\n\n      unsetProps.delete(targetCSSProp);\n    }\n\n    if (ignoreInlineSelectors.length > 0) {\n      if (shouldIgnoreInlineStyle(element, ignoreInlineSelectors)) {\n        unsetProps.forEach(function (cssProp) {\n          element.removeAttribute(overrides[cssProp].dataAttr);\n        });\n        return;\n      }\n    }\n\n    if (element.hasAttribute('bgcolor')) {\n      var value = element.getAttribute('bgcolor');\n\n      if (value.match(/^[0-9a-f]{3}$/i) || value.match(/^[0-9a-f]{6}$/i)) {\n        value = \"#\" + value;\n      }\n\n      setCustomProp('background-color', 'background-color', value);\n    }\n\n    if (element.hasAttribute('color') && element.rel !== 'mask-icon') {\n      var value = element.getAttribute('color');\n\n      if (value.match(/^[0-9a-f]{3}$/i) || value.match(/^[0-9a-f]{6}$/i)) {\n        value = \"#\" + value;\n      }\n\n      setCustomProp('color', 'color', value);\n    }\n\n    if (element instanceof SVGElement) {\n      if (element.hasAttribute('fill')) {\n        var SMALL_SVG_LIMIT_1 = 32;\n        var value_1 = element.getAttribute('fill');\n\n        if (value_1 !== 'none') {\n          if (!(element instanceof SVGTextElement)) {\n            var handleSVGElement = function handleSVGElement() {\n              var _a = element.getBoundingClientRect(),\n                  width = _a.width,\n                  height = _a.height;\n\n              var isBg = width > SMALL_SVG_LIMIT_1 || height > SMALL_SVG_LIMIT_1;\n              setCustomProp('fill', isBg ? 'background-color' : 'color', value_1);\n            };\n\n            if (isReadyStateComplete()) {\n              handleSVGElement();\n            } else {\n              addReadyStateCompleteListener(handleSVGElement);\n            }\n          } else {\n            setCustomProp('fill', 'color', value_1);\n          }\n        }\n      }\n\n      if (element.hasAttribute('stop-color')) {\n        setCustomProp('stop-color', 'background-color', element.getAttribute('stop-color'));\n      }\n    }\n\n    if (element.hasAttribute('stroke')) {\n      var value = element.getAttribute('stroke');\n      setCustomProp('stroke', element instanceof SVGLineElement || element instanceof SVGTextElement ? 'border-color' : 'color', value);\n    }\n\n    element.style && iterateCSSDeclarations(element.style, function (property, value) {\n      if (property === 'background-image' && value.includes('url')) {\n        return;\n      }\n\n      if (overrides.hasOwnProperty(property)) {\n        setCustomProp(property, property, value);\n      } else {\n        var overridenProp = normalizedPropList[property];\n\n        if (overridenProp && !element.style.getPropertyValue(overridenProp) && !element.hasAttribute(overridenProp)) {\n          if (overridenProp === 'background-color' && element.hasAttribute('bgcolor')) {\n            return;\n          }\n\n          element.style.setProperty(property, '');\n        }\n      }\n    });\n\n    if (element.style && element instanceof SVGTextElement && element.style.fill) {\n      setCustomProp('fill', 'color', element.style.getPropertyValue('fill'));\n    }\n\n    forEach(unsetProps, function (cssProp) {\n      element.removeAttribute(overrides[cssProp].dataAttr);\n    });\n    inlineStyleCache.set(element, getInlineStyleCacheKey(element, theme));\n  }\n\n  var metaThemeColorName = 'theme-color';\n  var metaThemeColorSelector = \"meta[name=\\\"\" + metaThemeColorName + \"\\\"]\";\n  var srcMetaThemeColor = null;\n  var observer = null;\n\n  function changeMetaThemeColor(meta, theme) {\n    srcMetaThemeColor = srcMetaThemeColor || meta.content;\n\n    try {\n      var color = parse(srcMetaThemeColor);\n      meta.content = modifyBackgroundColor(color, theme);\n    } catch (err) {\n      logWarn(err);\n    }\n  }\n\n  function changeMetaThemeColorWhenAvailable(theme) {\n    var meta = document.querySelector(metaThemeColorSelector);\n\n    if (meta) {\n      changeMetaThemeColor(meta, theme);\n    } else {\n      if (observer) {\n        observer.disconnect();\n      }\n\n      observer = new MutationObserver(function (mutations) {\n        loop: for (var i = 0; i < mutations.length; i++) {\n          var addedNodes = mutations[i].addedNodes;\n\n          for (var j = 0; j < addedNodes.length; j++) {\n            var node = addedNodes[j];\n\n            if (node instanceof HTMLMetaElement && node.name === metaThemeColorName) {\n              observer.disconnect();\n              observer = null;\n              changeMetaThemeColor(node, theme);\n              break loop;\n            }\n          }\n        }\n      });\n      observer.observe(document.head, {\n        childList: true\n      });\n    }\n  }\n\n  function restoreMetaThemeColor() {\n    if (observer) {\n      observer.disconnect();\n      observer = null;\n    }\n\n    var meta = document.querySelector(metaThemeColorSelector);\n\n    if (meta && srcMetaThemeColor) {\n      meta.content = srcMetaThemeColor;\n    }\n  }\n\n  var themeCacheKeys = ['mode', 'brightness', 'contrast', 'grayscale', 'sepia', 'darkSchemeBackgroundColor', 'darkSchemeTextColor', 'lightSchemeBackgroundColor', 'lightSchemeTextColor'];\n\n  function getThemeKey(theme) {\n    return themeCacheKeys.map(function (p) {\n      return p + \":\" + theme[p];\n    }).join(';');\n  }\n\n  var asyncQueue = createAsyncTasksQueue();\n\n  function createStyleSheetModifier() {\n    var renderId = 0;\n    var rulesTextCache = new Set();\n    var rulesModCache = new Map();\n    var varTypeChangeCleaners = new Set();\n    var prevFilterKey = null;\n    var hasNonLoadedLink = false;\n    var wasRebuilt = false;\n\n    function shouldRebuildStyle() {\n      return hasNonLoadedLink && !wasRebuilt;\n    }\n\n    function modifySheet(options) {\n      var rules = options.sourceCSSRules;\n      var theme = options.theme,\n          ignoreImageAnalysis = options.ignoreImageAnalysis,\n          force = options.force,\n          prepareSheet = options.prepareSheet,\n          isAsyncCancelled = options.isAsyncCancelled;\n      var rulesChanged = rulesModCache.size === 0;\n      var notFoundCacheKeys = new Set(rulesModCache.keys());\n      var themeKey = getThemeKey(theme);\n      var themeChanged = themeKey !== prevFilterKey;\n\n      if (hasNonLoadedLink) {\n        wasRebuilt = true;\n      }\n\n      var modRules = [];\n      iterateCSSRules(rules, function (rule) {\n        var cssText = rule.cssText;\n        var textDiffersFromPrev = false;\n        notFoundCacheKeys.delete(cssText);\n\n        if (rule.parentRule instanceof CSSMediaRule) {\n          cssText += \";\" + rule.parentRule.media.mediaText;\n        }\n\n        if (!rulesTextCache.has(cssText)) {\n          rulesTextCache.add(cssText);\n          textDiffersFromPrev = true;\n        }\n\n        if (textDiffersFromPrev) {\n          rulesChanged = true;\n        } else {\n          modRules.push(rulesModCache.get(cssText));\n          return;\n        }\n\n        var modDecs = [];\n        rule.style && iterateCSSDeclarations(rule.style, function (property, value) {\n          var mod = getModifiableCSSDeclaration(property, value, rule, variablesStore, ignoreImageAnalysis, isAsyncCancelled);\n\n          if (mod) {\n            modDecs.push(mod);\n          }\n        });\n        var modRule = null;\n\n        if (modDecs.length > 0) {\n          var parentRule = rule.parentRule;\n          modRule = {\n            selector: rule.selectorText,\n            declarations: modDecs,\n            parentRule: parentRule\n          };\n          modRules.push(modRule);\n        }\n\n        rulesModCache.set(cssText, modRule);\n      }, function () {\n        hasNonLoadedLink = true;\n      });\n      notFoundCacheKeys.forEach(function (key) {\n        rulesTextCache.delete(key);\n        rulesModCache.delete(key);\n      });\n      prevFilterKey = themeKey;\n\n      if (!force && !rulesChanged && !themeChanged) {\n        return;\n      }\n\n      renderId++;\n\n      function setRule(target, index, rule) {\n        var selector = rule.selector,\n            declarations = rule.declarations;\n\n        var getDeclarationText = function getDeclarationText(dec) {\n          var property = dec.property,\n              value = dec.value,\n              important = dec.important,\n              sourceValue = dec.sourceValue;\n          return property + \": \" + (value == null ? sourceValue : value) + (important ? ' !important' : '') + \";\";\n        };\n\n        var ruleText = selector + \" { \" + declarations.map(getDeclarationText).join(' ') + \" }\";\n        target.insertRule(ruleText, index);\n      }\n\n      var asyncDeclarations = new Map();\n      var varDeclarations = new Map();\n      var asyncDeclarationCounter = 0;\n      var varDeclarationCounter = 0;\n      var rootReadyGroup = {\n        rule: null,\n        rules: [],\n        isGroup: true\n      };\n      var groupRefs = new WeakMap();\n\n      function getGroup(rule) {\n        if (rule == null) {\n          return rootReadyGroup;\n        }\n\n        if (groupRefs.has(rule)) {\n          return groupRefs.get(rule);\n        }\n\n        var group = {\n          rule: rule,\n          rules: [],\n          isGroup: true\n        };\n        groupRefs.set(rule, group);\n        var parentGroup = getGroup(rule.parentRule);\n        parentGroup.rules.push(group);\n        return group;\n      }\n\n      varTypeChangeCleaners.forEach(function (clear) {\n        return clear();\n      });\n      varTypeChangeCleaners.clear();\n      modRules.filter(function (r) {\n        return r;\n      }).forEach(function (_a) {\n        var selector = _a.selector,\n            declarations = _a.declarations,\n            parentRule = _a.parentRule;\n        var group = getGroup(parentRule);\n        var readyStyleRule = {\n          selector: selector,\n          declarations: [],\n          isGroup: false\n        };\n        var readyDeclarations = readyStyleRule.declarations;\n        group.rules.push(readyStyleRule);\n\n        function handleAsyncDeclaration(property, modified, important, sourceValue) {\n          var asyncKey = ++asyncDeclarationCounter;\n          var asyncDeclaration = {\n            property: property,\n            value: null,\n            important: important,\n            asyncKey: asyncKey,\n            sourceValue: sourceValue\n          };\n          readyDeclarations.push(asyncDeclaration);\n          var currentRenderId = renderId;\n          modified.then(function (asyncValue) {\n            if (!asyncValue || isAsyncCancelled() || currentRenderId !== renderId) {\n              return;\n            }\n\n            asyncDeclaration.value = asyncValue;\n            asyncQueue.add(function () {\n              if (isAsyncCancelled() || currentRenderId !== renderId) {\n                return;\n              }\n\n              rebuildAsyncRule(asyncKey);\n            });\n          });\n        }\n\n        function handleVarDeclarations(property, modified, important, sourceValue) {\n          var _a = modified,\n              varDecs = _a.declarations,\n              onTypeChange = _a.onTypeChange;\n          var varKey = ++varDeclarationCounter;\n          var currentRenderId = renderId;\n          var initialIndex = readyDeclarations.length;\n          var oldDecs = [];\n\n          if (varDecs.length === 0) {\n            var tempDec = {\n              property: property,\n              value: sourceValue,\n              important: important,\n              sourceValue: sourceValue,\n              varKey: varKey\n            };\n            readyDeclarations.push(tempDec);\n            oldDecs = [tempDec];\n          }\n\n          varDecs.forEach(function (mod) {\n            if (mod.value instanceof Promise) {\n              handleAsyncDeclaration(mod.property, mod.value, important, sourceValue);\n            } else {\n              var readyDec = {\n                property: mod.property,\n                value: mod.value,\n                important: important,\n                sourceValue: sourceValue,\n                varKey: varKey\n              };\n              readyDeclarations.push(readyDec);\n              oldDecs.push(readyDec);\n            }\n          });\n          onTypeChange.addListener(function (newDecs) {\n            if (isAsyncCancelled() || currentRenderId !== renderId) {\n              return;\n            }\n\n            var readyVarDecs = newDecs.map(function (mod) {\n              return {\n                property: mod.property,\n                value: mod.value,\n                important: important,\n                sourceValue: sourceValue,\n                varKey: varKey\n              };\n            });\n            var index = readyDeclarations.indexOf(oldDecs[0], initialIndex);\n            readyDeclarations.splice.apply(readyDeclarations, __spreadArray([index, oldDecs.length], __read(readyVarDecs), false));\n            oldDecs = readyVarDecs;\n            rebuildVarRule(varKey);\n          });\n          varTypeChangeCleaners.add(function () {\n            return onTypeChange.removeListeners();\n          });\n        }\n\n        declarations.forEach(function (_a) {\n          var property = _a.property,\n              value = _a.value,\n              important = _a.important,\n              sourceValue = _a.sourceValue;\n\n          if (typeof value === 'function') {\n            var modified = value(theme);\n\n            if (modified instanceof Promise) {\n              handleAsyncDeclaration(property, modified, important, sourceValue);\n            } else if (property.startsWith('--')) {\n              handleVarDeclarations(property, modified, important, sourceValue);\n            } else {\n              readyDeclarations.push({\n                property: property,\n                value: modified,\n                important: important,\n                sourceValue: sourceValue\n              });\n            }\n          } else {\n            readyDeclarations.push({\n              property: property,\n              value: value,\n              important: important,\n              sourceValue: sourceValue\n            });\n          }\n        });\n      });\n      var sheet = prepareSheet();\n\n      function buildStyleSheet() {\n        function createTarget(group, parent) {\n          var rule = group.rule;\n\n          if (rule instanceof CSSMediaRule) {\n            var media = rule.media;\n            var index = parent.cssRules.length;\n            parent.insertRule(\"@media \" + media.mediaText + \" {}\", index);\n            return parent.cssRules[index];\n          }\n\n          return parent;\n        }\n\n        function iterateReadyRules(group, target, styleIterator) {\n          group.rules.forEach(function (r) {\n            if (r.isGroup) {\n              var t = createTarget(r, target);\n              iterateReadyRules(r, t, styleIterator);\n            } else {\n              styleIterator(r, target);\n            }\n          });\n        }\n\n        iterateReadyRules(rootReadyGroup, sheet, function (rule, target) {\n          var index = target.cssRules.length;\n          rule.declarations.forEach(function (_a) {\n            var asyncKey = _a.asyncKey,\n                varKey = _a.varKey;\n\n            if (asyncKey != null) {\n              asyncDeclarations.set(asyncKey, {\n                rule: rule,\n                target: target,\n                index: index\n              });\n            }\n\n            if (varKey != null) {\n              varDeclarations.set(varKey, {\n                rule: rule,\n                target: target,\n                index: index\n              });\n            }\n          });\n          setRule(target, index, rule);\n        });\n      }\n\n      function rebuildAsyncRule(key) {\n        var _a = asyncDeclarations.get(key),\n            rule = _a.rule,\n            target = _a.target,\n            index = _a.index;\n\n        target.deleteRule(index);\n        setRule(target, index, rule);\n        asyncDeclarations.delete(key);\n      }\n\n      function rebuildVarRule(key) {\n        var _a = varDeclarations.get(key),\n            rule = _a.rule,\n            target = _a.target,\n            index = _a.index;\n\n        target.deleteRule(index);\n        setRule(target, index, rule);\n      }\n\n      buildStyleSheet();\n    }\n\n    return {\n      modifySheet: modifySheet,\n      shouldRebuildStyle: shouldRebuildStyle\n    };\n  }\n\n  var STYLE_SELECTOR = 'style, link[rel*=\"stylesheet\" i]:not([disabled])';\n\n  function shouldManageStyle(element) {\n    return (element instanceof HTMLStyleElement || element instanceof SVGStyleElement || element instanceof HTMLLinkElement && element.rel && element.rel.toLowerCase().includes('stylesheet') && !element.disabled) && !element.classList.contains('darkreader') && element.media.toLowerCase() !== 'print' && !element.classList.contains('stylus');\n  }\n\n  function getManageableStyles(node, results, deep) {\n    if (results === void 0) {\n      results = [];\n    }\n\n    if (deep === void 0) {\n      deep = true;\n    }\n\n    if (shouldManageStyle(node)) {\n      results.push(node);\n    } else if (node instanceof Element || isShadowDomSupported && node instanceof ShadowRoot || node === document) {\n      forEach(node.querySelectorAll(STYLE_SELECTOR), function (style) {\n        return getManageableStyles(style, results, false);\n      });\n\n      if (deep) {\n        iterateShadowHosts(node, function (host) {\n          return getManageableStyles(host.shadowRoot, results, false);\n        });\n      }\n    }\n\n    return results;\n  }\n\n  var syncStyleSet = new WeakSet();\n  var corsStyleSet = new WeakSet();\n  var canOptimizeUsingProxy$1 = false;\n  document.addEventListener('__darkreader__inlineScriptsAllowed', function () {\n    canOptimizeUsingProxy$1 = true;\n  });\n  var loadingLinkCounter = 0;\n  var rejectorsForLoadingLinks = new Map();\n\n  function cleanLoadingLinks() {\n    rejectorsForLoadingLinks.clear();\n  }\n\n  function manageStyle(element, _a) {\n    var update = _a.update,\n        loadingStart = _a.loadingStart,\n        loadingEnd = _a.loadingEnd;\n    var prevStyles = [];\n    var next = element;\n\n    while ((next = next.nextElementSibling) && next.matches('.darkreader')) {\n      prevStyles.push(next);\n    }\n\n    var corsCopy = prevStyles.find(function (el) {\n      return el.matches('.darkreader--cors') && !corsStyleSet.has(el);\n    }) || null;\n    var syncStyle = prevStyles.find(function (el) {\n      return el.matches('.darkreader--sync') && !syncStyleSet.has(el);\n    }) || null;\n    var corsCopyPositionWatcher = null;\n    var syncStylePositionWatcher = null;\n    var cancelAsyncOperations = false;\n    var isOverrideEmpty = true;\n    var sheetModifier = createStyleSheetModifier();\n    var observer = new MutationObserver(function () {\n      update();\n    });\n    var observerOptions = {\n      attributes: true,\n      childList: true,\n      subtree: true,\n      characterData: true\n    };\n\n    function containsCSSImport() {\n      return element instanceof HTMLStyleElement && element.textContent.trim().match(cssImportRegex);\n    }\n\n    function hasImports(cssRules, checkCrossOrigin) {\n      var result = false;\n\n      if (cssRules) {\n        var rule = void 0;\n\n        cssRulesLoop: for (var i = 0, len = cssRules.length; i < len; i++) {\n          rule = cssRules[i];\n\n          if (rule.href) {\n            if (checkCrossOrigin) {\n              if (rule.href.startsWith('http') && !rule.href.startsWith(location.origin)) {\n                result = true;\n                break cssRulesLoop;\n              }\n            } else {\n              result = true;\n              break cssRulesLoop;\n            }\n          }\n        }\n      }\n\n      return result;\n    }\n\n    function getRulesSync() {\n      if (corsCopy) {\n        logInfo('[getRulesSync] Using cors-copy.');\n        return corsCopy.sheet.cssRules;\n      }\n\n      if (containsCSSImport()) {\n        logInfo('[getRulesSync] CSSImport detected.');\n        return null;\n      }\n\n      var cssRules = safeGetSheetRules();\n\n      if (element instanceof HTMLLinkElement && !isRelativeHrefOnAbsolutePath(element.href) && hasImports(cssRules, false)) {\n        logInfo('[getRulesSync] CSSImportRule detected on non-local href.');\n        return null;\n      }\n\n      if (hasImports(cssRules, true)) {\n        logInfo('[getRulesSync] Cross-Origin CSSImportRule detected.');\n        return null;\n      }\n\n      logInfo('[getRulesSync] Using cssRules.');\n      !cssRules && logWarn('[getRulesSync] cssRules is null, trying again.');\n      return cssRules;\n    }\n\n    function insertStyle() {\n      if (corsCopy) {\n        if (element.nextSibling !== corsCopy) {\n          element.parentNode.insertBefore(corsCopy, element.nextSibling);\n        }\n\n        if (corsCopy.nextSibling !== syncStyle) {\n          element.parentNode.insertBefore(syncStyle, corsCopy.nextSibling);\n        }\n      } else if (element.nextSibling !== syncStyle) {\n        element.parentNode.insertBefore(syncStyle, element.nextSibling);\n      }\n    }\n\n    function createSyncStyle() {\n      syncStyle = element instanceof SVGStyleElement ? document.createElementNS('http://www.w3.org/2000/svg', 'style') : document.createElement('style');\n      syncStyle.classList.add('darkreader');\n      syncStyle.classList.add('darkreader--sync');\n      syncStyle.media = 'screen';\n\n      if (!isChromium && element.title) {\n        syncStyle.title = element.title;\n      }\n\n      syncStyleSet.add(syncStyle);\n    }\n\n    var isLoadingRules = false;\n    var wasLoadingError = false;\n    var loadingLinkId = ++loadingLinkCounter;\n\n    function getRulesAsync() {\n      return __awaiter(this, void 0, void 0, function () {\n        var cssText, cssBasePath, _a, cssRules, accessError, err_1, fullCSSText, err_2;\n\n        var _b;\n\n        return __generator(this, function (_c) {\n          switch (_c.label) {\n            case 0:\n              if (!(element instanceof HTMLLinkElement)) return [3, 7];\n              _a = __read(getRulesOrError(), 2), cssRules = _a[0], accessError = _a[1];\n\n              if (accessError) {\n                logWarn(accessError);\n              }\n\n              if (!(!cssRules && !accessError && !isSafari || isSafari && !element.sheet || isStillLoadingError(accessError))) return [3, 5];\n              _c.label = 1;\n\n            case 1:\n              _c.trys.push([1, 3,, 4]);\n\n              logInfo(\"Linkelement \" + loadingLinkId + \" is not loaded yet and thus will be await for\", element);\n              return [4, linkLoading(element, loadingLinkId)];\n\n            case 2:\n              _c.sent();\n\n              return [3, 4];\n\n            case 3:\n              err_1 = _c.sent();\n              logWarn(err_1);\n              wasLoadingError = true;\n              return [3, 4];\n\n            case 4:\n              if (cancelAsyncOperations) {\n                return [2, null];\n              }\n\n              _b = __read(getRulesOrError(), 2), cssRules = _b[0], accessError = _b[1];\n\n              if (accessError) {\n                logWarn(accessError);\n              }\n\n              _c.label = 5;\n\n            case 5:\n              if (cssRules) {\n                if (isRelativeHrefOnAbsolutePath(element.href)) {\n                  return [2, cssRules];\n                } else if (!hasImports(cssRules, false)) {\n                  return [2, cssRules];\n                }\n              }\n\n              return [4, loadText(element.href)];\n\n            case 6:\n              cssText = _c.sent();\n              cssBasePath = getCSSBaseBath(element.href);\n\n              if (cancelAsyncOperations) {\n                return [2, null];\n              }\n\n              return [3, 8];\n\n            case 7:\n              if (containsCSSImport()) {\n                cssText = element.textContent.trim();\n                cssBasePath = getCSSBaseBath(location.href);\n              } else {\n                return [2, null];\n              }\n\n              _c.label = 8;\n\n            case 8:\n              if (!cssText) return [3, 13];\n              _c.label = 9;\n\n            case 9:\n              _c.trys.push([9, 11,, 12]);\n\n              return [4, replaceCSSImports(cssText, cssBasePath)];\n\n            case 10:\n              fullCSSText = _c.sent();\n              corsCopy = createCORSCopy(element, fullCSSText);\n              return [3, 12];\n\n            case 11:\n              err_2 = _c.sent();\n              logWarn(err_2);\n              return [3, 12];\n\n            case 12:\n              if (corsCopy) {\n                corsCopyPositionWatcher = watchForNodePosition(corsCopy, 'prev-sibling');\n                return [2, corsCopy.sheet.cssRules];\n              }\n\n              _c.label = 13;\n\n            case 13:\n              return [2, null];\n          }\n        });\n      });\n    }\n\n    function details() {\n      var rules = getRulesSync();\n\n      if (!rules) {\n        if (isLoadingRules || wasLoadingError) {\n          return null;\n        }\n\n        isLoadingRules = true;\n        loadingStart();\n        getRulesAsync().then(function (results) {\n          isLoadingRules = false;\n          loadingEnd();\n\n          if (results) {\n            update();\n          }\n        }).catch(function (err) {\n          logWarn(err);\n          isLoadingRules = false;\n          loadingEnd();\n        });\n        return null;\n      }\n\n      return {\n        rules: rules\n      };\n    }\n\n    var forceRenderStyle = false;\n\n    function render(theme, ignoreImageAnalysis) {\n      var rules = getRulesSync();\n\n      if (!rules) {\n        return;\n      }\n\n      cancelAsyncOperations = false;\n\n      function removeCSSRulesFromSheet(sheet) {\n        try {\n          if (sheet.replaceSync) {\n            sheet.replaceSync('');\n            return;\n          }\n        } catch (err) {\n          logWarn('Could not use fastpath for removing rules from stylesheet', err);\n        }\n\n        for (var i = sheet.cssRules.length - 1; i >= 0; i--) {\n          sheet.deleteRule(i);\n        }\n      }\n\n      function prepareOverridesSheet() {\n        if (!syncStyle) {\n          createSyncStyle();\n        }\n\n        syncStylePositionWatcher && syncStylePositionWatcher.stop();\n        insertStyle();\n\n        if (syncStyle.sheet == null) {\n          syncStyle.textContent = '';\n        }\n\n        var sheet = syncStyle.sheet;\n        removeCSSRulesFromSheet(sheet);\n\n        if (syncStylePositionWatcher) {\n          syncStylePositionWatcher.run();\n        } else {\n          syncStylePositionWatcher = watchForNodePosition(syncStyle, 'prev-sibling', function () {\n            forceRenderStyle = true;\n            buildOverrides();\n          });\n        }\n\n        return syncStyle.sheet;\n      }\n\n      function buildOverrides() {\n        var force = forceRenderStyle;\n        forceRenderStyle = false;\n        sheetModifier.modifySheet({\n          prepareSheet: prepareOverridesSheet,\n          sourceCSSRules: rules,\n          theme: theme,\n          ignoreImageAnalysis: ignoreImageAnalysis,\n          force: force,\n          isAsyncCancelled: function isAsyncCancelled() {\n            return cancelAsyncOperations;\n          }\n        });\n        isOverrideEmpty = syncStyle.sheet.cssRules.length === 0;\n\n        if (sheetModifier.shouldRebuildStyle()) {\n          addReadyStateCompleteListener(function () {\n            return update();\n          });\n        }\n      }\n\n      buildOverrides();\n    }\n\n    function getRulesOrError() {\n      try {\n        if (element.sheet == null) {\n          return [null, null];\n        }\n\n        return [element.sheet.cssRules, null];\n      } catch (err) {\n        return [null, err];\n      }\n    }\n\n    function isStillLoadingError(error) {\n      return error && error.message && error.message.includes('loading');\n    }\n\n    function safeGetSheetRules() {\n      var _a = __read(getRulesOrError(), 2),\n          cssRules = _a[0],\n          err = _a[1];\n\n      if (err) {\n        logWarn(err);\n        return null;\n      }\n\n      return cssRules;\n    }\n\n    function watchForSheetChanges() {\n      watchForSheetChangesUsingProxy();\n\n      if (!isThunderbird && !(canOptimizeUsingProxy$1 && element.sheet)) {\n        watchForSheetChangesUsingRAF();\n      }\n    }\n\n    var rulesChangeKey = null;\n    var rulesCheckFrameId = null;\n\n    function getRulesChangeKey() {\n      var rules = safeGetSheetRules();\n      return rules ? rules.length : null;\n    }\n\n    function didRulesKeyChange() {\n      return getRulesChangeKey() !== rulesChangeKey;\n    }\n\n    function watchForSheetChangesUsingRAF() {\n      rulesChangeKey = getRulesChangeKey();\n      stopWatchingForSheetChangesUsingRAF();\n\n      var checkForUpdate = function checkForUpdate() {\n        if (didRulesKeyChange()) {\n          rulesChangeKey = getRulesChangeKey();\n          update();\n        }\n\n        if (canOptimizeUsingProxy$1 && element.sheet) {\n          stopWatchingForSheetChangesUsingRAF();\n          return;\n        }\n\n        rulesCheckFrameId = requestAnimationFrame(checkForUpdate);\n      };\n\n      checkForUpdate();\n    }\n\n    function stopWatchingForSheetChangesUsingRAF() {\n      cancelAnimationFrame(rulesCheckFrameId);\n    }\n\n    var areSheetChangesPending = false;\n\n    function onSheetChange() {\n      canOptimizeUsingProxy$1 = true;\n      stopWatchingForSheetChangesUsingRAF();\n\n      if (areSheetChangesPending) {\n        return;\n      }\n\n      function handleSheetChanges() {\n        areSheetChangesPending = false;\n\n        if (cancelAsyncOperations) {\n          return;\n        }\n\n        update();\n      }\n\n      areSheetChangesPending = true;\n\n      if (typeof queueMicrotask === 'function') {\n        queueMicrotask(handleSheetChanges);\n      } else {\n        requestAnimationFrame(handleSheetChanges);\n      }\n    }\n\n    function watchForSheetChangesUsingProxy() {\n      element.addEventListener('__darkreader__updateSheet', onSheetChange);\n    }\n\n    function stopWatchingForSheetChangesUsingProxy() {\n      element.removeEventListener('__darkreader__updateSheet', onSheetChange);\n    }\n\n    function stopWatchingForSheetChanges() {\n      stopWatchingForSheetChangesUsingProxy();\n      stopWatchingForSheetChangesUsingRAF();\n    }\n\n    function pause() {\n      observer.disconnect();\n      cancelAsyncOperations = true;\n      corsCopyPositionWatcher && corsCopyPositionWatcher.stop();\n      syncStylePositionWatcher && syncStylePositionWatcher.stop();\n      stopWatchingForSheetChanges();\n    }\n\n    function destroy() {\n      pause();\n      removeNode(corsCopy);\n      removeNode(syncStyle);\n      loadingEnd();\n\n      if (rejectorsForLoadingLinks.has(loadingLinkId)) {\n        var reject = rejectorsForLoadingLinks.get(loadingLinkId);\n        rejectorsForLoadingLinks.delete(loadingLinkId);\n        reject && reject();\n      }\n    }\n\n    function watch() {\n      observer.observe(element, observerOptions);\n\n      if (element instanceof HTMLStyleElement) {\n        watchForSheetChanges();\n      }\n    }\n\n    var maxMoveCount = 10;\n    var moveCount = 0;\n\n    function restore() {\n      if (!syncStyle) {\n        return;\n      }\n\n      moveCount++;\n\n      if (moveCount > maxMoveCount) {\n        logWarn('Style sheet was moved multiple times', element);\n        return;\n      }\n\n      logWarn('Restore style', syncStyle, element);\n      insertStyle();\n      corsCopyPositionWatcher && corsCopyPositionWatcher.skip();\n      syncStylePositionWatcher && syncStylePositionWatcher.skip();\n\n      if (!isOverrideEmpty) {\n        forceRenderStyle = true;\n        update();\n      }\n    }\n\n    return {\n      details: details,\n      render: render,\n      pause: pause,\n      destroy: destroy,\n      watch: watch,\n      restore: restore\n    };\n  }\n\n  function linkLoading(link, loadingId) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve, reject) {\n          var cleanUp = function cleanUp() {\n            link.removeEventListener('load', onLoad);\n            link.removeEventListener('error', onError);\n            rejectorsForLoadingLinks.delete(loadingId);\n          };\n\n          var onLoad = function onLoad() {\n            cleanUp();\n            logInfo(\"Linkelement \" + loadingId + \" has been loaded\");\n            resolve();\n          };\n\n          var onError = function onError() {\n            cleanUp();\n            reject(\"Linkelement \" + loadingId + \" couldn't be loaded. \" + link.href);\n          };\n\n          rejectorsForLoadingLinks.set(loadingId, function () {\n            cleanUp();\n            reject();\n          });\n          link.addEventListener('load', onLoad);\n          link.addEventListener('error', onError);\n\n          if (!link.href) {\n            onError();\n          }\n        })];\n      });\n    });\n  }\n\n  function getCSSImportURL(importDeclaration) {\n    return getCSSURLValue(importDeclaration.substring(7).trim().replace(/;$/, ''));\n  }\n\n  function loadText(url) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!url.startsWith('data:')) return [3, 3];\n            return [4, fetch(url)];\n\n          case 1:\n            return [4, _a.sent().text()];\n\n          case 2:\n            return [2, _a.sent()];\n\n          case 3:\n            return [4, bgFetch({\n              url: url,\n              responseType: 'text',\n              mimeType: 'text/css',\n              origin: window.location.origin\n            })];\n\n          case 4:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  function replaceCSSImports(cssText, basePath, cache) {\n    if (cache === void 0) {\n      cache = new Map();\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var importMatches, importMatches_1, importMatches_1_1, match, importURL, absoluteURL, importedCSS, err_3, e_1_1;\n\n      var e_1, _a;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            cssText = removeCSSComments(cssText);\n            cssText = replaceCSSFontFace(cssText);\n            cssText = replaceCSSRelativeURLsWithAbsolute(cssText, basePath);\n            importMatches = getMatches(cssImportRegex, cssText);\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 10, 11, 12]);\n\n            importMatches_1 = __values(importMatches), importMatches_1_1 = importMatches_1.next();\n            _b.label = 2;\n\n          case 2:\n            if (!!importMatches_1_1.done) return [3, 9];\n            match = importMatches_1_1.value;\n            importURL = getCSSImportURL(match);\n            absoluteURL = getAbsoluteURL(basePath, importURL);\n            importedCSS = void 0;\n            if (!cache.has(absoluteURL)) return [3, 3];\n            importedCSS = cache.get(absoluteURL);\n            return [3, 7];\n\n          case 3:\n            _b.trys.push([3, 6,, 7]);\n\n            return [4, loadText(absoluteURL)];\n\n          case 4:\n            importedCSS = _b.sent();\n            cache.set(absoluteURL, importedCSS);\n            return [4, replaceCSSImports(importedCSS, getCSSBaseBath(absoluteURL), cache)];\n\n          case 5:\n            importedCSS = _b.sent();\n            return [3, 7];\n\n          case 6:\n            err_3 = _b.sent();\n            logWarn(err_3);\n            importedCSS = '';\n            return [3, 7];\n\n          case 7:\n            cssText = cssText.split(match).join(importedCSS);\n            _b.label = 8;\n\n          case 8:\n            importMatches_1_1 = importMatches_1.next();\n            return [3, 2];\n\n          case 9:\n            return [3, 12];\n\n          case 10:\n            e_1_1 = _b.sent();\n            e_1 = {\n              error: e_1_1\n            };\n            return [3, 12];\n\n          case 11:\n            try {\n              if (importMatches_1_1 && !importMatches_1_1.done && (_a = importMatches_1.return)) _a.call(importMatches_1);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n\n            return [7];\n\n          case 12:\n            cssText = cssText.trim();\n            return [2, cssText];\n        }\n      });\n    });\n  }\n\n  function createCORSCopy(srcElement, cssText) {\n    if (!cssText) {\n      return null;\n    }\n\n    var cors = document.createElement('style');\n    cors.classList.add('darkreader');\n    cors.classList.add('darkreader--cors');\n    cors.media = 'screen';\n    cors.textContent = cssText;\n    srcElement.parentNode.insertBefore(cors, srcElement.nextSibling);\n    cors.sheet.disabled = true;\n    corsStyleSet.add(cors);\n    return cors;\n  }\n\n  var observers = [];\n  var observedRoots;\n  var undefinedGroups = new Map();\n  var elementsDefinitionCallback;\n\n  function collectUndefinedElements(root) {\n    if (!isDefinedSelectorSupported) {\n      return;\n    }\n\n    forEach(root.querySelectorAll(':not(:defined)'), function (el) {\n      var tag = el.tagName.toLowerCase();\n\n      if (!tag.includes('-')) {\n        var extendedTag = el.getAttribute('is');\n\n        if (extendedTag) {\n          tag = extendedTag;\n        } else {\n          return;\n        }\n      }\n\n      if (!undefinedGroups.has(tag)) {\n        undefinedGroups.set(tag, new Set());\n        customElementsWhenDefined(tag).then(function () {\n          if (elementsDefinitionCallback) {\n            var elements = undefinedGroups.get(tag);\n            undefinedGroups.delete(tag);\n            elementsDefinitionCallback(Array.from(elements));\n          }\n        });\n      }\n\n      undefinedGroups.get(tag).add(el);\n    });\n  }\n\n  var canOptimizeUsingProxy = false;\n  document.addEventListener('__darkreader__inlineScriptsAllowed', function () {\n    canOptimizeUsingProxy = true;\n  });\n  var resolvers = new Map();\n\n  function handleIsDefined(e) {\n    canOptimizeUsingProxy = true;\n\n    if (resolvers.has(e.detail.tag)) {\n      var resolve = resolvers.get(e.detail.tag);\n      resolve();\n    }\n  }\n\n  function customElementsWhenDefined(tag) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve) {\n          if (window.customElements && typeof customElements.whenDefined === 'function') {\n            customElements.whenDefined(tag).then(function () {\n              return resolve();\n            });\n          } else if (canOptimizeUsingProxy) {\n            resolvers.set(tag, resolve);\n            document.dispatchEvent(new CustomEvent('__darkreader__addUndefinedResolver', {\n              detail: {\n                tag: tag\n              }\n            }));\n          } else {\n            var checkIfDefined_1 = function checkIfDefined_1() {\n              var elements = undefinedGroups.get(tag);\n\n              if (elements && elements.size > 0) {\n                if (elements.values().next().value.matches(':defined')) {\n                  resolve();\n                } else {\n                  requestAnimationFrame(checkIfDefined_1);\n                }\n              }\n            };\n\n            requestAnimationFrame(checkIfDefined_1);\n          }\n        })];\n      });\n    });\n  }\n\n  function watchWhenCustomElementsDefined(callback) {\n    elementsDefinitionCallback = callback;\n  }\n\n  function unsubscribeFromDefineCustomElements() {\n    elementsDefinitionCallback = null;\n    undefinedGroups.clear();\n    document.removeEventListener('__darkreader__isDefined', handleIsDefined);\n  }\n\n  function watchForStyleChanges(currentStyles, update, shadowRootDiscovered) {\n    stopWatchingForStyleChanges();\n    var prevStyles = new Set(currentStyles);\n    var prevStyleSiblings = new WeakMap();\n    var nextStyleSiblings = new WeakMap();\n\n    function saveStylePosition(style) {\n      prevStyleSiblings.set(style, style.previousElementSibling);\n      nextStyleSiblings.set(style, style.nextElementSibling);\n    }\n\n    function forgetStylePosition(style) {\n      prevStyleSiblings.delete(style);\n      nextStyleSiblings.delete(style);\n    }\n\n    function didStylePositionChange(style) {\n      return style.previousElementSibling !== prevStyleSiblings.get(style) || style.nextElementSibling !== nextStyleSiblings.get(style);\n    }\n\n    currentStyles.forEach(saveStylePosition);\n\n    function handleStyleOperations(operations) {\n      var createdStyles = operations.createdStyles,\n          removedStyles = operations.removedStyles,\n          movedStyles = operations.movedStyles;\n      createdStyles.forEach(function (s) {\n        return saveStylePosition(s);\n      });\n      movedStyles.forEach(function (s) {\n        return saveStylePosition(s);\n      });\n      removedStyles.forEach(function (s) {\n        return forgetStylePosition(s);\n      });\n      createdStyles.forEach(function (s) {\n        return prevStyles.add(s);\n      });\n      removedStyles.forEach(function (s) {\n        return prevStyles.delete(s);\n      });\n\n      if (createdStyles.size + removedStyles.size + movedStyles.size > 0) {\n        update({\n          created: Array.from(createdStyles),\n          removed: Array.from(removedStyles),\n          moved: Array.from(movedStyles),\n          updated: []\n        });\n      }\n    }\n\n    function handleMinorTreeMutations(_a) {\n      var additions = _a.additions,\n          moves = _a.moves,\n          deletions = _a.deletions;\n      var createdStyles = new Set();\n      var removedStyles = new Set();\n      var movedStyles = new Set();\n      additions.forEach(function (node) {\n        return getManageableStyles(node).forEach(function (style) {\n          return createdStyles.add(style);\n        });\n      });\n      deletions.forEach(function (node) {\n        return getManageableStyles(node).forEach(function (style) {\n          return removedStyles.add(style);\n        });\n      });\n      moves.forEach(function (node) {\n        return getManageableStyles(node).forEach(function (style) {\n          return movedStyles.add(style);\n        });\n      });\n      handleStyleOperations({\n        createdStyles: createdStyles,\n        removedStyles: removedStyles,\n        movedStyles: movedStyles\n      });\n      additions.forEach(function (n) {\n        iterateShadowHosts(n, subscribeForShadowRootChanges);\n        collectUndefinedElements(n);\n      });\n    }\n\n    function handleHugeTreeMutations(root) {\n      var styles = new Set(getManageableStyles(root));\n      var createdStyles = new Set();\n      var removedStyles = new Set();\n      var movedStyles = new Set();\n      styles.forEach(function (s) {\n        if (!prevStyles.has(s)) {\n          createdStyles.add(s);\n        }\n      });\n      prevStyles.forEach(function (s) {\n        if (!styles.has(s)) {\n          removedStyles.add(s);\n        }\n      });\n      styles.forEach(function (s) {\n        if (!createdStyles.has(s) && !removedStyles.has(s) && didStylePositionChange(s)) {\n          movedStyles.add(s);\n        }\n      });\n      handleStyleOperations({\n        createdStyles: createdStyles,\n        removedStyles: removedStyles,\n        movedStyles: movedStyles\n      });\n      iterateShadowHosts(root, subscribeForShadowRootChanges);\n      collectUndefinedElements(root);\n    }\n\n    function handleAttributeMutations(mutations) {\n      var updatedStyles = new Set();\n      var removedStyles = new Set();\n      mutations.forEach(function (m) {\n        var target = m.target;\n\n        if (target.isConnected) {\n          if (shouldManageStyle(target)) {\n            updatedStyles.add(target);\n          } else if (target instanceof HTMLLinkElement && target.disabled) {\n            removedStyles.add(target);\n          }\n        }\n      });\n\n      if (updatedStyles.size + removedStyles.size > 0) {\n        update({\n          updated: Array.from(updatedStyles),\n          created: [],\n          removed: Array.from(removedStyles),\n          moved: []\n        });\n      }\n    }\n\n    function observe(root) {\n      var treeObserver = createOptimizedTreeObserver(root, {\n        onMinorMutations: handleMinorTreeMutations,\n        onHugeMutations: handleHugeTreeMutations\n      });\n      var attrObserver = new MutationObserver(handleAttributeMutations);\n      attrObserver.observe(root, {\n        attributes: true,\n        attributeFilter: ['rel', 'disabled', 'media'],\n        subtree: true\n      });\n      observers.push(treeObserver, attrObserver);\n      observedRoots.add(root);\n    }\n\n    function subscribeForShadowRootChanges(node) {\n      var shadowRoot = node.shadowRoot;\n\n      if (shadowRoot == null || observedRoots.has(shadowRoot)) {\n        return;\n      }\n\n      observe(shadowRoot);\n      shadowRootDiscovered(shadowRoot);\n    }\n\n    observe(document);\n    iterateShadowHosts(document.documentElement, subscribeForShadowRootChanges);\n    watchWhenCustomElementsDefined(function (hosts) {\n      var newStyles = [];\n      hosts.forEach(function (host) {\n        return push(newStyles, getManageableStyles(host.shadowRoot));\n      });\n      update({\n        created: newStyles,\n        updated: [],\n        removed: [],\n        moved: []\n      });\n      hosts.forEach(function (host) {\n        var shadowRoot = host.shadowRoot;\n\n        if (shadowRoot == null) {\n          return;\n        }\n\n        subscribeForShadowRootChanges(host);\n        iterateShadowHosts(shadowRoot, subscribeForShadowRootChanges);\n        collectUndefinedElements(shadowRoot);\n      });\n    });\n    document.addEventListener('__darkreader__isDefined', handleIsDefined);\n    collectUndefinedElements(document);\n  }\n\n  function resetObservers() {\n    observers.forEach(function (o) {\n      return o.disconnect();\n    });\n    observers.splice(0, observers.length);\n    observedRoots = new WeakSet();\n  }\n\n  function stopWatchingForStyleChanges() {\n    resetObservers();\n    unsubscribeFromDefineCustomElements();\n  }\n\n  function hexify(number) {\n    return (number < 16 ? '0' : '') + number.toString(16);\n  }\n\n  function generateUID() {\n    if ('randomUUID' in crypto) {\n      var uuid = crypto.randomUUID();\n      return uuid.substring(0, 8) + uuid.substring(9, 13) + uuid.substring(14, 18) + uuid.substring(19, 23) + uuid.substring(24);\n    }\n\n    return Array.from(crypto.getRandomValues(new Uint8Array(16))).map(function (x) {\n      return hexify(x);\n    }).join('');\n  }\n\n  var adoptedStyleOverrides = new WeakMap();\n  var overrideList = new WeakSet();\n\n  function createAdoptedStyleSheetOverride(node) {\n    var cancelAsyncOperations = false;\n\n    function injectSheet(sheet, override) {\n      var newSheets = __spreadArray([], __read(node.adoptedStyleSheets), false);\n\n      var sheetIndex = newSheets.indexOf(sheet);\n      var existingIndex = newSheets.indexOf(override);\n\n      if (sheetIndex === existingIndex - 1) {\n        return;\n      }\n\n      if (existingIndex >= 0) {\n        newSheets.splice(existingIndex, 1);\n      }\n\n      newSheets.splice(sheetIndex + 1, 0, override);\n      node.adoptedStyleSheets = newSheets;\n    }\n\n    function destroy() {\n      cancelAsyncOperations = true;\n\n      var newSheets = __spreadArray([], __read(node.adoptedStyleSheets), false);\n\n      node.adoptedStyleSheets.forEach(function (adoptedStyleSheet) {\n        if (overrideList.has(adoptedStyleSheet)) {\n          var existingIndex = newSheets.indexOf(adoptedStyleSheet);\n\n          if (existingIndex >= 0) {\n            newSheets.splice(existingIndex, 1);\n          }\n\n          adoptedStyleOverrides.delete(adoptedStyleSheet);\n          overrideList.delete(adoptedStyleSheet);\n        }\n      });\n      node.adoptedStyleSheets = newSheets;\n    }\n\n    function render(theme, ignoreImageAnalysis) {\n      node.adoptedStyleSheets.forEach(function (sheet) {\n        if (overrideList.has(sheet)) {\n          return;\n        }\n\n        var rules = sheet.rules;\n        var override = new CSSStyleSheet();\n\n        function prepareOverridesSheet() {\n          for (var i = override.cssRules.length - 1; i >= 0; i--) {\n            override.deleteRule(i);\n          }\n\n          injectSheet(sheet, override);\n          adoptedStyleOverrides.set(sheet, override);\n          overrideList.add(override);\n          return override;\n        }\n\n        var sheetModifier = createStyleSheetModifier();\n        sheetModifier.modifySheet({\n          prepareSheet: prepareOverridesSheet,\n          sourceCSSRules: rules,\n          theme: theme,\n          ignoreImageAnalysis: ignoreImageAnalysis,\n          force: false,\n          isAsyncCancelled: function isAsyncCancelled() {\n            return cancelAsyncOperations;\n          }\n        });\n      });\n    }\n\n    return {\n      render: render,\n      destroy: destroy\n    };\n  }\n\n  function injectProxy() {\n    document.dispatchEvent(new CustomEvent('__darkreader__inlineScriptsAllowed'));\n    var addRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'addRule');\n    var insertRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'insertRule');\n    var deleteRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'deleteRule');\n    var removeRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'removeRule');\n    var documentStyleSheetsDescriptor = Object.getOwnPropertyDescriptor(Document.prototype, 'styleSheets');\n    var shouldWrapHTMLElement = location.hostname.endsWith('baidu.com');\n    var getElementsByTagNameDescriptor = shouldWrapHTMLElement ? Object.getOwnPropertyDescriptor(Element.prototype, 'getElementsByTagName') : null;\n\n    var cleanUp = function cleanUp() {\n      Object.defineProperty(CSSStyleSheet.prototype, 'addRule', addRuleDescriptor);\n      Object.defineProperty(CSSStyleSheet.prototype, 'insertRule', insertRuleDescriptor);\n      Object.defineProperty(CSSStyleSheet.prototype, 'deleteRule', deleteRuleDescriptor);\n      Object.defineProperty(CSSStyleSheet.prototype, 'removeRule', removeRuleDescriptor);\n      document.removeEventListener('__darkreader__cleanUp', cleanUp);\n      document.removeEventListener('__darkreader__addUndefinedResolver', addUndefinedResolver);\n      Object.defineProperty(Document.prototype, 'styleSheets', documentStyleSheetsDescriptor);\n\n      if (shouldWrapHTMLElement) {\n        Object.defineProperty(Element.prototype, 'getElementsByTagName', getElementsByTagNameDescriptor);\n      }\n    };\n\n    var addUndefinedResolver = function addUndefinedResolver(e) {\n      customElements.whenDefined(e.detail.tag).then(function () {\n        document.dispatchEvent(new CustomEvent('__darkreader__isDefined', {\n          detail: {\n            tag: e.detail.tag\n          }\n        }));\n      });\n    };\n\n    document.addEventListener('__darkreader__cleanUp', cleanUp);\n    document.addEventListener('__darkreader__addUndefinedResolver', addUndefinedResolver);\n    var updateSheetEvent = new Event('__darkreader__updateSheet');\n\n    function proxyAddRule(selector, style, index) {\n      addRuleDescriptor.value.call(this, selector, style, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n\n      return -1;\n    }\n\n    function proxyInsertRule(rule, index) {\n      var returnValue = insertRuleDescriptor.value.call(this, rule, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n\n      return returnValue;\n    }\n\n    function proxyDeleteRule(index) {\n      deleteRuleDescriptor.value.call(this, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n    }\n\n    function proxyRemoveRule(index) {\n      removeRuleDescriptor.value.call(this, index);\n\n      if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n        this.ownerNode.dispatchEvent(updateSheetEvent);\n      }\n    }\n\n    function proxyDocumentStyleSheets() {\n      var docSheets = documentStyleSheetsDescriptor.get.call(this);\n\n      var filtered = __spreadArray([], __read(docSheets), false).filter(function (styleSheet) {\n        return !styleSheet.ownerNode.classList.contains('darkreader');\n      });\n\n      return Object.setPrototypeOf(filtered, StyleSheetList.prototype);\n    }\n\n    function proxyGetElementsByTagName(tagName) {\n      var _this = this;\n\n      var getCurrentElementValue = function getCurrentElementValue() {\n        var elements = getElementsByTagNameDescriptor.value.call(_this, tagName);\n\n        if (tagName === 'style') {\n          elements = Object.setPrototypeOf(__spreadArray([], __read(elements), false).filter(function (element) {\n            return !element.classList.contains('darkreader');\n          }), NodeList.prototype);\n        }\n\n        return elements;\n      };\n\n      var elements = getCurrentElementValue();\n      var NodeListBehavior = {\n        get: function get(_, property) {\n          return getCurrentElementValue()[Number(property)];\n        }\n      };\n      elements = new Proxy(elements, NodeListBehavior);\n      return elements;\n    }\n\n    Object.defineProperty(CSSStyleSheet.prototype, 'addRule', Object.assign({}, addRuleDescriptor, {\n      value: proxyAddRule\n    }));\n    Object.defineProperty(CSSStyleSheet.prototype, 'insertRule', Object.assign({}, insertRuleDescriptor, {\n      value: proxyInsertRule\n    }));\n    Object.defineProperty(CSSStyleSheet.prototype, 'deleteRule', Object.assign({}, deleteRuleDescriptor, {\n      value: proxyDeleteRule\n    }));\n    Object.defineProperty(CSSStyleSheet.prototype, 'removeRule', Object.assign({}, removeRuleDescriptor, {\n      value: proxyRemoveRule\n    }));\n    Object.defineProperty(Document.prototype, 'styleSheets', Object.assign({}, documentStyleSheetsDescriptor, {\n      get: proxyDocumentStyleSheets\n    }));\n\n    if (shouldWrapHTMLElement) {\n      Object.defineProperty(Element.prototype, 'getElementsByTagName', Object.assign({}, getElementsByTagNameDescriptor, {\n        value: proxyGetElementsByTagName\n      }));\n    }\n  }\n\n  var INSTANCE_ID = generateUID();\n  var styleManagers = new Map();\n  var adoptedStyleManagers = [];\n  var filter = null;\n  var fixes = null;\n  var isIFrame$1 = null;\n  var ignoredImageAnalysisSelectors = null;\n  var ignoredInlineSelectors = null;\n\n  function createOrUpdateStyle(className, root) {\n    if (root === void 0) {\n      root = document.head || document;\n    }\n\n    var element = root.querySelector(\".\" + className);\n\n    if (!element) {\n      element = document.createElement('style');\n      element.classList.add('darkreader');\n      element.classList.add(className);\n      element.media = 'screen';\n      element.textContent = '';\n    }\n\n    return element;\n  }\n\n  function createOrUpdateScript(className, root) {\n    if (root === void 0) {\n      root = document.head || document;\n    }\n\n    var element = root.querySelector(\".\" + className);\n\n    if (!element) {\n      element = document.createElement('script');\n      element.classList.add('darkreader');\n      element.classList.add(className);\n    }\n\n    return element;\n  }\n\n  var nodePositionWatchers = new Map();\n\n  function setupNodePositionWatcher(node, alias) {\n    nodePositionWatchers.has(alias) && nodePositionWatchers.get(alias).stop();\n    nodePositionWatchers.set(alias, watchForNodePosition(node, 'parent'));\n  }\n\n  function stopStylePositionWatchers() {\n    forEach(nodePositionWatchers.values(), function (watcher) {\n      return watcher.stop();\n    });\n    nodePositionWatchers.clear();\n  }\n\n  function createStaticStyleOverrides() {\n    var fallbackStyle = createOrUpdateStyle('darkreader--fallback', document);\n    fallbackStyle.textContent = getModifiedFallbackStyle(filter, {\n      strict: true\n    });\n    document.head.insertBefore(fallbackStyle, document.head.firstChild);\n    setupNodePositionWatcher(fallbackStyle, 'fallback');\n    var userAgentStyle = createOrUpdateStyle('darkreader--user-agent');\n    userAgentStyle.textContent = getModifiedUserAgentStyle(filter, isIFrame$1, filter.styleSystemControls);\n    document.head.insertBefore(userAgentStyle, fallbackStyle.nextSibling);\n    setupNodePositionWatcher(userAgentStyle, 'user-agent');\n    var textStyle = createOrUpdateStyle('darkreader--text');\n\n    if (filter.useFont || filter.textStroke > 0) {\n      textStyle.textContent = createTextStyle(filter);\n    } else {\n      textStyle.textContent = '';\n    }\n\n    document.head.insertBefore(textStyle, fallbackStyle.nextSibling);\n    setupNodePositionWatcher(textStyle, 'text');\n    var invertStyle = createOrUpdateStyle('darkreader--invert');\n\n    if (fixes && Array.isArray(fixes.invert) && fixes.invert.length > 0) {\n      invertStyle.textContent = [fixes.invert.join(', ') + \" {\", \"    filter: \" + getCSSFilterValue(_assign(_assign({}, filter), {\n        contrast: filter.mode === 0 ? filter.contrast : clamp(filter.contrast - 10, 0, 100)\n      })) + \" !important;\", '}'].join('\\n');\n    } else {\n      invertStyle.textContent = '';\n    }\n\n    document.head.insertBefore(invertStyle, textStyle.nextSibling);\n    setupNodePositionWatcher(invertStyle, 'invert');\n    var inlineStyle = createOrUpdateStyle('darkreader--inline');\n    inlineStyle.textContent = getInlineOverrideStyle();\n    document.head.insertBefore(inlineStyle, invertStyle.nextSibling);\n    setupNodePositionWatcher(inlineStyle, 'inline');\n    var overrideStyle = createOrUpdateStyle('darkreader--override');\n    overrideStyle.textContent = fixes && fixes.css ? replaceCSSTemplates(fixes.css) : '';\n    document.head.appendChild(overrideStyle);\n    setupNodePositionWatcher(overrideStyle, 'override');\n    var variableStyle = createOrUpdateStyle('darkreader--variables');\n    var selectionColors = getSelectionColor(filter);\n    var darkSchemeBackgroundColor = filter.darkSchemeBackgroundColor,\n        darkSchemeTextColor = filter.darkSchemeTextColor,\n        lightSchemeBackgroundColor = filter.lightSchemeBackgroundColor,\n        lightSchemeTextColor = filter.lightSchemeTextColor,\n        mode = filter.mode;\n    var schemeBackgroundColor = mode === 0 ? lightSchemeBackgroundColor : darkSchemeBackgroundColor;\n    var schemeTextColor = mode === 0 ? lightSchemeTextColor : darkSchemeTextColor;\n    schemeBackgroundColor = modifyBackgroundColor(parse(schemeBackgroundColor), filter);\n    schemeTextColor = modifyForegroundColor(parse(schemeTextColor), filter);\n    variableStyle.textContent = [\":root {\", \"   --darkreader-neutral-background: \" + schemeBackgroundColor + \";\", \"   --darkreader-neutral-text: \" + schemeTextColor + \";\", \"   --darkreader-selection-background: \" + selectionColors.backgroundColorSelection + \";\", \"   --darkreader-selection-text: \" + selectionColors.foregroundColorSelection + \";\", \"}\"].join('\\n');\n    document.head.insertBefore(variableStyle, inlineStyle.nextSibling);\n    setupNodePositionWatcher(variableStyle, 'variables');\n    var rootVarsStyle = createOrUpdateStyle('darkreader--root-vars');\n    document.head.insertBefore(rootVarsStyle, variableStyle.nextSibling);\n    var proxyScript = createOrUpdateScript('darkreader--proxy');\n    proxyScript.append(\"(\" + injectProxy + \")()\");\n    document.head.insertBefore(proxyScript, rootVarsStyle.nextSibling);\n    proxyScript.remove();\n  }\n\n  var shadowRootsWithOverrides = new Set();\n\n  function createShadowStaticStyleOverrides(root) {\n    var inlineStyle = createOrUpdateStyle('darkreader--inline', root);\n    inlineStyle.textContent = getInlineOverrideStyle();\n    root.insertBefore(inlineStyle, root.firstChild);\n    var overrideStyle = createOrUpdateStyle('darkreader--override', root);\n    overrideStyle.textContent = fixes && fixes.css ? replaceCSSTemplates(fixes.css) : '';\n    root.insertBefore(overrideStyle, inlineStyle.nextSibling);\n    var invertStyle = createOrUpdateStyle('darkreader--invert', root);\n\n    if (fixes && Array.isArray(fixes.invert) && fixes.invert.length > 0) {\n      invertStyle.textContent = [fixes.invert.join(', ') + \" {\", \"    filter: \" + getCSSFilterValue(_assign(_assign({}, filter), {\n        contrast: filter.mode === 0 ? filter.contrast : clamp(filter.contrast - 10, 0, 100)\n      })) + \" !important;\", '}'].join('\\n');\n    } else {\n      invertStyle.textContent = '';\n    }\n\n    root.insertBefore(invertStyle, overrideStyle.nextSibling);\n    shadowRootsWithOverrides.add(root);\n  }\n\n  function replaceCSSTemplates($cssText) {\n    return $cssText.replace(/\\${(.+?)}/g, function (_, $color) {\n      var color = tryParseColor($color);\n\n      if (color) {\n        return modifyColor(color, filter);\n      }\n\n      logWarn(\"Couldn't parse CSSTemplate's color.\");\n      return $color;\n    });\n  }\n\n  function cleanFallbackStyle() {\n    var fallback = document.querySelector('.darkreader--fallback');\n\n    if (fallback) {\n      fallback.textContent = '';\n    }\n  }\n\n  function createDynamicStyleOverrides() {\n    cancelRendering();\n    var allStyles = getManageableStyles(document);\n    var newManagers = allStyles.filter(function (style) {\n      return !styleManagers.has(style);\n    }).map(function (style) {\n      return createManager(style);\n    });\n    newManagers.map(function (manager) {\n      return manager.details();\n    }).filter(function (detail) {\n      return detail && detail.rules.length > 0;\n    }).forEach(function (detail) {\n      variablesStore.addRulesForMatching(detail.rules);\n    });\n    variablesStore.matchVariablesAndDependants();\n    variablesStore.setOnRootVariableChange(function () {\n      variablesStore.putRootVars(document.head.querySelector('.darkreader--root-vars'), filter);\n    });\n    variablesStore.putRootVars(document.head.querySelector('.darkreader--root-vars'), filter);\n    styleManagers.forEach(function (manager) {\n      return manager.render(filter, ignoredImageAnalysisSelectors);\n    });\n\n    if (loadingStyles.size === 0) {\n      cleanFallbackStyle();\n    }\n\n    newManagers.forEach(function (manager) {\n      return manager.watch();\n    });\n    var inlineStyleElements = toArray(document.querySelectorAll(INLINE_STYLE_SELECTOR));\n    iterateShadowHosts(document.documentElement, function (host) {\n      createShadowStaticStyleOverrides(host.shadowRoot);\n      var elements = host.shadowRoot.querySelectorAll(INLINE_STYLE_SELECTOR);\n\n      if (elements.length > 0) {\n        push(inlineStyleElements, elements);\n      }\n    });\n    inlineStyleElements.forEach(function (el) {\n      return overrideInlineStyle(el, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors);\n    });\n    handleAdoptedStyleSheets(document);\n  }\n\n  var loadingStylesCounter = 0;\n  var loadingStyles = new Set();\n\n  function createManager(element) {\n    var loadingStyleId = ++loadingStylesCounter;\n    logInfo(\"New manager for element, with loadingStyleID \" + loadingStyleId, element);\n\n    function loadingStart() {\n      if (!isDOMReady() || !didDocumentShowUp) {\n        loadingStyles.add(loadingStyleId);\n        logInfo(\"Current amount of styles loading: \" + loadingStyles.size);\n        var fallbackStyle = document.querySelector('.darkreader--fallback');\n\n        if (!fallbackStyle.textContent) {\n          fallbackStyle.textContent = getModifiedFallbackStyle(filter, {\n            strict: false\n          });\n        }\n      }\n    }\n\n    function loadingEnd() {\n      loadingStyles.delete(loadingStyleId);\n      logInfo(\"Removed loadingStyle \" + loadingStyleId + \", now awaiting: \" + loadingStyles.size);\n      logInfo(\"To-do to be loaded\", loadingStyles);\n\n      if (loadingStyles.size === 0 && isDOMReady()) {\n        cleanFallbackStyle();\n      }\n    }\n\n    function update() {\n      var details = manager.details();\n\n      if (!details) {\n        return;\n      }\n\n      variablesStore.addRulesForMatching(details.rules);\n      variablesStore.matchVariablesAndDependants();\n      manager.render(filter, ignoredImageAnalysisSelectors);\n    }\n\n    var manager = manageStyle(element, {\n      update: update,\n      loadingStart: loadingStart,\n      loadingEnd: loadingEnd\n    });\n    styleManagers.set(element, manager);\n    return manager;\n  }\n\n  function removeManager(element) {\n    var manager = styleManagers.get(element);\n\n    if (manager) {\n      manager.destroy();\n      styleManagers.delete(element);\n    }\n  }\n\n  var throttledRenderAllStyles = throttle(function (callback) {\n    styleManagers.forEach(function (manager) {\n      return manager.render(filter, ignoredImageAnalysisSelectors);\n    });\n    adoptedStyleManagers.forEach(function (manager) {\n      return manager.render(filter, ignoredImageAnalysisSelectors);\n    });\n    callback && callback();\n  });\n\n  var cancelRendering = function cancelRendering() {\n    throttledRenderAllStyles.cancel();\n  };\n\n  function onDOMReady() {\n    if (loadingStyles.size === 0) {\n      cleanFallbackStyle();\n      return;\n    }\n\n    logWarn(\"DOM is ready, but still have styles being loaded.\", loadingStyles);\n  }\n\n  var documentVisibilityListener = null;\n  var didDocumentShowUp = !document.hidden;\n\n  function watchForDocumentVisibility(callback) {\n    var alreadyWatching = Boolean(documentVisibilityListener);\n\n    documentVisibilityListener = function documentVisibilityListener() {\n      if (!document.hidden) {\n        stopWatchingForDocumentVisibility();\n        callback();\n        didDocumentShowUp = true;\n      }\n    };\n\n    if (!alreadyWatching) {\n      document.addEventListener('visibilitychange', documentVisibilityListener);\n    }\n  }\n\n  function stopWatchingForDocumentVisibility() {\n    document.removeEventListener('visibilitychange', documentVisibilityListener);\n    documentVisibilityListener = null;\n  }\n\n  function createThemeAndWatchForUpdates() {\n    createStaticStyleOverrides();\n\n    function runDynamicStyle() {\n      createDynamicStyleOverrides();\n      watchForUpdates();\n    }\n\n    if (document.hidden) {\n      watchForDocumentVisibility(runDynamicStyle);\n    } else {\n      runDynamicStyle();\n    }\n\n    changeMetaThemeColorWhenAvailable(filter);\n  }\n\n  function handleAdoptedStyleSheets(node) {\n    if (Array.isArray(node.adoptedStyleSheets)) {\n      if (node.adoptedStyleSheets.length > 0) {\n        var newManger = createAdoptedStyleSheetOverride(node);\n        adoptedStyleManagers.push(newManger);\n        newManger.render(filter, ignoredImageAnalysisSelectors);\n      }\n    }\n  }\n\n  function watchForUpdates() {\n    var managedStyles = Array.from(styleManagers.keys());\n    watchForStyleChanges(managedStyles, function (_a) {\n      var created = _a.created,\n          updated = _a.updated,\n          removed = _a.removed,\n          moved = _a.moved;\n      var stylesToRemove = removed;\n      var stylesToManage = created.concat(updated).concat(moved).filter(function (style) {\n        return !styleManagers.has(style);\n      });\n      var stylesToRestore = moved.filter(function (style) {\n        return styleManagers.has(style);\n      });\n      logInfo(\"Styles to be removed:\", stylesToRemove);\n      stylesToRemove.forEach(function (style) {\n        return removeManager(style);\n      });\n      var newManagers = stylesToManage.map(function (style) {\n        return createManager(style);\n      });\n      newManagers.map(function (manager) {\n        return manager.details();\n      }).filter(function (detail) {\n        return detail && detail.rules.length > 0;\n      }).forEach(function (detail) {\n        variablesStore.addRulesForMatching(detail.rules);\n      });\n      variablesStore.matchVariablesAndDependants();\n      newManagers.forEach(function (manager) {\n        return manager.render(filter, ignoredImageAnalysisSelectors);\n      });\n      newManagers.forEach(function (manager) {\n        return manager.watch();\n      });\n      stylesToRestore.forEach(function (style) {\n        return styleManagers.get(style).restore();\n      });\n    }, function (shadowRoot) {\n      createShadowStaticStyleOverrides(shadowRoot);\n      handleAdoptedStyleSheets(shadowRoot);\n    });\n    watchForInlineStyles(function (element) {\n      overrideInlineStyle(element, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors);\n\n      if (element === document.documentElement) {\n        var styleAttr = element.getAttribute('style');\n\n        if (styleAttr.includes('--')) {\n          variablesStore.matchVariablesAndDependants();\n          variablesStore.putRootVars(document.head.querySelector('.darkreader--root-vars'), filter);\n        }\n      }\n    }, function (root) {\n      createShadowStaticStyleOverrides(root);\n      var inlineStyleElements = root.querySelectorAll(INLINE_STYLE_SELECTOR);\n\n      if (inlineStyleElements.length > 0) {\n        forEach(inlineStyleElements, function (el) {\n          return overrideInlineStyle(el, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors);\n        });\n      }\n    });\n    addDOMReadyListener(onDOMReady);\n  }\n\n  function stopWatchingForUpdates() {\n    styleManagers.forEach(function (manager) {\n      return manager.pause();\n    });\n    stopStylePositionWatchers();\n    stopWatchingForStyleChanges();\n    stopWatchingForInlineStyles();\n    removeDOMReadyListener(onDOMReady);\n    cleanReadyStateCompleteListeners();\n  }\n\n  function createDarkReaderInstanceMarker() {\n    var metaElement = document.createElement('meta');\n    metaElement.name = 'darkreader';\n    metaElement.content = INSTANCE_ID;\n    document.head.appendChild(metaElement);\n  }\n\n  function isAnotherDarkReaderInstanceActive() {\n    var meta = document.querySelector('meta[name=\"darkreader\"]');\n\n    if (meta) {\n      if (meta.content !== INSTANCE_ID) {\n        return true;\n      }\n\n      return false;\n    }\n\n    createDarkReaderInstanceMarker();\n    return false;\n  }\n\n  function createOrUpdateDynamicTheme(filterConfig, dynamicThemeFixes, iframe) {\n    filter = filterConfig;\n    fixes = dynamicThemeFixes;\n\n    if (fixes) {\n      ignoredImageAnalysisSelectors = Array.isArray(fixes.ignoreImageAnalysis) ? fixes.ignoreImageAnalysis : [];\n      ignoredInlineSelectors = Array.isArray(fixes.ignoreInlineStyle) ? fixes.ignoreInlineStyle : [];\n    } else {\n      ignoredImageAnalysisSelectors = [];\n      ignoredInlineSelectors = [];\n    }\n\n    isIFrame$1 = iframe;\n\n    if (document.head) {\n      if (isAnotherDarkReaderInstanceActive()) {\n        return;\n      }\n\n      document.documentElement.setAttribute('data-darkreader-mode', 'dynamic');\n      document.documentElement.setAttribute('data-darkreader-scheme', filter.mode ? 'dark' : 'dimmed');\n      createThemeAndWatchForUpdates();\n    } else {\n      if (!isFirefox) {\n        var fallbackStyle = createOrUpdateStyle('darkreader--fallback');\n        document.documentElement.appendChild(fallbackStyle);\n        fallbackStyle.textContent = getModifiedFallbackStyle(filter, {\n          strict: true\n        });\n      }\n\n      var headObserver_1 = new MutationObserver(function () {\n        if (document.head) {\n          headObserver_1.disconnect();\n\n          if (isAnotherDarkReaderInstanceActive()) {\n            removeDynamicTheme();\n            return;\n          }\n\n          createThemeAndWatchForUpdates();\n        }\n      });\n      headObserver_1.observe(document, {\n        childList: true,\n        subtree: true\n      });\n    }\n  }\n\n  function removeProxy() {\n    document.dispatchEvent(new CustomEvent('__darkreader__cleanUp'));\n    removeNode(document.head.querySelector('.darkreader--proxy'));\n  }\n\n  function removeDynamicTheme() {\n    document.documentElement.removeAttribute(\"data-darkreader-mode\");\n    document.documentElement.removeAttribute(\"data-darkreader-scheme\");\n    cleanDynamicThemeCache();\n    removeNode(document.querySelector('.darkreader--fallback'));\n\n    if (document.head) {\n      restoreMetaThemeColor();\n      removeNode(document.head.querySelector('.darkreader--user-agent'));\n      removeNode(document.head.querySelector('.darkreader--text'));\n      removeNode(document.head.querySelector('.darkreader--invert'));\n      removeNode(document.head.querySelector('.darkreader--inline'));\n      removeNode(document.head.querySelector('.darkreader--override'));\n      removeNode(document.head.querySelector('.darkreader--variables'));\n      removeNode(document.head.querySelector('.darkreader--root-vars'));\n      removeNode(document.head.querySelector('meta[name=\"darkreader\"]'));\n      removeProxy();\n    }\n\n    shadowRootsWithOverrides.forEach(function (root) {\n      removeNode(root.querySelector('.darkreader--inline'));\n      removeNode(root.querySelector('.darkreader--override'));\n    });\n    shadowRootsWithOverrides.clear();\n    forEach(styleManagers.keys(), function (el) {\n      return removeManager(el);\n    });\n    loadingStyles.clear();\n    cleanLoadingLinks();\n    forEach(document.querySelectorAll('.darkreader'), removeNode);\n    adoptedStyleManagers.forEach(function (manager) {\n      manager.destroy();\n    });\n    adoptedStyleManagers.splice(0);\n  }\n\n  function cleanDynamicThemeCache() {\n    variablesStore.clear();\n    parsedURLCache.clear();\n    stopWatchingForDocumentVisibility();\n    cancelRendering();\n    stopWatchingForUpdates();\n    cleanModificationCache();\n  }\n\n  var blobRegex = /url\\(\\\"(blob\\:.*?)\\\"\\)/g;\n\n  function replaceBlobs(text) {\n    return __awaiter(this, void 0, void 0, function () {\n      var promises, data;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            promises = [];\n            getMatches(blobRegex, text, 1).forEach(function (url) {\n              var promise = loadAsDataURL(url);\n              promises.push(promise);\n            });\n            return [4, Promise.all(promises)];\n\n          case 1:\n            data = _a.sent();\n            return [2, text.replace(blobRegex, function () {\n              return \"url(\\\"\" + data.shift() + \"\\\")\";\n            })];\n        }\n      });\n    });\n  }\n\n  var banner = \"/*\\n                        _______\\n                       /       \\\\\\n                      .==.    .==.\\n                     ((  ))==((  ))\\n                    / \\\"==\\\"    \\\"==\\\"\\\\\\n                   /____|| || ||___\\\\\\n       ________     ____    ________  ___    ___\\n       |  ___  \\\\   /    \\\\   |  ___  \\\\ |  |  /  /\\n       |  |  \\\\  \\\\ /  /\\\\  \\\\  |  |  \\\\  \\\\|  |_/  /\\n       |  |   )  /  /__\\\\  \\\\ |  |__/  /|  ___  \\\\\\n       |  |__/  /  ______  \\\\|  ____  \\\\|  |  \\\\  \\\\\\n_______|_______/__/ ____ \\\\__\\\\__|___\\\\__\\\\__|___\\\\__\\\\____\\n|  ___  \\\\ |  ____/ /    \\\\   |  ___  \\\\ |  ____|  ___  \\\\\\n|  |  \\\\  \\\\|  |___ /  /\\\\  \\\\  |  |  \\\\  \\\\|  |___|  |  \\\\  \\\\\\n|  |__/  /|  ____/  /__\\\\  \\\\ |  |   )  |  ____|  |__/  /\\n|  ____  \\\\|  |__/  ______  \\\\|  |__/  /|  |___|  ____  \\\\\\n|__|   \\\\__\\\\____/__/      \\\\__\\\\_______/ |______|__|   \\\\__\\\\\\n                https://darkreader.org\\n*/\\n\\n/*! Dark reader generated CSS | Licensed under MIT https://github.com/darkreader/darkreader/blob/master/LICENSE */\\n\";\n\n  function collectCSS() {\n    return __awaiter(this, void 0, void 0, function () {\n      function addStaticCSS(selector, comment) {\n        var staticStyle = document.querySelector(selector);\n\n        if (staticStyle && staticStyle.textContent) {\n          css.push(\"/* \" + comment + \" */\");\n          css.push(staticStyle.textContent);\n          css.push('');\n        }\n      }\n\n      var css, modifiedCSS, formattedCSS, _a, _b;\n\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            css = [banner];\n            addStaticCSS('.darkreader--fallback', 'Fallback Style');\n            addStaticCSS('.darkreader--user-agent', 'User-Agent Style');\n            addStaticCSS('.darkreader--text', 'Text Style');\n            addStaticCSS('.darkreader--invert', 'Invert Style');\n            addStaticCSS('.darkreader--variables', 'Variables Style');\n            modifiedCSS = [];\n            document.querySelectorAll('.darkreader--sync').forEach(function (element) {\n              forEach(element.sheet.cssRules, function (rule) {\n                rule && rule.cssText && modifiedCSS.push(rule.cssText);\n              });\n            });\n            if (!modifiedCSS.length) return [3, 2];\n            formattedCSS = formatCSS(modifiedCSS.join('\\n'));\n            css.push('/* Modified CSS */');\n            _b = (_a = css).push;\n            return [4, replaceBlobs(formattedCSS)];\n\n          case 1:\n            _b.apply(_a, [_c.sent()]);\n\n            css.push('');\n            _c.label = 2;\n\n          case 2:\n            addStaticCSS('.darkreader--override', 'Override Style');\n            return [2, css.join('\\n')];\n        }\n      });\n    });\n  }\n\n  var isDarkReaderEnabled = false;\n\n  var isIFrame = function () {\n    try {\n      return window.self !== window.top;\n    } catch (err) {\n      console.warn(err);\n      return true;\n    }\n  }();\n\n  function enable(themeOptions, fixes) {\n    if (themeOptions === void 0) {\n      themeOptions = {};\n    }\n\n    if (fixes === void 0) {\n      fixes = null;\n    }\n\n    var theme = _assign(_assign({}, DEFAULT_THEME), themeOptions);\n\n    if (theme.engine !== ThemeEngines.dynamicTheme) {\n      throw new Error('Theme engine is not supported.');\n    }\n\n    createOrUpdateDynamicTheme(theme, fixes, isIFrame);\n    isDarkReaderEnabled = true;\n  }\n\n  function isEnabled() {\n    return isDarkReaderEnabled;\n  }\n\n  function disable() {\n    removeDynamicTheme();\n    isDarkReaderEnabled = false;\n  }\n\n  var darkScheme = matchMedia('(prefers-color-scheme: dark)');\n  var store = {\n    themeOptions: null,\n    fixes: null\n  };\n\n  function handleColorScheme() {\n    if (darkScheme.matches) {\n      enable(store.themeOptions, store.fixes);\n    } else {\n      disable();\n    }\n  }\n\n  function auto(themeOptions, fixes) {\n    if (themeOptions === void 0) {\n      themeOptions = {};\n    }\n\n    if (fixes === void 0) {\n      fixes = null;\n    }\n\n    if (themeOptions) {\n      store = {\n        themeOptions: themeOptions,\n        fixes: fixes\n      };\n      handleColorScheme();\n\n      if (isMatchMediaChangeEventListenerSupported) {\n        darkScheme.addEventListener('change', handleColorScheme);\n      } else {\n        darkScheme.addListener(handleColorScheme);\n      }\n    } else {\n      if (isMatchMediaChangeEventListenerSupported) {\n        darkScheme.removeEventListener('change', handleColorScheme);\n      } else {\n        darkScheme.removeListener(handleColorScheme);\n      }\n\n      disable();\n    }\n  }\n\n  function exportGeneratedCSS() {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, collectCSS()];\n\n          case 1:\n            return [2, _a.sent()];\n        }\n      });\n    });\n  }\n\n  var setFetchMethod = setFetchMethod$1;\n  exports.auto = auto;\n  exports.disable = disable;\n  exports.enable = enable;\n  exports.exportGeneratedCSS = exportGeneratedCSS;\n  exports.isEnabled = isEnabled;\n  exports.setFetchMethod = setFetchMethod;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});"],"names":["exports","_assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__values","o","m","__read","r","ar","error","__spreadArray","to","from","pack","l","Array","slice","concat","MessageType","UI_GET_DATA","UI_GET_ACTIVE_TAB_INFO","UI_SUBSCRIBE_TO_CHANGES","UI_UNSUBSCRIBE_FROM_CHANGES","UI_CHANGE_SETTINGS","UI_SET_THEME","UI_SET_SHORTCUT","UI_TOGGLE_URL","UI_MARK_NEWS_AS_READ","UI_LOAD_CONFIG","UI_APPLY_DEV_DYNAMIC_THEME_FIXES","UI_RESET_DEV_DYNAMIC_THEME_FIXES","UI_APPLY_DEV_INVERSION_FIXES","UI_RESET_DEV_INVERSION_FIXES","UI_APPLY_DEV_STATIC_THEMES","UI_RESET_DEV_STATIC_THEMES","UI_SAVE_FILE","UI_REQUEST_EXPORT_CSS","BG_CHANGES","BG_ADD_CSS_FILTER","BG_ADD_STATIC_THEME","BG_ADD_SVG_FILTER","BG_ADD_DYNAMIC_THEME","BG_EXPORT_CSS","BG_UNSUPPORTED_SENDER","BG_CLEAN_UP","BG_RELOAD","BG_FETCH_RESPONSE","BG_UI_UPDATE","BG_CSS_UPDATE","CS_COLOR_SCHEME_CHANGE","CS_FRAME_CONNECT","CS_FRAME_FORGET","CS_FRAME_FREEZE","CS_FRAME_RESUME","CS_EXPORT_CSS_RESPONSE","CS_FETCH","userAgent","navigator","toLowerCase","platform","isChromium","includes","isThunderbird","isFirefox","isSafari","isWindows","startsWith","isMacOS","isShadowDomSupported","ShadowRoot","isMatchMediaChangeEventListenerSupported","MediaQueryList","addEventListener","match","isDefinedSelectorSupported","document","querySelector","err","getOKResponse","url","mimeType","origin","response","_a","fetch","cache","credentials","referrer","endsWith","headers","get","Error","ok","status","statusText","loadAsDataURL","readResponseAsDataURL","blob","reader","FileReader","onloadend","readAsDataURL","globalThis","chrome","runtime","getManifest","manifest_version","throwCORSError","join","fetcher","setFetchMethod$1","callFetchMethod","window","messageListeners","Set","sendMessage","args","_i","id_1","responseType","text_1","error_1","_b","type","id","data","text","forEach","cb","console","addMessageListener","callback","add","nativeSendMessage_1","onMessage","addListener","nativeAddListener_1","ThemeEngines","cssFilter","svgFilter","staticTheme","dynamicTheme","DEFAULT_COLORS","darkScheme","background","lightScheme","DEFAULT_THEME","mode","brightness","contrast","grayscale","sepia","useFont","fontFamily","textStroke","engine","stylesheet","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor","scrollbarColor","selectionColor","styleSystemControls","lightColorScheme","darkColorScheme","isArrayLike","items","e_1","len","items_1","items_1_1","e_1_1","return","array","addition","a","toArray","results","logInfo","logWarn","throttle","lastArgs","pending","frameId","throttled","requestAnimationFrame","cancel","cancelAnimationFrame","createAsyncTasksQueue","tasks","runTasks","task","shift","splice","getDuration","time","duration","seconds","minutes","hours","days","removeNode","node","parentNode","removeChild","watchForNodePosition","onRestore","Function","MAX_ATTEMPTS_COUNT","RETRY_TIMEOUT","ATTEMPTS_INTERVAL","prevSibling","previousSibling","parent","attempts","start","timeoutId","restore","now","Date","setTimeout","stop","updateParent","insertBefore","nextSibling","firstChild","observer","takeRecords","MutationObserver","run","observe","childList","clearTimeout","disconnect","skip","iterateShadowHosts","root","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","shadowRoot","FILTER_SKIP","FILTER_ACCEPT","currentNode","nextNode","isDOMReady","readyState","readyStateListeners","addDOMReadyListener","listener","removeDOMReadyListener","delete","isReadyStateComplete","readyStateCompleteListeners","addReadyStateCompleteListener","cleanReadyStateCompleteListeners","clear","onReadyStateChange_1","removeEventListener","HUGE_MUTATIONS_COUNT","isHugeMutation","mutations","addedNodesCount","addedNodes","getElementsTreeOperations","additions","deletions","moves","Element","isConnected","removedNodes","duplicateAdditions","duplicateDeletions","has","parentElement","anchor","optimizedTreeObservers","Map","optimizedTreeCallbacks","WeakMap","createOptimizedTreeObserver","callbacks","observerCallbacks","domReadyListener","hadHugeMutationsBefore_1","subscribedForReadyState_1","onHugeMutations","elementsOperations_1","onMinorMutations","subtree","set","size","parsedURLCache","fixBaseURL","$url","createElement","href","parseURL","$base","key","parsedURL_1","URL","parsedURL","getAbsoluteURL","$relative","test","location","protocol","b","isRelativeHrefOnAbsolutePath","base","hostname","port","exec","pathname","iterateCSSRules","rules","iterate","onMediaRuleError","rule","selectorText","styleSheet","cssRules","media","isScreenOrAll","some","isPrintOrSpeech","conditionText","CSS","supports","shorthandVarDependantProperties","shorthandVarDepPropRegexps","map","prop","RegExp","iterateCSSDeclarations","style","property","getPropertyValue","trim","cssText","regexp","val","cssURLRegex","cssImportRegex","getCSSURLValue","cssURL","replace","getCSSBaseBath","replaceCSSRelativeURLsWithAbsolute","$css","cssBasePath","pathValue","cssCommentsRegex","removeCSSComments","fontFaceRegex","replaceCSSFontFace","hslToRGB","h","_c","x","Math","round","r_1","b_1","c","abs","_d","rgbToHSL","r255","g255","b255","max","min","toFixed","digits","fixed","dot","indexOf","zerosMatch","index","substring","rgbToString","rgb","rgbToHexString","toString","hslToString","hsl","rgbMatch","hslMatch","hexMatch","parse","$color","parseRGB","parseHSL","parseHex","knownColors","getColorByName","systemColors","getSystemColor","getNumbers","numbers","prevPos","isMining","startIndex","getNumbersFromString","str","range","units","raw","unitsList","entries","unit","find","u","parseFloat","rgbRange","rgbUnits","$rgb","hslRange","hslUnits","PI","$hsl","$hex","parseInt","isCharDigit","char","getAmountOfDigits","number","floor","log10","lowerCalcExpression","color","searchIndex","replaceBetweenIndices","end","replacement","getNumber","resultNumber","Number","lenDigits","firstNumber","operation","secondNumber","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","ActiveBorder","ActiveCaption","AppWorkspace","Background","ButtonFace","ButtonHighlight","ButtonShadow","ButtonText","CaptionText","GrayText","Highlight","HighlightText","InactiveBorder","InactiveCaption","InactiveCaptionText","InfoBackground","InfoText","Menu","MenuText","Scrollbar","ThreeDDarkShadow","ThreeDFace","ThreeDHighlight","ThreeDLightShadow","ThreeDShadow","Window","WindowFrame","WindowText","scale","inLow","inHigh","outLow","outHigh","clamp","multiplyMatrices","m1","m2","j","len2","sum","k","len3","getMatches","regex","input","group","matches","formatCSS","trimLeft","getIndent","depth","repeat","emptyRuleRegexp","css","split","formatted","line","getParenthesesRange","searchStartIndex","firstOpenIndex","openIndex","closingIndex","createFilterMatrix","config","Matrix","identity","invertNHue","applyColorMatrix","matrix","getBgPole","theme","getFgPole","colorModificationCache","colorParseCache$1","parseToHSLWithCache","clearColorModificationCache","rgbCacheKeys","themeCacheKeys$1","getCacheId","resultId","modifyColorWithCache","modifyHSL","poleColor","anotherPoleColor","fnCache","rf","gf","bf","noopHSL","modifyColor","modifyLightSchemeColor","poleBg","modifyLightModeHSL","poleFg","isDark","hx","sx","MAX_BG_LIGHTNESS","modifyBgHSL","pole","isNeutral","lx_1","lx","modifyBackgroundColor","FilterMode","MIN_FG_LIGHTNESS","modifyBlueFgHue","hue","modifyFgHSL","isBlue","lx_2","hx_4","modifyForegroundColor","modifyBorderHSL","modifyBorderColor","modifyShadowColor","filter","modifyGradientColor","createTextStyle","lines","getCSSFilterValue","filters","dark","toSVGMatrix","getSVGFilterMatrixValue","counter","resolvers$1","rejectors","bgFetch","request","imageManager","AsyncQueue","queue","timerId","frameDuration","addToQueue","entry","startQueue","stopQueue","_this","getImageDetails","dataURL","image_1","error_2","getImageDataURL","urlToImage","src","width","naturalWidth","height","naturalHeight","analyzeImage","image","Image","onload","onerror","canvas","context","MAX_ANALIZE_PIXELS_COUNT","createCanvas","maxWidth","maxHeight","getContext","imageSmoothingEnabled","removeCanvas","MAX_IMAGE_SIZE","currentSrc","isLight","isTransparent","isLarge","isTooLarge","naturalPixelsCount","sqrt","ceil","clearRect","drawImage","d","getImageData","TRANSPARENT_ALPHA_THRESHOLD","DARK_LIGHTNESS_THRESHOLD","LIGHT_LIGHTNESS_THRESHOLD","transparentPixelsCount","darkPixelsCount","lightPixelsCount","totalPixelsCount","opaquePixelsCount","getFilteredImageDataURL","svg","btoa","cleanImageProcessingCache","getPriority","ruleStyle","Boolean","getPropertyPriority","getModifiableCSSDeclaration","variablesStore","ignoreImageSelectors","isCancelled","modifier","getVariableModifier","important","sourceValue","getVariableDependantModifier","getColorModifier","getBgImageModifier","getShadowModifier","getModifiedUserAgentStyle","isIFrame","getModifiedScrollbarStyle","getModifiedSelectionStyle","getSelectionColor","backgroundColorSelection","foregroundColorSelection","modifiedSelectionColor","selection","colorTrack","colorIcons","colorThumb","colorThumbHover","colorThumbActive","colorCorner","hsl_1","lighten","lighter","darken","darker","getModifiedFallbackStyle","strict","unparsableColors","colorParseCache","parseColorWithCache","tryParseColor","rgb_1","gradientRegex","imageDetailsCache","awaitingForImageLoading","shouldIgnoreImage","selectors","ruleSelectors","_loop_1","ignoredSelector","state_1","gradients","urls","getIndices","valueIndex","matches_1","sort","getGradientModifier_1","gradient","content","colorStopRegex","parts","part","space","lastIndexOf","colorStopMatch","modify","getURLModifier_1","urlValue","parentStyleSheet","baseURL","ownerNode","baseURI","absoluteValue","imageDetails","awaiters_1","getBgImageValue_1","modifiers_1","index_1","matchStart","prefixStart","matchEnd","all","asyncResults","getShadowModifierWithInfo","index_2","colorMatches_1","notParsed_1","modifiers_2","prefixIndex","matchIndex","modified","matchesLength","unparseableMatchesLength","shadowModifier","ignoredImgSelectors","getModifierForVariable","varName","getModifierForVarDependant","cleanModificationCache","VAR_TYPE_BGCOLOR","VAR_TYPE_TEXTCOLOR","VAR_TYPE_BORDERCOLOR","VAR_TYPE_BGIMG","VariablesStore","varTypes","rulesQueue","definedVars","varRefs","unknownColorVars","unknownBgVars","undefinedVars","initialVarTypes","changedTypeVars","typeChangeSubscriptions","unstableVarValues","isVarType","typeNum","addRulesForMatching","matchVariablesAndDependants","collectRootVariables","collectVariablesAndVarDep","collectRootVarDependants","refs","resolveVariableType","findVarRef","ref","itarateVarRefs","options","getDeclarations","declarations","addModifiedValue","varNameWrapper","colorModifier","modifiedValue","isVarDependant","isConstructedColorVar","insertVarValues","replaceCSSVariablesNames","fallback","wrapBgColorVariableName","tryModifyBgColor","wrapTextColorVariableName","tryModifyTextColor","wrapBorderColorVariableName","tryModifyBorderColor","wrapBgImgVariableName","bgModifier","onTypeChange","decs","subscribeForVarTypeChange","removeListeners","unsubscribeFromVariableTypeChanges","isBg_1","isText_1","unknownVars","variableReplaced","modifiedShadow","firstUnknownVar","values","newValue","colorTypeMatch","rootStore","ruleList","isVariable","inspectVariable","inspectVarDependant","documentElement","initialType","newType","iterateVarDeps","isBgColor","varDeps","iterateVarDependencies","stack","refs_1","refs_1_1","found","setOnRootVariableChange","onRootVariableDefined","putRootVars","styleElement","e_2","sheet","deleteRule","cssLines","declarations_1","declarations_1_1","e_2_1","insertRule","getVariableRange","searchStart","getVariablesMatches","ranges","replaceVariablesMatches","replacer","matchesCount","inputLength","replacements","getVariableNameAndFallback","name","commaIndex","nameReplacer","fallbackReplacer","newName","source","varValues","containsUnresolvedVar","replaced","varValue","inserted","overrides","customProp","cssProp","dataAttr","overridesList","normalizedPropList","INLINE_STYLE_ATTRS","INLINE_STYLE_SELECTOR","attr","getInlineOverrideStyle","getInlineStyleElements","Document","querySelectorAll","treeObservers","attrObservers","watchForInlineStyles","elementStyleDidChange","shadowRootDiscovered","deepWatchForInlineStyles","host","discoveredNodes","WeakSet","discoverNodes","el","treeObserver","added","attemptCount","handleAttributeMutations","attributeName","target","attrObserver","attributeCache","attributes","attributeFilter","stopWatchingForInlineStyles","inlineStyleCache","filterProps","getInlineStyleCacheKey","getAttribute","shouldIgnoreInlineStyle","element","ingnoredSelector","overrideInlineStyle","ignoreInlineSelectors","unsetProps","keys","removeAttribute","hasAttribute","setCustomProp","rel","SVGElement","SMALL_SVG_LIMIT_1","value_1","SVGTextElement","handleSVGElement","getBoundingClientRect","SVGLineElement","overridenProp","setProperty","fill","targetCSSProp","modifierCSSProp","cssVal","mod","setAttribute","metaThemeColorName","metaThemeColorSelector","srcMetaThemeColor","changeMetaThemeColor","meta","changeMetaThemeColorWhenAvailable","loop","HTMLMetaElement","head","restoreMetaThemeColor","themeCacheKeys","getThemeKey","asyncQueue","createStyleSheetModifier","renderId","rulesTextCache","rulesModCache","varTypeChangeCleaners","prevFilterKey","hasNonLoadedLink","wasRebuilt","shouldRebuildStyle","modifySheet","sourceCSSRules","ignoreImageAnalysis","force","prepareSheet","isAsyncCancelled","rulesChanged","notFoundCacheKeys","themeKey","themeChanged","modRules","textDiffersFromPrev","parentRule","CSSMediaRule","mediaText","modDecs","modRule","selector","asyncDeclarations","varDeclarations","asyncDeclarationCounter","varDeclarationCounter","rootReadyGroup","isGroup","groupRefs","getGroup","readyStyleRule","readyDeclarations","handleAsyncDeclaration","asyncKey","asyncDeclaration","currentRenderId","asyncValue","rebuildAsyncRule","handleVarDeclarations","varDecs","varKey","initialIndex","oldDecs","tempDec","readyDec","newDecs","readyVarDecs","rebuildVarRule","buildStyleSheet","setRule","getDeclarationText","dec","ruleText","createTarget","iterateReadyRules","styleIterator","STYLE_SELECTOR","shouldManageStyle","HTMLStyleElement","SVGStyleElement","HTMLLinkElement","disabled","classList","contains","getManageableStyles","deep","syncStyleSet","corsStyleSet","canOptimizeUsingProxy$1","loadingLinkCounter","rejectorsForLoadingLinks","cleanLoadingLinks","manageStyle","update","loadingStart","loadingEnd","prevStyles","nextElementSibling","corsCopy","syncStyle","corsCopyPositionWatcher","syncStylePositionWatcher","cancelAsyncOperations","isOverrideEmpty","sheetModifier","observerOptions","characterData","containsCSSImport","textContent","hasImports","checkCrossOrigin","cssRulesLoop","getRulesSync","safeGetSheetRules","insertStyle","createSyncStyle","createElementNS","title","isLoadingRules","wasLoadingError","loadingLinkId","getRulesAsync","accessError","fullCSSText","getRulesOrError","isStillLoadingError","linkLoading","loadText","replaceCSSImports","createCORSCopy","details","catch","forceRenderStyle","render","removeCSSRulesFromSheet","replaceSync","prepareOverridesSheet","buildOverrides","message","watchForSheetChanges","watchForSheetChangesUsingProxy","watchForSheetChangesUsingRAF","rulesChangeKey","rulesCheckFrameId","getRulesChangeKey","didRulesKeyChange","stopWatchingForSheetChangesUsingRAF","checkForUpdate","areSheetChangesPending","onSheetChange","handleSheetChanges","queueMicrotask","stopWatchingForSheetChangesUsingProxy","stopWatchingForSheetChanges","pause","destroy","watch","maxMoveCount","moveCount","link","loadingId","cleanUp","onLoad","onError","getCSSImportURL","importDeclaration","basePath","importMatches","importMatches_1","importMatches_1_1","importURL","absoluteURL","importedCSS","srcElement","cors","observedRoots","elementsDefinitionCallback","observers","undefinedGroups","collectUndefinedElements","tag","tagName","extendedTag","customElementsWhenDefined","elements","canOptimizeUsingProxy","resolvers","handleIsDefined","detail","customElements","whenDefined","dispatchEvent","CustomEvent","checkIfDefined_1","watchWhenCustomElementsDefined","unsubscribeFromDefineCustomElements","watchForStyleChanges","currentStyles","stopWatchingForStyleChanges","prevStyleSiblings","nextStyleSiblings","saveStylePosition","previousElementSibling","forgetStylePosition","didStylePositionChange","handleStyleOperations","operations","createdStyles","removedStyles","movedStyles","created","removed","moved","updated","handleMinorTreeMutations","subscribeForShadowRootChanges","handleHugeTreeMutations","styles","updatedStyles","hosts","newStyles","resetObservers","hexify","generateUID","crypto","uuid","randomUUID","getRandomValues","Uint8Array","adoptedStyleOverrides","overrideList","createAdoptedStyleSheetOverride","injectSheet","override","newSheets","adoptedStyleSheets","sheetIndex","existingIndex","adoptedStyleSheet","CSSStyleSheet","injectProxy","addRuleDescriptor","getOwnPropertyDescriptor","insertRuleDescriptor","deleteRuleDescriptor","removeRuleDescriptor","documentStyleSheetsDescriptor","shouldWrapHTMLElement","getElementsByTagNameDescriptor","defineProperty","addUndefinedResolver","updateSheetEvent","Event","proxyAddRule","proxyInsertRule","returnValue","proxyDeleteRule","proxyRemoveRule","proxyDocumentStyleSheets","filtered","setPrototypeOf","StyleSheetList","proxyGetElementsByTagName","getCurrentElementValue","NodeList","Proxy","INSTANCE_ID","styleManagers","adoptedStyleManagers","fixes","isIFrame$1","ignoredImageAnalysisSelectors","ignoredInlineSelectors","createOrUpdateStyle","className","createOrUpdateScript","nodePositionWatchers","setupNodePositionWatcher","alias","stopStylePositionWatchers","watcher","createStaticStyleOverrides","fallbackStyle","userAgentStyle","textStyle","invertStyle","isArray","invert","inlineStyle","overrideStyle","replaceCSSTemplates","appendChild","variableStyle","selectionColors","schemeBackgroundColor","schemeTextColor","rootVarsStyle","proxyScript","append","remove","shadowRootsWithOverrides","createShadowStaticStyleOverrides","$cssText","cleanFallbackStyle","createDynamicStyleOverrides","cancelRendering","newManagers","createManager","manager","loadingStyles","inlineStyleElements","handleAdoptedStyleSheets","loadingStylesCounter","loadingStyleId","didDocumentShowUp","removeManager","throttledRenderAllStyles","onDOMReady","documentVisibilityListener","hidden","watchForDocumentVisibility","alreadyWatching","stopWatchingForDocumentVisibility","createThemeAndWatchForUpdates","runDynamicStyle","watchForUpdates","newManger","stylesToRemove","stylesToManage","stylesToRestore","stopWatchingForUpdates","createDarkReaderInstanceMarker","metaElement","isAnotherDarkReaderInstanceActive","createOrUpdateDynamicTheme","filterConfig","dynamicThemeFixes","iframe","ignoreInlineStyle","headObserver_1","removeDynamicTheme","removeProxy","cleanDynamicThemeCache","blobRegex","replaceBlobs","promises","promise","banner","collectCSS","addStaticCSS","comment","staticStyle","modifiedCSS","formattedCSS","isDarkReaderEnabled","self","top","warn","enable","themeOptions","isEnabled","disable","matchMedia","store","handleColorScheme","auto","removeListener","exportGeneratedCSS","setFetchMethod","factory"],"sourceRoot":""}